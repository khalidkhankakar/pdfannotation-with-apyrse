{"version":3,"sources":["webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/utils.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss?5cfb","webpack:///./src/ui/src/helpers/pageManipulationFunctions.js","webpack:///../src/index.ts","webpack:///./src/ui/src/components/Outline/Context.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/isRef.js","webpack:///./src/ui/src/constants/dnd.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/vendor/detectElementResize.js","webpack:///./src/ui/src/components/Spinner/Spinner.js","webpack:///./src/ui/src/components/Spinner/index.js","webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss?1d5f","webpack:///./src/ui/src/components/Spinner/Spinner.scss?ed1d","webpack:///./src/ui/src/components/Spinner/Spinner.scss","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.js","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/calculateSizeAndPositionDataAndUpdateScrollOffset.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/CellSizeAndPositionManager.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/maxElementSize.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/utils/updateScrollIndexHelper.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/animationFrame.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/Grid.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Grid/accessibilityOverscanIndicesGetter.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ArrowKeyStepper/types.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ArrowKeyStepper/ArrowKeyStepper.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/AutoSizer/AutoSizer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurerCache.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/CollectionView.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/Section.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/SectionManager.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/utils/getUpdatedOffsetForIndex.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/Collection.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/utils/calculateSizeAndPositionData.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Collection/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ColumnSizer/ColumnSizer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ColumnSizer/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/InfiniteLoader/InfiniteLoader.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/InfiniteLoader/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/List/List.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/vendor/binarySearchBounds.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/vendor/intervalTree.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Masonry/PositionCache.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Masonry/Masonry.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Masonry/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/MultiGrid/CellMeasurerCacheDecorator.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/MultiGrid/MultiGrid.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/ScrollSync/ScrollSync.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultHeaderRowRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/SortDirection.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/SortIndicator.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultHeaderRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultRowRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/Column.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/Table.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultCellDataGetter.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/defaultCellRenderer.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/Table/index.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/WindowScroller/utils/dimensions.js","webpack:///./src/ui/node_modules/react-virtualized/dist/es/WindowScroller/WindowScroller.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/disposables.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.js","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/index.js","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.js","webpack:///./src/ui/src/components/OutlineContent/index.js","webpack:///./src/ui/node_modules/core-js/modules/es.string.ends-with.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useCollector.js","webpack:///./src/ui/node_modules/fast-deep-equal/index.js","webpack:///./src/ui/src/components/SignaturePanel/Spinner/Spinner.scss?1db5","webpack:///./src/ui/src/components/SignaturePanel/Spinner/Spinner.scss","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss?795b","webpack:///./src/ui/src/components/SignaturePanel/SignatureIcon/SignatureIcon.scss","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.scss?1717","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.scss","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.scss?b9c4","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.scss","webpack:///./src/ui/node_modules/core-js/modules/es.array-buffer.constructor.js","webpack:///./src/ui/node_modules/core-js/modules/es.typed-array.int8-array.js","webpack:///./src/ui/node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js","webpack:///./src/ui/src/helpers/setVerificationResult.js","webpack:///./src/ui/src/components/SignaturePanel/Spinner/index.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetLocator/WidgetLocator.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetLocator/index.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/WidgetInfo.js","webpack:///./src/ui/src/components/SignaturePanel/WidgetInfo/index.js","webpack:///./src/ui/src/components/SignaturePanel/SignaturePanel.js","webpack:///./src/ui/src/components/SignaturePanel/index.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/interfaces.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/predicates.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/offsets.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/supportsPassive.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/OptionsReader.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/TouchBackend.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/utils/math.js","webpack:///./src/ui/node_modules/react-dnd-touch-backend/dist/esm/index.js","webpack:///./src/ui/src/components/Element/Element.scss?5aab","webpack:///./src/ui/src/components/Element/Element.scss","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss?17dd","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.scss?2450","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.scss","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss?2e51","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss","webpack:///./src/ui/src/components/Outline/Outline.scss?a897","webpack:///./src/ui/src/components/Outline/Outline.scss","webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss?f400","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.scss?eb1a","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.scss","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss?2fb7","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss?dd93","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss?8aa0","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss?b775","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss","webpack:///./src/ui/src/components/Element/Element.js","webpack:///./src/ui/src/components/Element/index.js","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.js","webpack:///./src/ui/src/components/OutlineControls/index.js","webpack:///./src/ui/src/components/Outline/Outline.js","webpack:///./src/ui/src/components/Outline/index.js","webpack:///./src/ui/src/components/PageManipulationOverlayButton/PageManipulationOverlayButtonContainer.js","webpack:///./src/ui/src/components/PageManipulationOverlayButton/index.js","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.js","webpack:///./src/ui/src/components/ThumbnailControls/index.js","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.js","webpack:///./src/ui/src/components/Thumbnail/ThumbnailRedux.js","webpack:///./src/ui/src/components/Thumbnail/index.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/CustomLeftPanelOperations/CustomLeftPanelOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMore/LeftPanelPageTabsMore.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsert/LeftPanelPageTabsInsert.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsOperations/LeftPanelPageTabsOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsLarge/LeftPanelPageTabsLarge.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsContainer.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/index.js","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.js","webpack:///./src/ui/src/components/DocumentControls/index.js","webpack:///./src/ui/src/helpers/pageManipulation.js","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.js","webpack:///./src/ui/src/components/ThumbnailsPanel/index.js","webpack:///./src/ui/src/components/Bookmark/Bookmark.js","webpack:///./src/ui/src/components/Bookmark/index.js","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.js","webpack:///./src/ui/src/components/BookmarksPanel/index.js","webpack:///./src/ui/src/components/FileAttachmentPanel/FileAttachmentPanel.js","webpack:///./src/ui/src/components/FileAttachmentPanel/index.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/TargetConnector.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/registration.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/internals/SourceConnector.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/DropTarget.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","webpack:///./src/ui/node_modules/react-dnd/dist/esm/decorators/DragSource.js","webpack:///./src/ui/node_modules/@pdftron/webviewer-react-toolkit/dist/esm/components/Input/Input.js","webpack:///./src/ui/src/components/LeftPanelTabs/LeftPanelTabs.scss?8f6d","webpack:///./src/ui/src/components/LeftPanelTabs/LeftPanelTabs.scss","webpack:///./src/ui/src/components/PortfolioItemContent/PortfolioItemContent.scss?cc43","webpack:///./src/ui/src/components/PortfolioItemContent/PortfolioItemContent.scss","webpack:///./src/ui/src/components/PortfolioItem/PortfolioItem.scss?6c9e","webpack:///./src/ui/src/components/PortfolioItem/PortfolioItem.scss","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioPanel.scss?1ad7","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioPanel.scss","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss?71a9","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss","webpack:///./src/ui/src/components/LeftPanel/LeftPanel.scss?33e4","webpack:///./src/ui/src/components/LeftPanel/LeftPanel.scss","webpack:///./src/ui/src/components/LeftPanelTabs/LeftPanelTabs.js","webpack:///./src/ui/src/components/LeftPanelTabs/index.js","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioContext.js","webpack:///./src/ui/src/components/PortfolioItemContent/PortfolioItemContent.js","webpack:///./src/ui/src/components/PortfolioItemContent/index.js","webpack:///./src/ui/src/components/PortfolioItem/PortfolioItem.js","webpack:///./src/ui/src/components/PortfolioItem/index.js","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioDragLayer.js","webpack:///./src/ui/src/components/PortfolioPanel/PortfolioPanel.js","webpack:///./src/ui/src/components/PortfolioPanel/index.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesDragLayer.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.js","webpack:///./src/ui/src/components/OutlinesPanel/index.js","webpack:///./src/ui/src/components/LeftPanel/LeftPanel.js","webpack:///./src/ui/src/components/LeftPanel/index.js","webpack:///./src/ui/node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","Component","render","_item$$$typeof","item","$$typeof","toString","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","isFunction","input","noop","isPlainObject","isObjectLike","Object","getPrototypeOf","proto","isValidType","type","allowArray","Array","isArray","every","t","api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","getNewRotation","curr","counterClockwise","Core","PageRotation","E_0","E_90","E_180","E_270","rotatePages","pageNumbers","doc","core","getDocument","docType","workerTypes","PDF","IMAGE","WEBVIEWER_SERVER","isWebViewerServerDocument","rotation","index","docViewer","getDocumentViewer","currentRotations","getPageRotations","page","setRotation","rotateClockwise","createAnnouncement","i18next","getPageRotation","getCurrentPage","rotateCounterClockwise","insertAbove","width","height","insertBlankPages","insertBelow","map","replace","dispatch","actions","closeElement","DataElements","PAGE_MANIPULATION_OVERLAY","openElement","extractPages","message","title","confirmBtnText","secondaryBtnText","extractAnnouncement","deleteAnnouncement","warning","onConfirm","extractPagesWithAnnotations","then","file","saveAs","onSecondary","removePages","setSelectedPageThumbnails","showWarningMessage","deletePages","isModalEnabled","setShiftKeyThumbnailsPivotIndex","getPageCount","Promise","resolve","movePagesToBottom","movePages","getTotalPages","movePagesToTop","noPagesSelectedWarning","keepOpen","exitPageInsertionWarning","closeModal","exitPageReplacementWarning","redactPages","redactionStyles","applyRedactions","createPageRedactions","annots","pageInfo","getPageInfo","pageRotation","redaction","Annotations","RedactionAnnotation","PageNumber","Rect","redactionTypeMap","setCustomData","Author","getCurrentUser","getAnnotationManager","addAnnotations","drawAnnotationsFromList","replacePages","sourceDocument","pagesToRemove","pagesToReplaceIntoDocument","documentLoadedInViewer","pageCountOfLoadedDocument","pagesToRemoveFromOriginal","sort","a","b","insertPages","pagesToInsert","insertBeforeThisPage","shallowEqual","objA","objB","compare","compareContext","compareResult","call","keysA","keys","keysB","bHasOwnProperty","hasOwnProperty","bind","idx","key","valueA","valueB","OutlineContext","React","createContext","useDragDropManager","dragDropManager","useContext","DndContext","invariant","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","throwIfCompositeComponentElement","element","displayName","name","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","arguments","undefined","isValidElement","node","ref","cloneWithRef","wrapHookToRecognizeElement","setRef","newRef","previousRef","cloneElement","isRef","ItemTypes","OUTLINE","PORTFOLIO","DropLocation","ON_TARGET_HORIZONTAL_MIDPOINT","ABOVE_TARGET","BELOW_TARGET","INITIAL","BUFFER_ROOM","createDetectElementResize","nonce","hostWindow","_window","cancel","raf","attachEvent","self","global","requestFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resetTriggers","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","style","offsetWidth","offsetHeight","scrollListener","e","target","className","indexOf","this","__resizeRAF__","__resizeLast__","checkTriggers","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","split","startEvents","elm","createElement","animationName","toLowerCase","animationKeyframes","animationStyle","addResizeListener","ownerDocument","elementStyle","getComputedStyle","position","getElementById","css","setAttribute","styleSheet","cssText","createTextNode","createStyles","resizeTriggersHtml","trustedTypes","staticPolicy","createPolicy","createHTML","addEventListener","__animationListener__","removeResizeListener","detachEvent","splice","removeEventListener","removeChild","Spinner","spinnerStyle","propTypes","PropTypes","oneOf","isRequired","anchorButton","string","shouldDisplayDeleteButton","bool","onClosePopup","func","onRenameClick","onSetDestinationClick","onDownloadClick","onDeleteClick","onOpenClick","MoreOptionsContextMenuPopup","useTranslation","containerRef","useRef","useState","left","right","top","setPosition","Portal","children","mount","getRootNode","querySelector","zIndex","createPortal","getOverlayPositionBasedOn","onClickOutside","useCallback","contains","useOnClickOutside","DataElementWrapper","dataElement","Button","img","label","ariaLabel","onClick","stopPropagation","calculateSizeAndPositionDataAndUpdateScrollOffset","_ref","cellCount","cellSize","computeMetadataCallback","computeMetadataCallbackProps","nextCellsCount","nextCellSize","nextScrollToIndex","scrollToIndex","updateScrollOffsetForScrollToIndex","CellSizeAndPositionManager","cellSizeGetter","estimatedCellSize","_cellSizeGetter","_cellCount","_estimatedCellSize","value","_ref2","_lastMeasuredIndex","lastMeasuredCellSizeAndPosition","getSizeAndPositionOfLastMeasuredCell","offset","size","isNaN","_cellSizeAndPositionData","_lastBatchedIndex","_ref3","_ref3$align","align","containerSize","currentOffset","targetIndex","idealOffset","datum","getSizeAndPositionOfCell","maxOffset","minOffset","Math","max","min","totalSize","getTotalSize","params","start","_findNearestCell","stop","high","low","middle","floor","interval","_binarySearch","lastMeasuredIndex","_exponentialSearch","getMaxElementSize","chrome","ScalingCellSizeAndPositionManager","_ref$maxScrollSize","maxScrollSize","_cellSizeAndPositionManager","_maxScrollSize","configure","getCellCount","getEstimatedCellSize","getLastMeasuredIndex","safeTotalSize","offsetPercentage","_getOffsetPercentage","round","_safeOffsetToOffset","getUpdatedOffsetForIndex","_offsetToSafeOffset","_ref4","getVisibleCellRange","resetCell","_ref5","_ref6","_ref7","createCallbackMemoizer","requireAllKeys","cachedIndices","callback","indices","allInitialized","indexChanged","some","cachedValue","join","updateScrollIndexHelper","cellSizeAndPositionManager","previousCellsCount","previousCellSize","previousScrollToAlignment","previousScrollToIndex","previousSize","scrollOffset","scrollToAlignment","sizeJustIncreasedFromZero","updateScrollIndexCallback","hasScrollToIndex","win","_class","_temp","request","oRequestAnimationFrame","msRequestAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","caf","frame","delay","Date","now","timeout","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","source","getOwnPropertyDescriptors","defineProperties","defineProperty","SCROLL_POSITION_CHANGE_REASONS","_React$PureComponent","Grid","props","_this","_disablePointerEventsTimeoutId","setState","isScrolling","needToResetStyleCache","onSectionRendered","_onGridRenderedMemoizer","columnOverscanStartIndex","_columnStartIndex","columnOverscanStopIndex","_columnStopIndex","columnStartIndex","_renderedColumnStartIndex","columnStopIndex","_renderedColumnStopIndex","rowOverscanStartIndex","_rowStartIndex","rowOverscanStopIndex","_rowStopIndex","rowStartIndex","_renderedRowStartIndex","rowStopIndex","_renderedRowStopIndex","_scrollingContainer","event","handleScrollEvent","columnSizeAndPositionManager","columnCount","_wrapSizeGetter","columnWidth","_getEstimatedColumnSize","rowSizeAndPositionManager","rowCount","rowHeight","_getEstimatedRowSize","state","instanceProps","prevColumnWidth","prevRowHeight","prevColumnCount","prevRowCount","prevIsScrolling","prevScrollToColumn","scrollToColumn","prevScrollToRow","scrollToRow","scrollbarSize","scrollbarSizeMeasured","scrollDirectionHorizontal","scrollDirectionVertical","scrollPositionChangeReason","_initialScrollTop","_getCalculatedScrollTop","_initialScrollLeft","_getCalculatedScrollLeft","_ref$alignment","alignment","_ref$columnIndex","columnIndex","_ref$rowIndex","rowIndex","offsetProps","_ref2$scrollLeft","scrollLeftParam","_ref2$scrollTop","scrollTopParam","_debounceScrollEnded","_this$props","autoHeight","autoWidth","totalRowsHeight","totalColumnsWidth","newState","_invokeOnScrollMemoizer","_deferredInvalidateColumnIndex","_deferredInvalidateRowIndex","_this$props2","_ref4$columnIndex","_ref4$rowIndex","_this$props3","_recomputeScrollLeftFlag","_recomputeScrollTopFlag","_styleCache","_cellCache","forceUpdate","_updateScrollLeftForScrollToColumn","_updateScrollTopForScrollToRow","_this$props4","getScrollbarSize","_handleInvalidatedGridSize","prevState","stateUpdate","_getScrollToPositionStateUpdate","sizeIsBiggerThanZero","_invokeOnGridRenderedHelper","_maybeCallOnScrollbarPresenceChange","prevProps","_this2","_this$props5","_this$state","columnOrRowCountJustIncreasedFromZero","_this$props6","autoContainerWidth","containerProps","containerRole","containerStyle","noContentRenderer","role","tabIndex","_this$state2","_isScrolling","gridStyle","boxSizing","direction","WebkitOverflowScrolling","willChange","_resetStyleCache","_calculateChildrenToRender","verticalScrollBarSize","horizontalScrollBarSize","_horizontalScrollBarSize","_verticalScrollBarSize","_scrollbarPresenceChanged","overflowX","overflowY","childrenToDisplay","_childrenToDisplay","showNoContentRenderer","_setScrollingContainerRef","onScroll","_onScroll","maxWidth","maxHeight","overflow","pointerEvents","cellRenderer","cellRangeRenderer","deferredMeasurementCache","overscanColumnCount","overscanIndicesGetter","overscanRowCount","isScrollingOptOut","visibleColumnIndices","visibleRowIndices","horizontalOffsetAdjustment","getOffsetAdjustment","verticalOffsetAdjustment","overscanColumnIndices","overscanCellsCount","scrollDirection","startIndex","stopIndex","overscanRowIndices","overscanStartIndex","overscanStopIndex","hasFixedHeight","has","hasFixedWidth","cellCache","parent","styleCache","scrollingResetTimeInterval","_debounceScrollEndedCallback","recomputeGridSize","_this3","_onScrollMemoizer","_this3$props","clientHeight","clientWidth","Boolean","onScrollbarPresenceChange","horizontal","vertical","_ref8","_getScrollLeftForScrollToColumnStateUpdate","_getScrollTopForScrollToRowStateUpdate","nextProps","assign","maybeStateA","maybeStateB","estimatedColumnSize","estimatedRowSize","_ref9","finalColumn","scrollBarSize","calculatedScrollLeft","finalRow","calculatedScrollTop","renderedCells","areOffsetsAdjusted","canCacheStyle","rowDatum","columnDatum","isVisible","cellRendererParams","renderedCell","ArrowKeyStepper","_getPrototypeOf2","_len","args","_key","disabled","mode","_this$_getScrollState","_getScrollState","scrollToColumnPrevious","scrollToRowPrevious","_this$_getScrollState2","preventDefault","_updateScrollState","_this$_getScrollState3","onKeyDown","_onKeyDown","_onSectionRendered","isControlled","onScrollToChange","_React$Component","AutoSizer","defaultHeight","defaultWidth","disableHeight","disableWidth","onResize","_parentNode","paddingLeft","parseInt","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","autoSizer","_autoSizer","parentNode","defaultView","HTMLElement","_detectElementResize","_onResize","outerStyle","childParams","_setRef","CellMeasurer","cache","_this$props$columnInd","_this$props$rowIndex","_this$_getCellMeasure","_getCellMeasurements","getHeight","getWidth","set","Element","console","warn","_child","_maybeMeasureCell","measure","_measure","registerChild","_registerChild","styleWidth","styleHeight","ceil","_this$props2$columnIn","_this$props2$rowIndex","_this$_getCellMeasure2","invalidateCellSizeAfterRender","CellMeasurerCache","_keyMapper","_columnWidthCache","_defaultWidth","_rowHeightCache","_defaultHeight","fixedHeight","fixedWidth","keyMapper","minHeight","minWidth","_hasFixedHeight","_hasFixedWidth","_minHeight","_minWidth","defaultKeyMapper","_cellHeightCache","_cellWidthCache","_updateCachedColumnAndRowSizes","_rowCount","_columnCount","_key2","columnKey","_i","rowKey","get","CollectionView","cellLayoutManager","_onSectionRenderedMemoizer","getLastRenderedIndices","scrollToCell","scrollPosition","getScrollPositionForCell","cellIndex","_setScrollPosition","_enablePointerEventsAfterDelay","isScrollingChange","_scrollbarSize","_cellLayoutManager$ge","totalHeight","totalWidth","cancelable","_scrollbarSizeMeasured","_calculateSizeAndPositionDataOnNextUpdate","_updateScrollPositionForScrollToCell","_invokeOnSectionRenderedHelper","_cellLayoutManager$ge2","horizontalOverscanSize","verticalOverscanSize","_this$state3","_lastRenderedCellCount","_lastRenderedCellLayoutManager","calculateSizeAndPositionData","_cellLayoutManager$ge3","bottom","cellRenderers","x","y","collectionStyle","Section","_indexMap","_indices","SectionManager","sectionSize","_sectionSize","_cellMetadata","_sections","getSections","section","getCellIndices","sectionXStart","sectionXStop","sectionYStart","sectionYStop","sections","sectionX","sectionY","cellMetadatum","addCellIndex","_ref$align","cellOffset","Collection","context","_lastRenderedCellIndices","_isScrollingChange","_setCollectionViewRef","_collectionView","recomputeCellSizesAndPositions","data","cellSizeAndPositionGetter","cellMetadata","sectionManager","registerCell","_sectionManager","_height","_width","cellGroupRenderer","getCellMetadata","cellRendererProps","ColumnSizer","columnMaxWidth","columnMinWidth","_registeredChild","safeColumnMinWidth","safeColumnMaxWidth","adjustedWidth","getColumnWidth","child","InfiniteLoader","_loadMoreRowsMemoizer","_onRowsRendered","autoReload","_doStuff","_lastRenderedStartIndex","_lastRenderedStopIndex","onRowsRendered","unloadedRanges","loadMoreRows","unloadedRange","promise","lastRenderedStartIndex","lastRenderedStopIndex","component","currentIndex","recomputeSize","recomputeRowHeights","forceUpdateReactVirtualizedComponent","isRowLoaded","minimumBatchSize","threshold","rangeStartIndex","rangeStopIndex","potentialStopIndex","_index","firstUnloadedRange","_index2","scanForUnloadedRanges","squashedUnloadedRanges","_loadUnloadedRanges","registeredChild","List","rowRenderer","widthDescriptor","writable","getOffsetForCell","measureAllCells","_ref6$columnIndex","_ref6$rowIndex","scrollToPosition","noRowsRenderer","classNames","_cellRenderer","ge","c","l","h","m","_GEP","_GEA","gt","_GTP","_GTA","lt","_LTP","_LTA","le","_LEP","_LEA","eq","p","_EQP","_EQA","IntervalTreeNode","mid","leftPoints","rightPoints","count","copy","rebuild","intervals","ntree","createIntervalTree","rebuildWithInterval","rebuildWithoutInterval","reportLeftRange","arr","hi","cb","r","reportRightRange","lo","reportRange","compareNumbers","compareBegin","d","compareEnd","pts","leftIntervals","rightIntervals","centerIntervals","s","slice","IntervalTree","result","insert","weight","remove","n","queryPoint","queryInterval","tproto","PositionCache","defaultCellHeight","unmeasuredCellCount","tallestColumnSize","renderCallback","_intervalTree","_leftMap","columnSizeMap","_columnSizeMap","columnHeight","Masonry","eventScrollTop","currentTarget","_getEstimatedTotalHeight","_debounceResetIsScrolling","_positionCache","_invalidateOnUpdateStartIndex","_invalidateOnUpdateStopIndex","_populatePositionCache","_checkInvalidateOnUpdate","_invokeOnScrollCallback","_invokeOnCellsRenderedCallback","_debounceResetIsScrollingId","cellMeasurerCache","overscanByPixels","rowDirection","estimateTotalHeight","shortestColumnSize","measuredCellCount","range","_style","batchSize","_startIndex","_stopIndex","_debounceResetIsScrollingCallback","estimatedColumnCount","_onScrollMemoized","_startIndexMemoized","_stopIndexMemoized","onCellsRendered","cellPositioner","_cellPositioner","CellMeasurerCacheDecorator","_cellMeasurerCache","_columnIndexOffset","_rowIndexOffset","_params$columnIndexOf","columnIndexOffset","_params$rowIndexOffse","rowIndexOffset","clear","clearAll","MultiGrid","showHorizontalScrollbar","showVerticalScrollbar","_bottomLeftGrid","_bottomRightGrid","rest","fixedRowCount","fixedColumnCount","scrollInfo","_topLeftGrid","_topRightGrid","_fixedColumnCount","_fixedRowCount","_maybeCalculateCachedStyles","_deferredMeasurementCacheBottomLeftGrid","_deferredMeasurementCacheBottomRightGrid","_deferredMeasurementCacheTopRightGrid","_ref7$columnIndex","_ref7$rowIndex","_ref8$columnIndex","_ref8$rowIndex","adjustedColumnIndex","adjustedRowIndex","_leftGridWidth","_topGridHeight","_this$props7","_this$props8","_prepareForRender","_this$state4","_containerOuterStyle","_containerTopStyle","_renderTopLeftGrid","_renderTopRightGrid","_containerBottomStyle","_renderBottomLeftGrid","_renderBottomRightGrid","_getTopGridHeight","leftGridWidth","_getLeftGridWidth","topGridHeight","resetAll","_this$props9","enableFixedColumnScroll","enableFixedRowScroll","styleBottomLeftGrid","styleBottomRightGrid","styleTopLeftGrid","styleTopRightGrid","sizeChange","_lastRenderedHeight","_lastRenderedWidth","leftSizeChange","_lastRenderedColumnWidth","_lastRenderedFixedColumnCount","topSizeChange","_lastRenderedFixedRowCount","_lastRenderedRowHeight","_lastRenderedStyle","_lastRenderedStyleBottomLeftGrid","_bottomLeftGridStyle","_lastRenderedStyleBottomRightGrid","_bottomRightGridStyle","_lastRenderedStyleTopLeftGrid","_topLeftGridStyle","_lastRenderedStyleTopRightGrid","_topRightGridStyle","hideBottomLeftGridScrollbar","additionalRowCount","_getBottomGridHeight","gridWidth","bottomLeftGrid","_cellRendererBottomLeftGrid","classNameBottomLeftGrid","_onScrollTop","_bottomLeftGridRef","_rowHeightBottomGrid","_cellRendererBottomRightGrid","classNameBottomRightGrid","_columnWidthRightGrid","_onScrollbarPresenceChange","_bottomRightGridRef","_getRightGridWidth","classNameTopLeftGrid","_topLeftGridRef","hideTopRightGridScrollbar","_this$state5","additionalColumnCount","additionalHeight","gridHeight","topRightGrid","_cellRendererTopRightGrid","classNameTopRightGrid","_onScrollLeft","_topRightGridRef","ScrollSync","defaultHeaderRowRenderer","columns","ASC","DESC","SortIndicator","sortDirection","viewBox","fill","defaultHeaderRenderer","dataKey","sortBy","showSortIndicator","defaultRowRenderer","onRowClick","onRowDoubleClick","onRowMouseOut","onRowMouseOver","onRowRightClick","rowData","a11yProps","onDoubleClick","onMouseOut","onMouseOver","onContextMenu","Column","cellDataGetter","cellData","String","defaultSortDirection","flexGrow","flexShrink","headerRenderer","Table","scrollbarWidth","_createColumn","_createRow","_ref3$columnIndex","_ref3$rowIndex","_Grid","_setScrollbarWidth","disableHeader","gridClassName","headerHeight","headerRowRenderer","rowClassName","rowStyle","availableRowsHeight","rowClass","rowStyleObject","_cachedColumnStyles","toArray","column","flexStyles","_getFlexStyleForColumn","_getHeaderColumns","onColumnClick","_column$props","columnData","headerOnClick","headerOnKeyDown","headerTabIndex","headerAriaSort","headerAriaLabel","headerClassName","headerStyle","onHeaderClick","_column$props2","disableSort","sortEnabled","ReactVirtualized__Table__sortableHeaderColumn","renderedHeader","newSortDirection","rowGetter","flattenedStyle","_getRowHeight","customStyle","flexValue","flex","msFlex","WebkitFlex","_this4","_createHeader","getScrollbarWidth","mountedInstances","originalBodyPointerEvents","disablePointerEventsTimeoutId","enablePointerEventsIfDisabled","body","enablePointerEventsAfterDelayCallback","instance","__resetIsScrolling","onScrollWindow","maximumTimeout","enablePointerEventsAfterDelay","scrollElement","__handleWindowScrollEvent","registerScrollListener","unregisterScrollListener","isWindow","getBoundingBox","getBoundingClientRect","getDimensions","innerHeight","innerWidth","serverHeight","serverWidth","getPositionOffset","container","documentElement","containerElement","elementRect","containerRect","getScrollOffset","_elementRect","_containerRect","scrollY","scrollX","getWindow","WindowScroller","updatePosition","scrollTo","_positionFromTop","_isMounted","_positionFromLeft","thisNode","dimensions","_registerResizeListener","prevScrollElement","_unregisterResizeListener","onChildScroll","_onChildScroll","_classCallCheck","Constructor","TypeError","_defineProperties","descriptor","configurable","_createClass","protoProps","staticProps","_defineProperty","Disposable","action","isDisposed","dispose","isDisposable","empty","CompositeDisposable","disposables","shouldDispose","len","currentDisposables","_i2","SerialDisposable","old","_slicedToArray","_arrayWithHoles","_s","_e","_arr","_n","_d","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","from","test","_unsupportedIterableToArray","_nonIterableRest","arr2","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","collect","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","_Component","subClass","superClass","create","_inherits","_super","createRef","nextState","getCurrentState","disposable","receiveProps","handlerId","currentType","handleChange","handler","receiveType","handlerMonitor","manager","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","getMonitor","subscribeToStateChange","handlerIds","setDisposable","_jsx","Consumer","receiveDragDropManager","_this2$handlerConnect","reconnect","getBackend","hoistStatics","badge","SignatureIcon","Icon","glyph","text","outlinePath","isAdding","isOutlineRenaming","setOutlineRenaming","isOutlineChangingDest","setOutlineChangingDest","setIsHovered","onCancel","textColor","OutlineContent","currentDestPage","currentDestText","editingOutlines","setEditingOutlines","isMultiSelectMode","isOutlineEditable","addNewOutline","renameOutline","updateOutlineDest","updateOutlines","removeOutlines","isDefault","setIsDefault","outlineText","setOutlineText","isContextMenuOpen","setContextMenuOpen","inputRef","onAddOutline","trim","onRenameOutline","onCancelOutline","isRenameButtonDisabled","focus","select","editingOutlinesClone","isOutlineEditing","textStyle","color","setToolMode","placeholder","aria-label","onChange","fontStyle","isSubmitType","$","uncurryThis","f","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","un$EndsWith","CORRECT_IS_REGEXP_LOGIC","forced","searchString","that","endPosition","end","search","useCollector","monitor","onUpdate","_useState2","collected","setCollected","updateCollected","nextValue","equal","RegExp","flags","arrayBufferModule","setSpecies","ArrayBuffer","createTypedArrayConstructor","init","byteOffset","certificates","trustLists","currentLanguage","revocationChecking","revocationProxyPrefix","getVerificationResult","verificationResult","setVerificationResult","PDFNet","VerificationResult","TrustStatus","DigestStatus","ModificationPermissionsStatus","DocumentStatus","verificationResults","runWithCleanup","getPDFDoc","VerificationOptions","SecurityLevel","e_compatibility_and_archiving","opts","enableOnlineCRLRevocationChecking","setRevocationProxyPrefix","certificate","addTrustedCertificateFromURL","error","File","fileReader","FileReader","arrayBufferPromise","reject","Uint8Array","readAsArrayBuffer","addTrustedCertificate","Int8Array","Uint8ClampedArray","trustList","trustListDataStructure","supportedDataStructures","fdfDocBuffer","arrayBuffer","includes","FDFDoc","createFromMemoryBuffer","fdf","loadTrustList","getFieldIteratorBegin","fieldIterator","hasNext","field","isValid","Field","Type","e_signature","DigitalSignatureField","createFromField","digitalSigField","verify","getSDFObj","getObjNum","signer","signTime","documentPermission","isCertification","contactInfo","location","reason","validAtTimeOfSigning","signerName","issuerField","subjectField","hasCryptographicSignature","signed","getSubFilter","subFilter","SubFilterType","e_adbe_pkcs7_detached","getSignerCertFromCMS","signerCert","getSubjectField","retrievedSubjectField","processX501DistinguishedName","processedSubjectField","e_ETSI_RFC3161","getSignatureName","getContactInfo","getSigningTime","formatPDFNetDate","getLocation","getReason","getDocumentPermissions","getVerificationStatus","verificationStatus","getDocumentStatus","documentStatus","getDigestStatus","digestStatus","getTrustStatus","trustStatus","getPermissionsStatus","permissionStatus","getDigestAlgorithm","digestAlgorithm","getDisallowedChanges","change","getTypeAsString","objnum","all","disallowedChanges","validSignerIdentity","e_trust_verified","trustVerificationResultString","trustVerificationResultBoolean","timeOfTrustVerificationEnum","trustVerificationTime","hasTrustVerificationResult","getTrustVerificationResult","trustVerificationResult","wasSuccessful","getResultString","getTimeOfTrustVerificationEnum","getTimeOfTrustVerification","epochTrustVerificationTime","formatDate","getCertPath","certPath","firstX509Cert","getIssuerField","retrievedIssuerField","processedIssuerField","lastX509Cert","getNotBeforeEpochTime","notBeforeEpochTime","getNotAfterEpochTime","notAfterEpochTime","badgeIcon","e_no_error","e_digest_verified","e_digest_verification_disabled","e_no_trust_status","e_unmodified","e_has_allowed_changes","e_permissions_verification_disabled","e_commonName","getName","fieldName","date","year","month","day","hour","minute","second","UTC","toLocaleDateString","weekday","timeZoneName","epochTime","setUTCSeconds","x501DistinguishedNameObject","processedObject","getAllAttributesAndValues","allAttributeAndValues","x501AttributeTypeAndValue","getAttributeTypeOID","objectIdentifier","getRawValue","getStringValue","translateObjectIdentifierBotanOID","objectIdentifierOIDenum","JSON","stringify","WidgetLocator","rect","show","setShow","scrollViewContainer","getScrollViewElement","handleScroll","ReactDOM","y1","x1","x2","y2","border","renderPermissionStatus","translate","e_invalidated_by_disallowed_changes","e_no_permissions_status","collapsible","instanceOf","Forms","WidgetInfo","verificationType","useSelector","selectors","isExpanded","setIsExpanded","locatorRect","setLocatorRect","signatureDetailsExpanded","setSignatureDetailsExpanded","TimeMode","useDispatch","jumpToWidget","widgets","widget","jumpToAnnotation","getRect","windowTopLeft","getDisplayModeObject","pageToWindow","windowBottomRight","titleInteraction","openSignatureModal","setSignatureValidationModalWidgetName","Fragment","onKeyPress","arrow","expanded","verificationTimeMessage","e_current","e_signing","e_timestamp","renderTrustVerification","SignaturePanel","fields","setFields","showSpinner","setShowSpinner","certificateErrorMessage","setCertificateErrorMessage","setDocument","isElementDisabled","getCertificates","getTrustLists","getCurrentLanguage","getIsRevocationCheckingEnabled","getRevocationProxyPrefix","isDisabled","onDocumentLoaded","onDocumentUnloaded","onAnnotationChanged","annotations","isInFormCreationMode","getFormFieldCreationManager","isInFormFieldCreationMode","addSignatureWidgetAnnotations","getAnnotationsList","removeAnnotations","addNonSignedFields","currentAnnotations","currentFields","annotation","SignatureWidgetAnnotation","getField","newSet","Set","removeMatchingWidget","annot","widgetFieldName","getCustomData","RectangleAnnotation","annotationManager","widgetToDelete","Id","deleteAnnotations","resetFields","getAnnotationsLoadedPromise","fieldManager","getFieldManager","data-element","panelData","panelNames","SIGNATURE","icon","renderLoadingOrErrors","ListenerType","MouseButtons","MouseButton","eventShouldStartDrag","button","isTouchEvent","targetTouches","getEventClientOffset","lastTargetTouchFallback","touches","getEventClientTouchOffset","clientX","clientY","supportsPassive","supported","_eventNames","OptionsReader","incoming","enableTouchEvents","enableMouseEvents","enableKeyboardEvents","ignoreContextMenu","enableHoverOutsideTarget","touchSlop","scrollAngleRanges","delayTouchStart","delayMouseStart","eventNames","mouse","move","contextmenu","touch","keyboard","keydown","TouchBackend","getSourceClientOffset","sourceId","nodeType","parentElement","_el$getBoundingClient","getNodeClientOffset","sourceNodes","handleTopMoveStartCapture","moveStartSourceIds","handleMoveStart","unshift","handleTopMoveStart","clientOffset","_mouseClientOffset","waitingForDelay","handleTopMoveStartDelay","handleTopMoveCapture","dragOverTargetIds","handleMove","_","targetId","handleTopMove","isDragging","angleRanges","angle","atan2","PI","inAngleRanges","sqrt","pow","abs","beginDrag","publishSource","sourceNode","getSourceId","installSourceNodeRemovalObserver","publishDragSource","dragOverTargetNodes","targetNodes","elementsAtPoint","getDropTargetElementsAtPoint","elementsFromPoint","elementsAtPointExtended","nodeId","currentNode","orderedDragOverTargetIds","ids","reverse","hover","handleTopMoveEndCapture","buttons","eventShouldEndDrag","didDrop","uninstallSourceNodeRemovalObserver","drop","endDrag","handleCancelOnEscape","getActions","sourcePreviewNodes","sourcePreviewNodeOptions","listenerTypes","isSetUp","getTopMoveStartHandler","subject","capture","passive","listenerType","evt","coords","droppedOn","elementFromPoint","childMatch","_this5","draggedSourceNode","draggedSourceNodeRemovalObserver","MutationObserver","resurrectSourceNode","observe","childList","display","removeAttribute","disconnect","createBackend","PureComponent","connect","ownProps","OutlineControls","outlines","getOutlines","activeOutlinePath","setActiveOutlinePath","up","down","outward","inward","canMove","setCanMove","nextIndexRef","isFullPDFEnabled","outlineUtils","getCanMoveState","setCanMoveState","moveOutlineUp","nextIndex","moveOutlineDown","moveOutlineOutward","moveOutlineInward","OUTLINE_CONTROLS","OUTLINE_MOVE_UP_BUTTON","OUTLINE_MOVE_DOWN_BUTTON","OUTLINE_MOVE_OUTWARD_BUTTON","OUTLINE_MOVE_INWARD_BUTTON","outline","setMultiSelected","moveOutlineBeforeTarget","moveOutlineAfterTarget","connectDragSource","connectDragPreview","connectDropTarget","isDraggedUpwards","isDraggedDownwards","Outline","forwardRef","isOutlineActive","setAddingNewOutline","isAddingNewOutline","isAnyOutlineRenaming","shouldAutoExpandOutlines","selectedOutlines","getPath","isSelected","setIsSelected","isRenaming","setIsRenaming","isChangingDest","setChangingDest","isHovered","setHovered","clearSingleClick","setClearSingleClick","elementRef","getEmptyImage","captureDraggingState","opacity","useImperativeHandle","getNode","startsWith","rgbObject","rValue","gValue","bValue","toggleOutline","onSingleClick","goToOutline","isMobile","isActive","detail","Choice","checked","marginLeft","getNestedLevel","getChildren","OutlineNested","getOutlineId","DropTarget","dropTargetMonitor","dropTargetContainer","dragObject","getItem","dragOutline","dragSourceNode","dropOutline","dropTargetNode","dropLocation","dragIndex","hoverIndex","dropTargetBoundingRect","dropTargetVerticalMiddlePoint","dropTargetClientY","getClientOffset","isOver","shallow","classList","add","fireEvent","Events","DRAG_OUTLINE","targetOutline","draggedOutline","DROP_OUTLINE","dropTargetState","dropTarget","DragSource","dragSourceMonitor","dragSourceContainer","canDrag","isIE","dragSourceState","dragSource","dragPreview","PageManipulationOverlayButtonContainer","PageManipulationOverlayButton","pageIndex","selectedPageIndexes","getSelectedThumbnailPageIndexes","ToggleElementButton","PAGE_MANIPULATION_OVERLAY_BUTTON","number","ThumbnailControls","isMoreOptionDisabled","pageDeletionConfirmationModalEnabled","isPageDeletionConfirmationModalEnabled","selectedIndexes","getThumbnailControlMenuItems","currentPage","pageThumbnailControlMenuItems","documentType","isXod","XOD","isOffice","OFFICE","LEGACY_OFFICE","BUTTONS_MAP","onClickAnnouncement","isCustomized","occurredButtons","Thumbnail","updateAnnotations","shiftKeyThumbnailPivotIndex","onFinishLoading","onLoad","onRemove","onDragStart","onDragOver","isDraggable","shouldShowControls","thumbnailSize","pageLabels","isThumbnailMultiselectEnabled","isReaderModeOrReadOnly","canLoad","isThumbnailSelectingPages","thumbnailSelectionMode","activeDocumentViewerKey","panelSelector","thumbSize","Number","setDimensions","loaded","setLoaded","loadTimeout","loadThumbnailAsync","thumbnailContainer","pageNum","viewerRotation","getRotation","loadCanvas","pageNumber","drawComplete","thumb","childElement","ratio","cssTransform","allowUseOfOptimizedThumbnail","onPagesUpdated","changes","contentChanged","moved","added","removed","isPageAdded","didPageChange","changedPage","didPageMove","movedPage","isPageRemoved","newPageCount","onRotationUpdated","useDidUpdate","pageLabel","checkboxRotateClass","active","selected","draggable","checkboxToggled","multiSelectionKeyPressed","ctrlKey","metaKey","shiftKeyPressed","shiftKey","updatedSelectedPages","setThumbnailSelectingPages","shiftKeyPivot","currSelectMinIndex","currSelectMaxIndex","thumbnailSelectionModes","lastSelectedPageIndex","setCurrentPage","getPageLabels","isReaderMode","isDocumentReadOnly","getShiftKeyThumbnailPivotIndex","getThumbnailSelectionMode","getActiveDocumentViewerKey","selectionModes","LeftPanelPageTabsMoreSmall","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER","LeftPanelPageTabsInsertSmall","CustomLeftPanelOperations","operations","operation","LeftPanelPageTabsRotate","onRotateClockwise","onRotateCounterClockwise","InitialLeftPanelPageTabsSmall","multiPageManipulationControlsItems","childrenArray","Children","find","LeftPanelPageTabsSmall","multiPageManipulationControlsItemsSmall","LeftPanelPageTabsMore","THUMBNAILS_CONTROL_MANIPULATE_POPUP","THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER","LeftPanelPageTabsMove","moveToTop","moveToBottom","InitialLeftPanelPageTabs","LeftPanelPageTabs","LeftPanelPageTabsInsert","onInsert","LeftPanelPageTabsOperations","onReplace","onExtractPages","onDeletePages","LeftPanelPageTabsLarge","LeftPanelPageTabsContainer","widthMinusMargins","isInMobile","getPanelWidth","getLeftPanelWidth","getMultiPageManipulationControlsItems","getMultiPageManipulationControlsItemsSmall","getMultiPageManipulationControlsItemsLarge","isInDesktopOnlyMode","panelWidth","deleteModalEnabled","multiPageManipulationControlsSmall","multiPageManipulationControlsLarge","isDesktopOnlyMode","panelMinWidth","isPanelLarge","childProps","getPageString","selectedPageArray","pagesToPrint","sortedPages","prevIndex","DocumentControls","initialPagesString","pageString","setPageString","previousPageString","setPreviousPageString","enableThumbnailSelectingPages","onBlur","selectedPagesString","pages","getPageArrayFromString","pageIndexes","updatedString","pageNumberPlaceholder","arrayOf","toggleDocumentControl","mergeDocument","srcToMerge","mergeToPage","shouldFireEvent","LOADING_MODAL","mergeResults","DOCUMENT_MERGED","ThumbnailsPanel","parentDataElement","isElementOpen","getIsThumbnailMergingEnabled","getIsThumbnailReorderingEnabled","getIsMultipleViewerMerging","openingPageManipulationOverlayByRightClickEnabled","isLeftPanelOpen","totalPages","isThumbnailMergingEnabled","isThumbnailReorderingEnabled","isMultipleViewerMerging","isThumbnailControlDisabled","isThumbnailSliderDisabled","totalPagesFromSecondaryDocumentViewer","isRightClickEnabled","listRef","pendingThumbs","thumbs","afterMovePageNumber","isOfficeEditor","setIsOfficeEditor","setCanLoad","setHeight","setWidth","draggingOverPageIndex","setDraggingOverPageIndex","isDraggingToPreviousPage","setDraggingToPreviousPage","numberOfColumns","setNumberOfColumns","setIsDragging","setThumbnailSize","lastTimeTriggered","setLastTimeTriggered","globalIndex","setGlobalIndex","pageCount","activeThumbRenders","thumbContainer","pageWidth","getPageWidth","pageHeight","getThumbnailSize","getPageHeight","annotCanvas","ctx","getContext","zoom","getCompleteRotation","multiplier","getCanvasMultiplier","setAnnotationCanvasTransform","overrideCanvas","overridePageRotation","overridePageCanvas","debounce","drawAnnotations","debouncedDraw","onBeginRendering","onFinishedRendering","needsMoreRendering","onPageComplete","updatedPagesIndexes","isPageAddedBefore","Listable","onPageNumberUpdated","onDragEnd","scrollToRowHelper","time","getTime","thumbnail","pageX","pageY","hoverAreaHeight","scrollDown","scrollUp","draggingSelectedPage","pagesToMove","THUMBNAIL_DRAGGED","dataTransfer","setData","setDragImage","Image","dropEffect","effectAllowed","frameElement","extractedDataPromise","pagesExtracted","onDrop","externalPageWebViewerFrameId","files","insertTo","isIE11","getData","viewerID","mergingDocument","currentPageIndex","otherWebViewerIframe","contentWindow","docToMerge","filename","targetPageNumber","pageNumbersToMove","updatedPagesNumbers","THUMBNAIL_DROPPED","pageNumbersBeforeMove","pagesNumbersAfterMove","numberOfPagesMoved","thumbIsLoaded","thumbIsPending","removeFromPendingThumbs","getPendingThumbIndex","cancelLoadThumbnail","findIndex","thumbStatus","canvases","renderThumbnails","columnsOfThumbnails","row","allowPageOperationsUI","thumbIndex","allowDragAndDrop","showPlaceHolder","setPageManipulationOverlayAlternativePosition","openElements","updateNumberOfColumns","thumbnailHeight","thumbnailAutoScrollAreaStyle","hideTooltipShortcut","aria-valuemin","aria-valuemax","aria-valuenow","step","bounds","measureRef","defaultLabel","isMultiSelectionMode","setSelected","onSave","Bookmark","isEditing","setIsEditing","bookmarkText","setBookmarkText","onSaveBookmark","onCancelBookmark","BookmarksPanel","BOOKMARK_PANEL","getBookmarks","isBookmarkIconShortcutVisible","bookmarks","isAddingNewBookmark","setAddingNewBookmark","setMultiSelectionMode","selectingBookmarks","setSelectingBookmarks","setBookmarkIconShortcutVisibility","bm","onRemoveBookmarks","confirmationWarning","removeBookmark","BOOKMARK_MULTI_SELECT","BOOKMARK_SHORTCUT_OPTION","isSwitch","newText","addBookmark","editBookmark","val","BOOKMARK_ADD_NEW_BUTTON_CONTAINER","BOOKMARK_ADD_NEW_BUTTON","getActualFileName","match","renderAttachment","onClickCallback","showFileIdProcessSpinner","fileExtension","pop","toUpperCase","initialFilesDefault","embeddedFiles","fileAttachmentAnnotations","FileAttachmentPanel","initialFiles","fileAttachments","setFileAttachments","isMultiTab","getIsMultiTab","tabManager","getTabManager","setFileIdProcessSpinner","updateFileAttachments","getFileAttachments","attachments","entries","FILE_ATTACHMENT","attachmentPanelItemOnClick","fileAttachmentAnnot","getFileData","blob","addTab","newTabId","LEFT_PANEL","setActiveTab","trigger","getEmbeddedFileData","fileObject","fileAttachmentAnnotsPerPage","selectAnnotation","isCallingCanDrop","DropTargetMonitorImpl","internalMonitor","listener","canDropOnTarget","isOverTarget","getItemType","getDropResult","getInitialClientOffset","getInitialSourceClientOffset","getDifferenceFromInitialOffset","TargetConnector","backend","clearDropTarget","dropTargetOptions","dropTargetRef","didChange","didHandlerIdChange","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedHandlerId","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","newHandlerId","dropTargetOptionsInternal","registerTarget","registry","getRegistry","addTarget","removeTarget","registerSource","addSource","removeSource","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","canDragSource","isDraggingSource","getTargetIds","isSourcePublic","subscribeToOffsetChange","SourceConnector","clearDragSource","dragSourceOptions","dragSourceRef","reconnectDragSource","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","useDragLayer","_useCollector2","ALLOWED_SPEC_METHODS","TargetImpl","spec","canDrop","createTargetFactory","createTarget","REQUIRED_SPEC_METHODS","SourceImpl","globalMonitor","createSourceFactory","createSource","Input","_a","_b","messageText","fillWidth","wrapperClassName","padMessageText","onFocus","rightElement","leftElement","_c","focused","handleOnFocus","handleOnBlur","rightIcon","wrapperClass","mainClass","inputClass","LeftPanelTabs","panel","activePanel","showPortfolio","customPanels","isLeftPanelTabsDisabled","setActiveLeftPanel","notesInLeftPanel","PORTFOLIO_PANEL","PORTFOLIO_PANEL_BUTTON","NOTES_PANEL","tab","disabledCustomPanelTabs","array","mapDispatchToProps","getActiveLeftPanel","getCustomPanels","getDisabledCustomPanelTabs","getNotesInLeftPanel","withTranslation","PortfolioContext","portfolioItem","isPortfolioRenaming","setPortfolioRenaming","PortfolioItemContent","setAddingNewFolder","addNewFolder","refreshPortfolio","renamePortfolioItem","removePortfolioItem","openPortfolioItem","downloadPortfolioItem","isNameDuplicated","nameWithoutExtension","extension","isFolder","portfolioEditName","setPortfolioEditName","onAddFolder","onRenamePortfolioItem","onCancelPortfolio","isOpenableFile","movePortfolioInward","movePortfolioBeforeTarget","movePortfolioAfterTarget","PortfolioItem","setActivePortfolioItem","isPortfolioItemActive","isAddingNewFolder","togglePortfolioItem","hasChildren","PortfolioItemNested","dragPortfolioItem","dropPortfolioItem","layerStyles","getItemStyles","initialOffset","transform","WebkitTransform","PortfolioDragLayer","dragLayerState","itemType","renderDragItemPreview","PortfolioPanel","getPortfolio","portfolioFiles","activePortfolioItem","fileInputRef","onAddFile","click","addNewFile","fileName","pdfDoc","addFile","newName","renamePortfolioFile","getPortfolioFiles","setPortfolio","downloadPortfolioFile","dragItem","dropItem","log","moveFileInArray","dragItemId","dropItemId","moveDirection","fileArray","fromIndex","dropItemIndex","moveToIndex","MoveDirection","order","reorderPortfolioFile","PORTFOLIO_ADD_FILE","Provider","fileToRemove","deletePortfolioFile","enableMultiTab","addPortfolioTab","DndProvider","isMobileDevice","TouchBackEnd","HTML5Backend","OutlinesDragLayer","renderDragItem","OutlinesPanel","OUTLINE_PANEL","isOutlineControlVisible","getOutlineEditingEnabled","outlineControlVisibility","outlineEditingEnabled","defaultDestText","areaDestinationText","defaultDestCoord","setCurrentDestText","currentDestCoord","setCurrentDestCoord","setCurrentDestPage","setOutlineEditable","setAnyOutlineRenaming","setMultiSelectMode","setSelectedOutlines","nextPathRef","TOOL_NAME","tool","getTool","isAnyEditing","values","onSetDestination","onOutlinesBookmarksChanged","setOutlines","getCurrentDestViewerCoord","getViewerCoordinates","outlineName","tmp","addRootOutline","nextPath","clearOutlineDestination","defaultTool","setOutlineDestination","generalMoveOutlineAction","dragPath","dropPath","path","moveOutlineInTarget","setOutlineName","outlinesToRemove","fullIndex","deleteOutline","OUTLINE_MULTI_SELECT","OUTLINE_ADD_NEW_BUTTON_CONTAINER","OUTLINE_ADD_NEW_BUTTON","memo","LeftPanel","isMobileSize","isTabletAndMobile","isTabletAndMobileSize","getCurrentToolbarGroup","LOGO_BAR","getFeatureFlags","getTopHeadersHeight","getBottomHeadersHeight","currentToolbarGroup","isHeaderOpen","isToolsHeaderOpen","isOfficeEditorToolsHeaderOpen","isOpen","currentWidth","isBookmarkPanelEnabled","isMultiTabActive","isLogoBarEnabled","featureFlags","topHeadersHeight","bottomHeadersHeight","getDisplay","setBookmarkShortcutToggleOnFunction","setBookmarkShortcutToggleOffFunction","setUserBookmarks","legacyToolsHeaderOpen","legacyAllHeadersHidden","wrapperStyle","customizableUI","horizontalHeadersHeight","Panel","closeElements","LayersPanel","LazyLoadWrapper","LazyLoadComponents","NotesPanel","currentLeftPanelWidth","CustomElement","ResizeBar","maxAllowedWidth","setLeftPanelWidth","emptyImage","src"],"mappings":"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","file":"chunks/21.chunk.js","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanelPageTabsContainer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import extractPagesWithAnnotations from 'helpers/extractPagesWithAnnotations';\nimport core from 'core';\nimport { saveAs } from 'file-saver';\nimport actions from 'actions';\nimport i18next from 'i18next';\nimport { workerTypes } from 'constants/types';\nimport { redactionTypeMap } from 'constants/redactionTypes';\nimport DataElements from 'constants/dataElement';\nimport { createAnnouncement } from './accessibility';\n\nconst getNewRotation = (curr, counterClockwise = false) => {\n  const { E_0, E_90, E_180, E_270 } = window.Core.PageRotation;\n  switch (curr) {\n    case E_270:\n      return counterClockwise ? E_180 : E_0;\n    case E_180:\n      return counterClockwise ? E_90 : E_270;\n    case E_90:\n      return counterClockwise ? E_0 : E_180;\n    default:\n      return counterClockwise ? E_270 : E_90;\n  }\n};\n\nconst canRotateLoadedDocument = () => {\n  const doc = core.getDocument();\n  const docType = doc?.type;\n\n  return (\n    workerTypes.PDF === docType ||\n    workerTypes.IMAGE === docType ||\n    (docType === workerTypes.WEBVIEWER_SERVER && !doc.isWebViewerServerDocument())\n  );\n};\n\nconst rotatePages = (pageNumbers, counterClockwise) => {\n  if (canRotateLoadedDocument()) {\n    const rotation = counterClockwise ? window.Core.PageRotation.E_270 : window.Core.PageRotation.E_90;\n    pageNumbers.forEach((index) => {\n      core.rotatePages([index], rotation);\n    });\n  } else {\n    const docViewer = core.getDocumentViewer();\n    const currentRotations = docViewer.getPageRotations();\n    for (const page of pageNumbers) {\n      docViewer.setRotation(getNewRotation(currentRotations[page], counterClockwise), page);\n    }\n  }\n};\n\nconst rotateClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, false);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 90) % 360} degrees`);\n};\n\nconst rotateCounterClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, true);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedCounterClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 270) % 360} degrees`);\n};\n\nconst insertAbove = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers, width, height);\n};\n\nconst insertBelow = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers.map((i) => i + 1), width, height);\n};\n\nconst replace = (dispatch) => {\n  dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n  dispatch(actions.openElement('pageReplacementModal'));\n};\n\nconst extractPages = (pageNumbers, dispatch) => {\n  const message = i18next.t('warning.extractPage.message');\n  const title = i18next.t('warning.extractPage.title');\n  const confirmBtnText = i18next.t('warning.extractPage.confirmBtn');\n  const secondaryBtnText = i18next.t('warning.extractPage.secondaryBtn');\n  const extractAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.extracted')}`;\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: () => extractPagesWithAnnotations(pageNumbers).then((file) => {\n      saveAs(file, 'extractedDocument.pdf');\n      createAnnouncement(extractAnnouncement + deleteAnnouncement);\n    }),\n    secondaryBtnText,\n    onSecondary: () => {\n      extractPagesWithAnnotations(pageNumbers).then((file) => {\n        saveAs(file, 'extractedDocument.pdf');\n        core.removePages(pageNumbers).then(() => {\n          dispatch(actions.setSelectedPageThumbnails([]));\n        });\n        createAnnouncement(extractAnnouncement);\n      });\n    },\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst deletePages = (pageNumbers, dispatch, isModalEnabled = true) => {\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n  if (isModalEnabled) {\n    let message = i18next.t('warning.deletePage.deleteMessage');\n    const title = i18next.t('warning.deletePage.deleteTitle');\n    const confirmBtnText = i18next.t('action.ok');\n\n    let warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => core.removePages(pageNumbers).then(() => {\n        dispatch(actions.setSelectedPageThumbnails([]));\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n        createAnnouncement(deleteAnnouncement);\n      }),\n    };\n\n    if (core.getDocumentViewer().getPageCount() === pageNumbers.length) {\n      message = i18next.t('warning.deletePage.deleteLastPageMessage');\n\n      warning = {\n        message,\n        title,\n        confirmBtnText,\n        onConfirm: () => Promise.resolve(),\n      };\n    }\n\n    dispatch(actions.showWarningMessage(warning));\n  } else {\n    core.removePages(pageNumbers).then(() => {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n      createAnnouncement(deleteAnnouncement);\n    });\n  }\n};\n\nconst movePagesToBottom = (pageNumbers) => {\n  core.movePages(pageNumbers, core.getTotalPages() + 1);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToBottomOfDocument')}`);\n};\n\nconst movePagesToTop = (pageNumbers) => {\n  core.movePages(pageNumbers, 0);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToTopofDocument')}`);\n};\n\nconst noPagesSelectedWarning = (pageNumbers, dispatch) => {\n  if (pageNumbers.length === 0) {\n    const title = i18next.t('warning.selectPage.selectTitle');\n    const message = i18next.t('warning.selectPage.selectMessage');\n    const confirmBtnText = i18next.t('action.ok');\n\n    const warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => Promise.resolve(),\n      keepOpen: ['leftPanel'],\n    };\n\n    dispatch(actions.showWarningMessage(warning));\n    return true;\n  }\n  return false;\n};\n\nconst exitPageInsertionWarning = (closeModal, dispatch) => {\n  const title = i18next.t('insertPageModal.warning.title');\n  const message = i18next.t('insertPageModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst exitPageReplacementWarning = (closeModal, dispatch) => {\n  const title = i18next.t('option.pageReplacementModal.warning.title');\n  const message = i18next.t('option.pageReplacementModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst redactPages = (pageNumbers, redactionStyles) => {\n  core.applyRedactions(createPageRedactions(pageNumbers, redactionStyles));\n};\n\nconst createPageRedactions = (pageNumbers, redactionStyles) => {\n  const annots = [];\n  const document = core.getDocument();\n  for (const page of pageNumbers) {\n    const pageInfo = document.getPageInfo(page);\n    const pageRotation = document.getPageRotation(page);\n    if (pageInfo) {\n      let width;\n      let height;\n      if (pageRotation === 90 || pageRotation === 270) {\n        width = pageInfo.height;\n        height = pageInfo.width;\n      } else {\n        width = pageInfo.width;\n        height = pageInfo.height;\n      }\n      const redaction = new window.Core.Annotations.RedactionAnnotation({\n        PageNumber: page,\n        Rect: new window.Core.Annotations.Rect(0, 0, width, height),\n        ...redactionStyles\n      });\n      redaction.type = redactionTypeMap['FULL_PAGE'];\n      redaction.setCustomData('trn-redaction-type', redactionTypeMap['FULL_PAGE']);\n      redaction.Author = core.getCurrentUser();\n      annots.push(redaction);\n    }\n  }\n  core.getAnnotationManager().addAnnotations(annots);\n  core.getAnnotationManager().drawAnnotationsFromList(annots);\n  return annots;\n};\n\nconst replacePages = async (sourceDocument, pagesToRemove, pagesToReplaceIntoDocument) => {\n  const documentLoadedInViewer = core.getDocument();\n  const pageCountOfLoadedDocument = documentLoadedInViewer.getPageCount();\n  const pagesToRemoveFromOriginal = pagesToRemove.sort((a, b) => a - b);\n\n  // If document to replace into has only one page, or we are replacing all pages\n  // then we can insert pages at the end, and then remove the pages to avoid an error of removing all pages\n  if (pageCountOfLoadedDocument === 1 || pagesToRemoveFromOriginal.length === pageCountOfLoadedDocument) {\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument);\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n  } else {\n    // If document to replace into has > 1 page we need insert the new pages at the spot of the first removed page\n    // pagesToRemoveFromOriginal is sorted in ascending order. Interleaving pages would be complex.\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument, pagesToRemoveFromOriginal[0]);\n  }\n};\n\nconst insertPages = async (sourceDocument, pagesToInsert, insertBeforeThisPage = null) => {\n  const documentLoadedInViewer = core.getDocument();\n  await documentLoadedInViewer.insertPages(sourceDocument, pagesToInsert, insertBeforeThisPage);\n};\n\nexport {\n  rotateClockwise,\n  rotateCounterClockwise,\n  insertAbove,\n  insertBelow,\n  replace,\n  extractPages,\n  deletePages,\n  movePagesToBottom,\n  movePagesToTop,\n  noPagesSelectedWarning,\n  redactPages,\n  createPageRedactions,\n  replacePages,\n  insertPages,\n  exitPageInsertionWarning,\n  exitPageReplacementWarning\n};","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react';\n\nconst OutlineContext = React.createContext();\n\nexport default OutlineContext;","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","export const ItemTypes = {\n  OUTLINE: 'outline',\n  PORTFOLIO: 'portfolio',\n};\n\nexport const DropLocation = {\n  ON_TARGET_HORIZONTAL_MIDPOINT: 'onTargetHorizontalMidPoint',\n  ABOVE_TARGET: 'aboveTarget',\n  BELOW_TARGET: 'belowTarget',\n  INITIAL: 'initial',\n};\n\nexport const BUFFER_ROOM = 8;","/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Added support for injecting custom window object\n **/\nexport default function createDetectElementResize(nonce, hostWindow) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n\n  if (typeof hostWindow !== 'undefined') {\n    _window = hostWindow;\n  } else if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof _window.document !== 'undefined' && _window.document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n    /* Detect CSS Animations support to detect element display/re-attach */\n\n\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = _window.document.createElement('fakeelement');\n\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n\n        var elementStyle = _window.getComputedStyle(element);\n\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var resizeTriggersHtml = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n\n        if (window.trustedTypes) {\n          var staticPolicy = trustedTypes.createPolicy('react-virtualized-auto-sizer', {\n            createHTML: function createHTML() {\n              return resizeTriggersHtml;\n            }\n          });\n          element.__resizeTriggers__.innerHTML = staticPolicy.createHTML('');\n        } else {\n          element.__resizeTriggers__.innerHTML = resizeTriggersHtml;\n        }\n\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n        /* Listen for a css animation to detect element display/re-attach */\n\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {// Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = ({ height = '50px', width = '54px' }) => {\n  const spinnerStyle = {\n    height,\n    width,\n  };\n\n  return (\n    <div className=\"spinner\" style={spinnerStyle}></div>\n  );\n};\n\nexport default Spinner;","import Spinner from './Spinner';\n\nexport default Spinner;\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/dist/cjs.js!./bookmarksOutlinesShared.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Spinner.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.spinner{border-top:5px solid var(--border);border:5px solid var(--border);border-top-color:var(--focus-border);border-radius:50%;-webkit-animation:spin 1.2s ease infinite;animation:spin 1.2s ease infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport DataElementWrapper from 'components/DataElementWrapper';\n\nimport useOnClickOutside from 'hooks/useOnClickOutside';\nimport getOverlayPositionBasedOn from 'helpers/getOverlayPositionBasedOn';\n\nimport './MoreOptionsContextMenuPopup.scss';\nimport Button from '../Button';\nimport getRootNode from 'helpers/getRootNode';\n\nconst propTypes = {\n  type: PropTypes.oneOf(['bookmark', 'outline', 'portfolio']).isRequired,\n  anchorButton: PropTypes.string.isRequired,\n  shouldDisplayDeleteButton: PropTypes.bool,\n  onClosePopup: PropTypes.func.isRequired,\n  onRenameClick: PropTypes.func,\n  onSetDestinationClick: PropTypes.func,\n  onDownloadClick: PropTypes.func,\n  onDeleteClick: PropTypes.func,\n  onOpenClick: PropTypes.func,\n};\n\nconst MoreOptionsContextMenuPopup = ({\n  type,\n  anchorButton,\n  shouldDisplayDeleteButton,\n  onClosePopup,\n  onRenameClick,\n  onSetDestinationClick,\n  onDownloadClick,\n  onDeleteClick,\n  onOpenClick,\n}) => {\n  const [t] = useTranslation();\n  const containerRef = useRef(null);\n  const [position, setPosition] = useState({ left: -100, right: 'auto', top: 'auto' });\n\n  const Portal = ({ children, position }) => {\n    const mount = getRootNode().querySelector('#outline-edit-popup-portal');\n    mount.style.position = 'absolute';\n    mount.style.top = position.top === 'auto' ? position.top : `${position.top}px`;\n    mount.style.left = position.left === 'auto' ? position.left : `${position.left}px`;\n    mount.style.right = position.right === 'auto' ? position.right : `${position.right}px`;\n    mount.style.zIndex = 999;\n\n    return createPortal(children, mount);\n  };\n\n  useEffect(() => {\n    const position = getOverlayPositionBasedOn(anchorButton, containerRef);\n    setPosition(position);\n  }, [anchorButton]);\n\n  const onClickOutside = useCallback((e) => {\n    if (!containerRef?.current.contains(e.target)) {\n      onClosePopup();\n    }\n  });\n\n  useOnClickOutside(containerRef, onClickOutside);\n\n  return (\n    <Portal position={position}>\n      <DataElementWrapper\n        ref={containerRef}\n        className=\"more-options-context-menu-popup\"\n        dataElement={`${type}EditPopup`}\n      >\n        {type === 'portfolio' && onOpenClick &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}OpenFileButton`}\n            img=\"icon-portfolio-file\"\n            label={t('portfolio.openFile')}\n            ariaLabel={t('portfolio.openFile')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onOpenClick();\n            }}\n          />\n        }\n        <Button\n          className=\"option-button\"\n          dataElement={`${type}RenameButton`}\n          img=\"ic_edit_page_24px\"\n          label={t('action.rename')}\n          ariaLabel={t('action.rename')}\n          onClick={(e) => {\n            e.stopPropagation();\n            onRenameClick();\n          }}\n        />\n        {type === 'outline' &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}SetDestinationButton`}\n            img=\"icon-thumbtack\"\n            label={t('action.setDestination')}\n            ariaLabel={t('action.setDestination')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSetDestinationClick();\n            }}\n          />\n        }\n        {type === 'portfolio' &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}DownloadButton`}\n            img=\"icon-download\"\n            label={t('action.download')}\n            ariaLabel={t('action.download')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDownloadClick();\n            }}\n          />\n        }\n        {shouldDisplayDeleteButton &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}DeleteButton`}\n            img=\"icon-delete-line\"\n            label={t('action.delete')}\n            ariaLabel={t('action.delete')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDeleteClick();\n            }}\n          />\n        }\n      </DataElementWrapper>\n    </Portal>\n  );\n};\n\nMoreOptionsContextMenuPopup.propTypes = propTypes;\n\nexport default MoreOptionsContextMenuPopup;\n","import MoreOptionsContextMenuPopup from './MoreOptionsContextMenuPopup';\n\nexport default MoreOptionsContextMenuPopup;\n","/**\n * Helper method that determines when to recalculate row or column metadata.\n */\nexport default function calculateSizeAndPositionDataAndUpdateScrollOffset(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSize = _ref.cellSize,\n      computeMetadataCallback = _ref.computeMetadataCallback,\n      computeMetadataCallbackProps = _ref.computeMetadataCallbackProps,\n      nextCellsCount = _ref.nextCellsCount,\n      nextCellSize = _ref.nextCellSize,\n      nextScrollToIndex = _ref.nextScrollToIndex,\n      scrollToIndex = _ref.scrollToIndex,\n      updateScrollOffsetForScrollToIndex = _ref.updateScrollOffsetForScrollToIndex;\n\n  // Don't compare cell sizes if they are functions because inline functions would cause infinite loops.\n  // In that event users should use the manual recompute methods to inform of changes.\n  if (cellCount !== nextCellsCount || (typeof cellSize === 'number' || typeof nextCellSize === 'number') && cellSize !== nextCellSize) {\n    computeMetadataCallback(computeMetadataCallbackProps); // Updated cell metadata may have hidden the previous scrolled-to item.\n    // In this case we should also update the scrollTop to ensure it stays visible.\n\n    if (scrollToIndex >= 0 && scrollToIndex === nextScrollToIndex) {\n      updateScrollOffsetForScrollToIndex();\n    }\n  }\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\n/**\n * Just-in-time calculates and caches size and position information for a collection of cells.\n */\nvar CellSizeAndPositionManager =\n/*#__PURE__*/\nfunction () {\n  // Cache of size and position data for cells, mapped by cell index.\n  // Note that invalid values may exist in this map so only rely on cells up to this._lastMeasuredIndex\n  // Measurements for cells up to this index can be trusted; cells afterward should be estimated.\n  // Used in deferred mode to track which cells have been queued for measurement.\n  function CellSizeAndPositionManager(_ref) {\n    var cellCount = _ref.cellCount,\n        cellSizeGetter = _ref.cellSizeGetter,\n        estimatedCellSize = _ref.estimatedCellSize;\n\n    _classCallCheck(this, CellSizeAndPositionManager);\n\n    _defineProperty(this, \"_cellSizeAndPositionData\", {});\n\n    _defineProperty(this, \"_lastMeasuredIndex\", -1);\n\n    _defineProperty(this, \"_lastBatchedIndex\", -1);\n\n    _defineProperty(this, \"_cellCount\", void 0);\n\n    _defineProperty(this, \"_cellSizeGetter\", void 0);\n\n    _defineProperty(this, \"_estimatedCellSize\", void 0);\n\n    this._cellSizeGetter = cellSizeGetter;\n    this._cellCount = cellCount;\n    this._estimatedCellSize = estimatedCellSize;\n  }\n\n  _createClass(CellSizeAndPositionManager, [{\n    key: \"areOffsetsAdjusted\",\n    value: function areOffsetsAdjusted() {\n      return false;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure(_ref2) {\n      var cellCount = _ref2.cellCount,\n          estimatedCellSize = _ref2.estimatedCellSize,\n          cellSizeGetter = _ref2.cellSizeGetter;\n      this._cellCount = cellCount;\n      this._estimatedCellSize = estimatedCellSize;\n      this._cellSizeGetter = cellSizeGetter;\n    }\n  }, {\n    key: \"getCellCount\",\n    value: function getCellCount() {\n      return this._cellCount;\n    }\n  }, {\n    key: \"getEstimatedCellSize\",\n    value: function getEstimatedCellSize() {\n      return this._estimatedCellSize;\n    }\n  }, {\n    key: \"getLastMeasuredIndex\",\n    value: function getLastMeasuredIndex() {\n      return this._lastMeasuredIndex;\n    }\n  }, {\n    key: \"getOffsetAdjustment\",\n    value: function getOffsetAdjustment() {\n      return 0;\n    }\n    /**\n     * This method returns the size and position for the cell at the specified index.\n     * It just-in-time calculates (or used cached values) for cells leading up to the index.\n     */\n\n  }, {\n    key: \"getSizeAndPositionOfCell\",\n    value: function getSizeAndPositionOfCell(index) {\n      if (index < 0 || index >= this._cellCount) {\n        throw Error(\"Requested index \".concat(index, \" is outside of range 0..\").concat(this._cellCount));\n      }\n\n      if (index > this._lastMeasuredIndex) {\n        var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n        var offset = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n\n        for (var i = this._lastMeasuredIndex + 1; i <= index; i++) {\n          var size = this._cellSizeGetter({\n            index: i\n          }); // undefined or NaN probably means a logic error in the size getter.\n          // null means we're using CellMeasurer and haven't yet measured a given index.\n\n\n          if (size === undefined || isNaN(size)) {\n            throw Error(\"Invalid size returned for cell \".concat(i, \" of value \").concat(size));\n          } else if (size === null) {\n            this._cellSizeAndPositionData[i] = {\n              offset: offset,\n              size: 0\n            };\n            this._lastBatchedIndex = index;\n          } else {\n            this._cellSizeAndPositionData[i] = {\n              offset: offset,\n              size: size\n            };\n            offset += size;\n            this._lastMeasuredIndex = index;\n          }\n        }\n      }\n\n      return this._cellSizeAndPositionData[index];\n    }\n  }, {\n    key: \"getSizeAndPositionOfLastMeasuredCell\",\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._lastMeasuredIndex >= 0 ? this._cellSizeAndPositionData[this._lastMeasuredIndex] : {\n        offset: 0,\n        size: 0\n      };\n    }\n    /**\n     * Total size of all cells being measured.\n     * This value will be completely estimated initially.\n     * As cells are measured, the estimate will be updated.\n     */\n\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var totalSizeOfMeasuredCells = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n      var numUnmeasuredCells = this._cellCount - this._lastMeasuredIndex - 1;\n      var totalSizeOfUnmeasuredCells = numUnmeasuredCells * this._estimatedCellSize;\n      return totalSizeOfMeasuredCells + totalSizeOfUnmeasuredCells;\n    }\n    /**\n     * Determines a new offset that ensures a certain cell is visible, given the current offset.\n     * If the cell is already visible then the current offset will be returned.\n     * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n     *\n     * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n     * @param containerSize Size (width or height) of the container viewport\n     * @param currentOffset Container's current (x or y) offset\n     * @param totalSize Total size (width or height) of all cells\n     * @return Offset to use to ensure the specified cell is visible\n     */\n\n  }, {\n    key: \"getUpdatedOffsetForIndex\",\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      if (containerSize <= 0) {\n        return 0;\n      }\n\n      var datum = this.getSizeAndPositionOfCell(targetIndex);\n      var maxOffset = datum.offset;\n      var minOffset = maxOffset - containerSize + datum.size;\n      var idealOffset;\n\n      switch (align) {\n        case 'start':\n          idealOffset = maxOffset;\n          break;\n\n        case 'end':\n          idealOffset = minOffset;\n          break;\n\n        case 'center':\n          idealOffset = maxOffset - (containerSize - datum.size) / 2;\n          break;\n\n        default:\n          idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\n          break;\n      }\n\n      var totalSize = this.getTotalSize();\n      return Math.max(0, Math.min(totalSize - containerSize, idealOffset));\n    }\n  }, {\n    key: \"getVisibleCellRange\",\n    value: function getVisibleCellRange(params) {\n      var containerSize = params.containerSize,\n          offset = params.offset;\n      var totalSize = this.getTotalSize();\n\n      if (totalSize === 0) {\n        return {};\n      }\n\n      var maxOffset = offset + containerSize;\n\n      var start = this._findNearestCell(offset);\n\n      var datum = this.getSizeAndPositionOfCell(start);\n      offset = datum.offset + datum.size;\n      var stop = start;\n\n      while (offset < maxOffset && stop < this._cellCount - 1) {\n        stop++;\n        offset += this.getSizeAndPositionOfCell(stop).size;\n      }\n\n      return {\n        start: start,\n        stop: stop\n      };\n    }\n    /**\n     * Clear all cached values for cells after the specified index.\n     * This method should be called for any cell that has changed its size.\n     * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionOfCell() is called.\n     */\n\n  }, {\n    key: \"resetCell\",\n    value: function resetCell(index) {\n      this._lastMeasuredIndex = Math.min(this._lastMeasuredIndex, index - 1);\n    }\n  }, {\n    key: \"_binarySearch\",\n    value: function _binarySearch(high, low, offset) {\n      while (low <= high) {\n        var middle = low + Math.floor((high - low) / 2);\n        var currentOffset = this.getSizeAndPositionOfCell(middle).offset;\n\n        if (currentOffset === offset) {\n          return middle;\n        } else if (currentOffset < offset) {\n          low = middle + 1;\n        } else if (currentOffset > offset) {\n          high = middle - 1;\n        }\n      }\n\n      if (low > 0) {\n        return low - 1;\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"_exponentialSearch\",\n    value: function _exponentialSearch(index, offset) {\n      var interval = 1;\n\n      while (index < this._cellCount && this.getSizeAndPositionOfCell(index).offset < offset) {\n        index += interval;\n        interval *= 2;\n      }\n\n      return this._binarySearch(Math.min(index, this._cellCount - 1), Math.floor(index / 2), offset);\n    }\n    /**\n     * Searches for the cell (index) nearest the specified offset.\n     *\n     * If no exact match is found the next lowest cell index will be returned.\n     * This allows partially visible cells (with offsets just before/above the fold) to be visible.\n     */\n\n  }, {\n    key: \"_findNearestCell\",\n    value: function _findNearestCell(offset) {\n      if (isNaN(offset)) {\n        throw Error(\"Invalid offset \".concat(offset, \" specified\"));\n      } // Our search algorithms find the nearest match at or below the specified offset.\n      // So make sure the offset is at least 0 or no match will be found.\n\n\n      offset = Math.max(0, offset);\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var lastMeasuredIndex = Math.max(0, this._lastMeasuredIndex);\n\n      if (lastMeasuredCellSizeAndPosition.offset >= offset) {\n        // If we've already measured cells within this range just use a binary search as it's faster.\n        return this._binarySearch(lastMeasuredIndex, 0, offset);\n      } else {\n        // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n        // The exponential search avoids pre-computing sizes for the full set of cells as a binary search would.\n        // The overall complexity for this approach is O(log n).\n        return this._exponentialSearch(lastMeasuredIndex, offset);\n      }\n    }\n  }]);\n\n  return CellSizeAndPositionManager;\n}();\n\nexport { CellSizeAndPositionManager as default };\nimport { bpfrpt_proptype_Alignment } from \"../types\";\nimport { bpfrpt_proptype_CellSizeGetter } from \"../types\";\nimport { bpfrpt_proptype_VisibleCellRange } from \"../types\";","var DEFAULT_MAX_ELEMENT_SIZE = 1500000;\nvar CHROME_MAX_ELEMENT_SIZE = 1.67771e7;\n\nvar isBrowser = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar isChrome = function isChrome() {\n  return !!window.chrome;\n};\n\nexport var getMaxElementSize = function getMaxElementSize() {\n  if (isBrowser()) {\n    if (isChrome()) {\n      return CHROME_MAX_ELEMENT_SIZE;\n    }\n  }\n\n  return DEFAULT_MAX_ELEMENT_SIZE;\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport CellSizeAndPositionManager from './CellSizeAndPositionManager';\nimport { getMaxElementSize } from './maxElementSize.js';\n\n/**\n * Extends CellSizeAndPositionManager and adds scaling behavior for lists that are too large to fit within a browser's native limits.\n */\nvar ScalingCellSizeAndPositionManager =\n/*#__PURE__*/\nfunction () {\n  function ScalingCellSizeAndPositionManager(_ref) {\n    var _ref$maxScrollSize = _ref.maxScrollSize,\n        maxScrollSize = _ref$maxScrollSize === void 0 ? getMaxElementSize() : _ref$maxScrollSize,\n        params = _objectWithoutProperties(_ref, [\"maxScrollSize\"]);\n\n    _classCallCheck(this, ScalingCellSizeAndPositionManager);\n\n    _defineProperty(this, \"_cellSizeAndPositionManager\", void 0);\n\n    _defineProperty(this, \"_maxScrollSize\", void 0);\n\n    // Favor composition over inheritance to simplify IE10 support\n    this._cellSizeAndPositionManager = new CellSizeAndPositionManager(params);\n    this._maxScrollSize = maxScrollSize;\n  }\n\n  _createClass(ScalingCellSizeAndPositionManager, [{\n    key: \"areOffsetsAdjusted\",\n    value: function areOffsetsAdjusted() {\n      return this._cellSizeAndPositionManager.getTotalSize() > this._maxScrollSize;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure(params) {\n      this._cellSizeAndPositionManager.configure(params);\n    }\n  }, {\n    key: \"getCellCount\",\n    value: function getCellCount() {\n      return this._cellSizeAndPositionManager.getCellCount();\n    }\n  }, {\n    key: \"getEstimatedCellSize\",\n    value: function getEstimatedCellSize() {\n      return this._cellSizeAndPositionManager.getEstimatedCellSize();\n    }\n  }, {\n    key: \"getLastMeasuredIndex\",\n    value: function getLastMeasuredIndex() {\n      return this._cellSizeAndPositionManager.getLastMeasuredIndex();\n    }\n    /**\n     * Number of pixels a cell at the given position (offset) should be shifted in order to fit within the scaled container.\n     * The offset passed to this function is scaled (safe) as well.\n     */\n\n  }, {\n    key: \"getOffsetAdjustment\",\n    value: function getOffsetAdjustment(_ref2) {\n      var containerSize = _ref2.containerSize,\n          offset = _ref2.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      var offsetPercentage = this._getOffsetPercentage({\n        containerSize: containerSize,\n        offset: offset,\n        totalSize: safeTotalSize\n      });\n\n      return Math.round(offsetPercentage * (safeTotalSize - totalSize));\n    }\n  }, {\n    key: \"getSizeAndPositionOfCell\",\n    value: function getSizeAndPositionOfCell(index) {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index);\n    }\n  }, {\n    key: \"getSizeAndPositionOfLastMeasuredCell\",\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell();\n    }\n    /** See CellSizeAndPositionManager#getTotalSize */\n\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return Math.min(this._maxScrollSize, this._cellSizeAndPositionManager.getTotalSize());\n    }\n    /** See CellSizeAndPositionManager#getUpdatedOffsetForIndex */\n\n  }, {\n    key: \"getUpdatedOffsetForIndex\",\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n      currentOffset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: currentOffset\n      });\n\n      var offset = this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({\n        align: align,\n        containerSize: containerSize,\n        currentOffset: currentOffset,\n        targetIndex: targetIndex\n      });\n\n      return this._offsetToSafeOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n    /** See CellSizeAndPositionManager#getVisibleCellRange */\n\n  }, {\n    key: \"getVisibleCellRange\",\n    value: function getVisibleCellRange(_ref4) {\n      var containerSize = _ref4.containerSize,\n          offset = _ref4.offset;\n      offset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n      return this._cellSizeAndPositionManager.getVisibleCellRange({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n  }, {\n    key: \"resetCell\",\n    value: function resetCell(index) {\n      this._cellSizeAndPositionManager.resetCell(index);\n    }\n  }, {\n    key: \"_getOffsetPercentage\",\n    value: function _getOffsetPercentage(_ref5) {\n      var containerSize = _ref5.containerSize,\n          offset = _ref5.offset,\n          totalSize = _ref5.totalSize;\n      return totalSize <= containerSize ? 0 : offset / (totalSize - containerSize);\n    }\n  }, {\n    key: \"_offsetToSafeOffset\",\n    value: function _offsetToSafeOffset(_ref6) {\n      var containerSize = _ref6.containerSize,\n          offset = _ref6.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: totalSize\n        });\n\n        return Math.round(offsetPercentage * (safeTotalSize - containerSize));\n      }\n    }\n  }, {\n    key: \"_safeOffsetToOffset\",\n    value: function _safeOffsetToOffset(_ref7) {\n      var containerSize = _ref7.containerSize,\n          offset = _ref7.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: safeTotalSize\n        });\n\n        return Math.round(offsetPercentage * (totalSize - containerSize));\n      }\n    }\n  }]);\n\n  return ScalingCellSizeAndPositionManager;\n}();\n\nexport { ScalingCellSizeAndPositionManager as default };\nimport { bpfrpt_proptype_Alignment } from \"../types\";\nimport { bpfrpt_proptype_CellSizeGetter } from \"../types\";\nimport { bpfrpt_proptype_VisibleCellRange } from \"../types\";","/**\n * Helper utility that updates the specified callback whenever any of the specified indices have changed.\n */\nexport default function createCallbackMemoizer() {\n  var requireAllKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var cachedIndices = {};\n  return function (_ref) {\n    var callback = _ref.callback,\n        indices = _ref.indices;\n    var keys = Object.keys(indices);\n    var allInitialized = !requireAllKeys || keys.every(function (key) {\n      var value = indices[key];\n      return Array.isArray(value) ? value.length > 0 : value >= 0;\n    });\n    var indexChanged = keys.length !== Object.keys(cachedIndices).length || keys.some(function (key) {\n      var cachedValue = cachedIndices[key];\n      var value = indices[key];\n      return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;\n    });\n    cachedIndices = indices;\n\n    if (allInitialized && indexChanged) {\n      callback(indices);\n    }\n  };\n}","import ScalingCellSizeAndPositionManager from './ScalingCellSizeAndPositionManager.js';\n/**\n * Helper function that determines when to update scroll offsets to ensure that a scroll-to-index remains visible.\n * This function also ensures that the scroll ofset isn't past the last column/row of cells.\n */\n\nexport default function updateScrollIndexHelper(_ref) {\n  var cellSize = _ref.cellSize,\n      cellSizeAndPositionManager = _ref.cellSizeAndPositionManager,\n      previousCellsCount = _ref.previousCellsCount,\n      previousCellSize = _ref.previousCellSize,\n      previousScrollToAlignment = _ref.previousScrollToAlignment,\n      previousScrollToIndex = _ref.previousScrollToIndex,\n      previousSize = _ref.previousSize,\n      scrollOffset = _ref.scrollOffset,\n      scrollToAlignment = _ref.scrollToAlignment,\n      scrollToIndex = _ref.scrollToIndex,\n      size = _ref.size,\n      sizeJustIncreasedFromZero = _ref.sizeJustIncreasedFromZero,\n      updateScrollIndexCallback = _ref.updateScrollIndexCallback;\n  var cellCount = cellSizeAndPositionManager.getCellCount();\n  var hasScrollToIndex = scrollToIndex >= 0 && scrollToIndex < cellCount;\n  var sizeHasChanged = size !== previousSize || sizeJustIncreasedFromZero || !previousCellSize || typeof cellSize === 'number' && cellSize !== previousCellSize; // If we have a new scroll target OR if height/row-height has changed,\n  // We should ensure that the scroll target is visible.\n\n  if (hasScrollToIndex && (sizeHasChanged || scrollToAlignment !== previousScrollToAlignment || scrollToIndex !== previousScrollToIndex)) {\n    updateScrollIndexCallback(scrollToIndex); // If we don't have a selected item but list size or number of children have decreased,\n    // Make sure we aren't scrolled too far past the current content.\n  } else if (!hasScrollToIndex && cellCount > 0 && (size < previousSize || cellCount < previousCellsCount)) {\n    // We need to ensure that the current scroll offset is still within the collection's range.\n    // To do this, we don't need to measure everything; CellMeasurer would perform poorly.\n    // Just check to make sure we're still okay.\n    // Only adjust the scroll position if we've scrolled below the last set of rows.\n    if (scrollOffset > cellSizeAndPositionManager.getTotalSize() - size) {\n      updateScrollIndexCallback(cellCount - 1);\n    }\n  }\n}\nimport { bpfrpt_proptype_Alignment } from \"../types\";\nimport { bpfrpt_proptype_CellSize } from \"../types\";","// Properly handle server-side rendering.\nvar win;\n\nif (typeof window !== 'undefined') {\n  win = window;\n} else if (typeof self !== 'undefined') {\n  win = self;\n} else {\n  win = {};\n} // requestAnimationFrame() shim by Paul Irish\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\n\nvar request = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {\n  return win.setTimeout(callback, 1000 / 60);\n};\n\nvar cancel = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.mozCancelAnimationFrame || win.oCancelAnimationFrame || win.msCancelAnimationFrame || function (id) {\n  win.clearTimeout(id);\n};\n\nexport var raf = request;\nexport var caf = cancel;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport calculateSizeAndPositionDataAndUpdateScrollOffset from './utils/calculateSizeAndPositionDataAndUpdateScrollOffset';\nimport ScalingCellSizeAndPositionManager from './utils/ScalingCellSizeAndPositionManager';\nimport createCallbackMemoizer from '../utils/createCallbackMemoizer';\nimport defaultOverscanIndicesGetter, { SCROLL_DIRECTION_BACKWARD, SCROLL_DIRECTION_FORWARD } from './defaultOverscanIndicesGetter';\nimport updateScrollIndexHelper from './utils/updateScrollIndexHelper';\nimport defaultCellRangeRenderer from './defaultCellRangeRenderer';\nimport scrollbarSize from 'dom-helpers/scrollbarSize';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../utils/requestAnimationTimeout';\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nexport var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\n\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n\nvar renderNull = function renderNull() {\n  return null;\n};\n\n/**\n * Renders tabular data with virtualization along the vertical and horizontal axes.\n * Row heights and column widths must be known ahead of time and specified as properties.\n */\nvar Grid = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Grid, _React$PureComponent);\n\n  // Invokes onSectionRendered callback only when start/stop row or column indices change\n  function Grid(props) {\n    var _this;\n\n    _classCallCheck(this, Grid);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Grid).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_onGridRenderedMemoizer\", createCallbackMemoizer());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollMemoizer\", createCallbackMemoizer(false));\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateColumnIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateRowIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_recomputeScrollLeftFlag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_recomputeScrollTopFlag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_horizontalScrollBarSize\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_verticalScrollBarSize\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_scrollbarPresenceChanged\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_scrollingContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_childrenToDisplay\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStartIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStopIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStartIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStopIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedColumnStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedColumnStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedRowStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderedRowStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialScrollTop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialScrollLeft\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_disablePointerEventsTimeoutId\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_styleCache\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellCache\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceScrollEndedCallback\", function () {\n      _this._disablePointerEventsTimeoutId = null; // isScrolling is used to determine if we reset styleCache\n\n      _this.setState({\n        isScrolling: false,\n        needToResetStyleCache: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_invokeOnGridRenderedHelper\", function () {\n      var onSectionRendered = _this.props.onSectionRendered;\n\n      _this._onGridRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          columnOverscanStartIndex: _this._columnStartIndex,\n          columnOverscanStopIndex: _this._columnStopIndex,\n          columnStartIndex: _this._renderedColumnStartIndex,\n          columnStopIndex: _this._renderedColumnStopIndex,\n          rowOverscanStartIndex: _this._rowStartIndex,\n          rowOverscanStopIndex: _this._rowStopIndex,\n          rowStartIndex: _this._renderedRowStartIndex,\n          rowStopIndex: _this._renderedRowStopIndex\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target === _this._scrollingContainer) {\n        _this.handleScrollEvent(event.target);\n      }\n    });\n\n    var columnSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.columnCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.columnWidth)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedColumnSize(props)\n    });\n    var rowSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.rowCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.rowHeight)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedRowSize(props)\n    });\n    _this.state = {\n      instanceProps: {\n        columnSizeAndPositionManager: columnSizeAndPositionManager,\n        rowSizeAndPositionManager: rowSizeAndPositionManager,\n        prevColumnWidth: props.columnWidth,\n        prevRowHeight: props.rowHeight,\n        prevColumnCount: props.columnCount,\n        prevRowCount: props.rowCount,\n        prevIsScrolling: props.isScrolling === true,\n        prevScrollToColumn: props.scrollToColumn,\n        prevScrollToRow: props.scrollToRow,\n        scrollbarSize: 0,\n        scrollbarSizeMeasured: false\n      },\n      isScrolling: false,\n      scrollDirectionHorizontal: SCROLL_DIRECTION_FORWARD,\n      scrollDirectionVertical: SCROLL_DIRECTION_FORWARD,\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollPositionChangeReason: null,\n      needToResetStyleCache: false\n    };\n\n    if (props.scrollToRow > 0) {\n      _this._initialScrollTop = _this._getCalculatedScrollTop(props, _this.state);\n    }\n\n    if (props.scrollToColumn > 0) {\n      _this._initialScrollLeft = _this._getCalculatedScrollLeft(props, _this.state);\n    }\n\n    return _this;\n  }\n  /**\n   * Gets offsets for a given cell and alignment.\n   */\n\n\n  _createClass(Grid, [{\n    key: \"getOffsetForCell\",\n    value: function getOffsetForCell() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$alignment = _ref.alignment,\n          alignment = _ref$alignment === void 0 ? this.props.scrollToAlignment : _ref$alignment,\n          _ref$columnIndex = _ref.columnIndex,\n          columnIndex = _ref$columnIndex === void 0 ? this.props.scrollToColumn : _ref$columnIndex,\n          _ref$rowIndex = _ref.rowIndex,\n          rowIndex = _ref$rowIndex === void 0 ? this.props.scrollToRow : _ref$rowIndex;\n\n      var offsetProps = _objectSpread({}, this.props, {\n        scrollToAlignment: alignment,\n        scrollToColumn: columnIndex,\n        scrollToRow: rowIndex\n      });\n\n      return {\n        scrollLeft: this._getCalculatedScrollLeft(offsetProps),\n        scrollTop: this._getCalculatedScrollTop(offsetProps)\n      };\n    }\n    /**\n     * Gets estimated total rows' height.\n     */\n\n  }, {\n    key: \"getTotalRowsHeight\",\n    value: function getTotalRowsHeight() {\n      return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize();\n    }\n    /**\n     * Gets estimated total columns' width.\n     */\n\n  }, {\n    key: \"getTotalColumnsWidth\",\n    value: function getTotalColumnsWidth() {\n      return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize();\n    }\n    /**\n     * This method handles a scroll event originating from an external scroll control.\n     * It's an advanced method and should probably not be used unless you're implementing a custom scroll-bar solution.\n     */\n\n  }, {\n    key: \"handleScrollEvent\",\n    value: function handleScrollEvent(_ref2) {\n      var _ref2$scrollLeft = _ref2.scrollLeft,\n          scrollLeftParam = _ref2$scrollLeft === void 0 ? 0 : _ref2$scrollLeft,\n          _ref2$scrollTop = _ref2.scrollTop,\n          scrollTopParam = _ref2$scrollTop === void 0 ? 0 : _ref2$scrollTop;\n\n      // On iOS, we can arrive at negative offsets by swiping past the start.\n      // To prevent flicker here, we make playing in the negative offset zone cause nothing to happen.\n      if (scrollTopParam < 0) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      this._debounceScrollEnded();\n\n      var _this$props = this.props,\n          autoHeight = _this$props.autoHeight,\n          autoWidth = _this$props.autoWidth,\n          height = _this$props.height,\n          width = _this$props.width;\n      var instanceProps = this.state.instanceProps; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollbarSize = instanceProps.scrollbarSize;\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var scrollLeft = Math.min(Math.max(0, totalColumnsWidth - width + scrollbarSize), scrollLeftParam);\n      var scrollTop = Math.min(Math.max(0, totalRowsHeight - height + scrollbarSize), scrollTopParam); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n      if (this.state.scrollLeft !== scrollLeft || this.state.scrollTop !== scrollTop) {\n        // Track scrolling direction so we can more efficiently overscan rows to reduce empty space around the edges while scrolling.\n        // Don't change direction for an axis unless scroll offset has changed.\n        var scrollDirectionHorizontal = scrollLeft !== this.state.scrollLeft ? scrollLeft > this.state.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionHorizontal;\n        var scrollDirectionVertical = scrollTop !== this.state.scrollTop ? scrollTop > this.state.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionVertical;\n        var newState = {\n          isScrolling: true,\n          scrollDirectionHorizontal: scrollDirectionHorizontal,\n          scrollDirectionVertical: scrollDirectionVertical,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.OBSERVED\n        };\n\n        if (!autoHeight) {\n          newState.scrollTop = scrollTop;\n        }\n\n        if (!autoWidth) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        newState.needToResetStyleCache = false;\n        this.setState(newState);\n      }\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalColumnsWidth: totalColumnsWidth,\n        totalRowsHeight: totalRowsHeight\n      });\n    }\n    /**\n     * Invalidate Grid size and recompute visible cells.\n     * This is a deferred wrapper for recomputeGridSize().\n     * It sets a flag to be evaluated on cDM/cDU to avoid unnecessary renders.\n     * This method is intended for advanced use-cases like CellMeasurer.\n     */\n    // @TODO (bvaughn) Add automated test coverage for this.\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rowIndex = _ref3.rowIndex;\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n    /**\n     * Pre-measure all columns and rows in a Grid.\n     * Typically cells are only measured as needed and estimated sizes are used for cells that have not yet been measured.\n     * This method ensures that the next call to getTotalSize() returns an exact size (as opposed to just an estimated one).\n     */\n\n  }, {\n    key: \"measureAllCells\",\n    value: function measureAllCells() {\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          rowCount = _this$props2.rowCount;\n      var instanceProps = this.state.instanceProps;\n      instanceProps.columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount - 1);\n      instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount - 1);\n    }\n    /**\n     * Forced recompute of row heights and column widths.\n     * This function should be called if dynamic column or row sizes have changed but nothing else has.\n     * Since Grid only receives :columnCount and :rowCount it has no way of detecting when the underlying data changes.\n     */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$columnIndex = _ref4.columnIndex,\n          columnIndex = _ref4$columnIndex === void 0 ? 0 : _ref4$columnIndex,\n          _ref4$rowIndex = _ref4.rowIndex,\n          rowIndex = _ref4$rowIndex === void 0 ? 0 : _ref4$rowIndex;\n\n      var _this$props3 = this.props,\n          scrollToColumn = _this$props3.scrollToColumn,\n          scrollToRow = _this$props3.scrollToRow;\n      var instanceProps = this.state.instanceProps;\n      instanceProps.columnSizeAndPositionManager.resetCell(columnIndex);\n      instanceProps.rowSizeAndPositionManager.resetCell(rowIndex); // Cell sizes may be determined by a function property.\n      // In this case the cDU handler can't know if they changed.\n      // Store this flag to let the next cDU pass know it needs to recompute the scroll offset.\n\n      this._recomputeScrollLeftFlag = scrollToColumn >= 0 && (this.state.scrollDirectionHorizontal === SCROLL_DIRECTION_FORWARD ? columnIndex <= scrollToColumn : columnIndex >= scrollToColumn);\n      this._recomputeScrollTopFlag = scrollToRow >= 0 && (this.state.scrollDirectionVertical === SCROLL_DIRECTION_FORWARD ? rowIndex <= scrollToRow : rowIndex >= scrollToRow); // Clear cell cache in case we are scrolling;\n      // Invalid row heights likely mean invalid cached content as well.\n\n      this._styleCache = {};\n      this._cellCache = {};\n      this.forceUpdate();\n    }\n    /**\n     * Ensure column and row are visible.\n     */\n\n  }, {\n    key: \"scrollToCell\",\n    value: function scrollToCell(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n      var columnCount = this.props.columnCount;\n      var props = this.props; // Don't adjust scroll offset for single-column grids (eg List, Table).\n      // This can cause a funky scroll offset because of the vertical scrollbar width.\n\n      if (columnCount > 1 && columnIndex !== undefined) {\n        this._updateScrollLeftForScrollToColumn(_objectSpread({}, props, {\n          scrollToColumn: columnIndex\n        }));\n      }\n\n      if (rowIndex !== undefined) {\n        this._updateScrollTopForScrollToRow(_objectSpread({}, props, {\n          scrollToRow: rowIndex\n        }));\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props4 = this.props,\n          getScrollbarSize = _this$props4.getScrollbarSize,\n          height = _this$props4.height,\n          scrollLeft = _this$props4.scrollLeft,\n          scrollToColumn = _this$props4.scrollToColumn,\n          scrollTop = _this$props4.scrollTop,\n          scrollToRow = _this$props4.scrollToRow,\n          width = _this$props4.width;\n      var instanceProps = this.state.instanceProps; // Reset initial offsets to be ignored in browser\n\n      this._initialScrollTop = 0;\n      this._initialScrollLeft = 0; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize(); // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n\n\n      if (!instanceProps.scrollbarSizeMeasured) {\n        this.setState(function (prevState) {\n          var stateUpdate = _objectSpread({}, prevState, {\n            needToResetStyleCache: false\n          });\n\n          stateUpdate.instanceProps.scrollbarSize = getScrollbarSize();\n          stateUpdate.instanceProps.scrollbarSizeMeasured = true;\n          return stateUpdate;\n        });\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 || typeof scrollTop === 'number' && scrollTop >= 0) {\n        var stateUpdate = Grid._getScrollToPositionStateUpdate({\n          prevState: this.state,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n\n        if (stateUpdate) {\n          stateUpdate.needToResetStyleCache = false;\n          this.setState(stateUpdate);\n        }\n      } // refs don't work in `react-test-renderer`\n\n\n      if (this._scrollingContainer) {\n        // setting the ref's scrollLeft and scrollTop.\n        // Somehow in MultiGrid the main grid doesn't trigger a update on mount.\n        if (this._scrollingContainer.scrollLeft !== this.state.scrollLeft) {\n          this._scrollingContainer.scrollLeft = this.state.scrollLeft;\n        }\n\n        if (this._scrollingContainer.scrollTop !== this.state.scrollTop) {\n          this._scrollingContainer.scrollTop = this.state.scrollTop;\n        }\n      } // Don't update scroll offset if the size is 0; we don't render any cells in this case.\n      // Setting a state may cause us to later thing we've updated the offce when we haven't.\n\n\n      var sizeIsBiggerThanZero = height > 0 && width > 0;\n\n      if (scrollToColumn >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollLeftForScrollToColumn();\n      }\n\n      if (scrollToRow >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollTopForScrollToRow();\n      } // Update onRowsRendered callback\n\n\n      this._invokeOnGridRenderedHelper(); // Initialize onScroll callback\n\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalColumnsWidth: instanceProps.columnSizeAndPositionManager.getTotalSize(),\n        totalRowsHeight: instanceProps.rowSizeAndPositionManager.getTotalSize()\n      });\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) New scroll-to-cell props have been set\n     */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          autoHeight = _this$props5.autoHeight,\n          autoWidth = _this$props5.autoWidth,\n          columnCount = _this$props5.columnCount,\n          height = _this$props5.height,\n          rowCount = _this$props5.rowCount,\n          scrollToAlignment = _this$props5.scrollToAlignment,\n          scrollToColumn = _this$props5.scrollToColumn,\n          scrollToRow = _this$props5.scrollToRow,\n          width = _this$props5.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollPositionChangeReason = _this$state.scrollPositionChangeReason,\n          scrollTop = _this$state.scrollTop,\n          instanceProps = _this$state.instanceProps; // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize(); // Handle edge case where column or row count has only just increased over 0.\n      // In this case we may have to restore a previously-specified scroll offset.\n      // For more info see bvaughn/react-virtualized/issues/218\n\n\n      var columnOrRowCountJustIncreasedFromZero = columnCount > 0 && prevProps.columnCount === 0 || rowCount > 0 && prevProps.rowCount === 0; // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        // @TRICKY :autoHeight and :autoWidth properties instructs Grid to leave :scrollTop and :scrollLeft management to an external HOC (eg WindowScroller).\n        // In this case we should avoid checking scrollingContainer.scrollTop and scrollingContainer.scrollLeft since it forces layout/flow.\n        if (!autoWidth && scrollLeft >= 0 && (scrollLeft !== this._scrollingContainer.scrollLeft || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n\n        if (!autoHeight && scrollTop >= 0 && (scrollTop !== this._scrollingContainer.scrollTop || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      } // Special case where the previous size was 0:\n      // In this case we don't show any windowed cells at all.\n      // So we should always recalculate offset afterwards.\n\n\n      var sizeJustIncreasedFromZero = (prevProps.width === 0 || prevProps.height === 0) && height > 0 && width > 0; // Update scroll offsets if the current :scrollToColumn or :scrollToRow values requires it\n      // @TODO Do we also need this check or can the one in componentWillUpdate() suffice?\n\n      if (this._recomputeScrollLeftFlag) {\n        this._recomputeScrollLeftFlag = false;\n\n        this._updateScrollLeftForScrollToColumn(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          previousCellsCount: prevProps.columnCount,\n          previousCellSize: prevProps.columnWidth,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToColumn,\n          previousSize: prevProps.width,\n          scrollOffset: scrollLeft,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToColumn,\n          size: width,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollLeftForScrollToColumn(_this2.props);\n          }\n        });\n      }\n\n      if (this._recomputeScrollTopFlag) {\n        this._recomputeScrollTopFlag = false;\n\n        this._updateScrollTopForScrollToRow(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          previousCellsCount: prevProps.rowCount,\n          previousCellSize: prevProps.rowHeight,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToRow,\n          previousSize: prevProps.height,\n          scrollOffset: scrollTop,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToRow,\n          size: height,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollTopForScrollToRow(_this2.props);\n          }\n        });\n      } // Update onRowsRendered callback if start/stop indices have changed\n\n\n      this._invokeOnGridRenderedHelper(); // Changes to :scrollLeft or :scrollTop should also notify :onScroll listeners\n\n\n      if (scrollLeft !== prevState.scrollLeft || scrollTop !== prevState.scrollTop) {\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n\n        this._invokeOnScrollMemoizer({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          totalColumnsWidth: totalColumnsWidth,\n          totalRowsHeight: totalRowsHeight\n        });\n      }\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n    /**\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          autoContainerWidth = _this$props6.autoContainerWidth,\n          autoHeight = _this$props6.autoHeight,\n          autoWidth = _this$props6.autoWidth,\n          className = _this$props6.className,\n          containerProps = _this$props6.containerProps,\n          containerRole = _this$props6.containerRole,\n          containerStyle = _this$props6.containerStyle,\n          height = _this$props6.height,\n          id = _this$props6.id,\n          noContentRenderer = _this$props6.noContentRenderer,\n          role = _this$props6.role,\n          style = _this$props6.style,\n          tabIndex = _this$props6.tabIndex,\n          width = _this$props6.width;\n      var _this$state2 = this.state,\n          instanceProps = _this$state2.instanceProps,\n          needToResetStyleCache = _this$state2.needToResetStyleCache;\n\n      var isScrolling = this._isScrolling();\n\n      var gridStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        width: autoWidth ? 'auto' : width,\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform'\n      };\n\n      if (needToResetStyleCache) {\n        this._styleCache = {};\n      } // calculate _styleCache here\n      // if state.isScrolling (not from _isScrolling) then reset\n\n\n      if (!this.state.isScrolling) {\n        this._resetStyleCache();\n      } // calculate children to render here\n\n\n      this._calculateChildrenToRender(this.props, this.state);\n\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize(); // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n\n      var verticalScrollBarSize = totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n      var horizontalScrollBarSize = totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n      if (horizontalScrollBarSize !== this._horizontalScrollBarSize || verticalScrollBarSize !== this._verticalScrollBarSize) {\n        this._horizontalScrollBarSize = horizontalScrollBarSize;\n        this._verticalScrollBarSize = verticalScrollBarSize;\n        this._scrollbarPresenceChanged = true;\n      } // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n\n\n      gridStyle.overflowX = totalColumnsWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      gridStyle.overflowY = totalRowsHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n      var childrenToDisplay = this._childrenToDisplay;\n      var showNoContentRenderer = childrenToDisplay.length === 0 && height > 0 && width > 0;\n      return React.createElement(\"div\", _extends({\n        ref: this._setScrollingContainerRef\n      }, containerProps, {\n        \"aria-label\": this.props['aria-label'],\n        \"aria-readonly\": this.props['aria-readonly'],\n        className: clsx('ReactVirtualized__Grid', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: role,\n        style: _objectSpread({}, gridStyle, {}, style),\n        tabIndex: tabIndex\n      }), childrenToDisplay.length > 0 && React.createElement(\"div\", {\n        className: \"ReactVirtualized__Grid__innerScrollContainer\",\n        role: containerRole,\n        style: _objectSpread({\n          width: autoContainerWidth ? 'auto' : totalColumnsWidth,\n          height: totalRowsHeight,\n          maxWidth: totalColumnsWidth,\n          maxHeight: totalRowsHeight,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          position: 'relative'\n        }, containerStyle)\n      }, childrenToDisplay), showNoContentRenderer && noContentRenderer());\n    }\n    /* ---------------------------- Helper methods ---------------------------- */\n\n  }, {\n    key: \"_calculateChildrenToRender\",\n    value: function _calculateChildrenToRender() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      var cellRenderer = props.cellRenderer,\n          cellRangeRenderer = props.cellRangeRenderer,\n          columnCount = props.columnCount,\n          deferredMeasurementCache = props.deferredMeasurementCache,\n          height = props.height,\n          overscanColumnCount = props.overscanColumnCount,\n          overscanIndicesGetter = props.overscanIndicesGetter,\n          overscanRowCount = props.overscanRowCount,\n          rowCount = props.rowCount,\n          width = props.width,\n          isScrollingOptOut = props.isScrollingOptOut;\n      var scrollDirectionHorizontal = state.scrollDirectionHorizontal,\n          scrollDirectionVertical = state.scrollDirectionVertical,\n          instanceProps = state.instanceProps;\n      var scrollTop = this._initialScrollTop > 0 ? this._initialScrollTop : state.scrollTop;\n      var scrollLeft = this._initialScrollLeft > 0 ? this._initialScrollLeft : state.scrollLeft;\n\n      var isScrolling = this._isScrolling(props, state);\n\n      this._childrenToDisplay = []; // Render only enough columns and rows to cover the visible area of the grid.\n\n      if (height > 0 && width > 0) {\n        var visibleColumnIndices = instanceProps.columnSizeAndPositionManager.getVisibleCellRange({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var visibleRowIndices = instanceProps.rowSizeAndPositionManager.getVisibleCellRange({\n          containerSize: height,\n          offset: scrollTop\n        });\n        var horizontalOffsetAdjustment = instanceProps.columnSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var verticalOffsetAdjustment = instanceProps.rowSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: height,\n          offset: scrollTop\n        }); // Store for _invokeOnGridRenderedHelper()\n\n        this._renderedColumnStartIndex = visibleColumnIndices.start;\n        this._renderedColumnStopIndex = visibleColumnIndices.stop;\n        this._renderedRowStartIndex = visibleRowIndices.start;\n        this._renderedRowStopIndex = visibleRowIndices.stop;\n        var overscanColumnIndices = overscanIndicesGetter({\n          direction: 'horizontal',\n          cellCount: columnCount,\n          overscanCellsCount: overscanColumnCount,\n          scrollDirection: scrollDirectionHorizontal,\n          startIndex: typeof visibleColumnIndices.start === 'number' ? visibleColumnIndices.start : 0,\n          stopIndex: typeof visibleColumnIndices.stop === 'number' ? visibleColumnIndices.stop : -1\n        });\n        var overscanRowIndices = overscanIndicesGetter({\n          direction: 'vertical',\n          cellCount: rowCount,\n          overscanCellsCount: overscanRowCount,\n          scrollDirection: scrollDirectionVertical,\n          startIndex: typeof visibleRowIndices.start === 'number' ? visibleRowIndices.start : 0,\n          stopIndex: typeof visibleRowIndices.stop === 'number' ? visibleRowIndices.stop : -1\n        }); // Store for _invokeOnGridRenderedHelper()\n\n        var columnStartIndex = overscanColumnIndices.overscanStartIndex;\n        var columnStopIndex = overscanColumnIndices.overscanStopIndex;\n        var rowStartIndex = overscanRowIndices.overscanStartIndex;\n        var rowStopIndex = overscanRowIndices.overscanStopIndex; // Advanced use-cases (eg CellMeasurer) require batched measurements to determine accurate sizes.\n\n        if (deferredMeasurementCache) {\n          // If rows have a dynamic height, scan the rows we are about to render.\n          // If any have not yet been measured, then we need to render all columns initially,\n          // Because the height of the row is equal to the tallest cell within that row,\n          // (And so we can't know the height without measuring all column-cells first).\n          if (!deferredMeasurementCache.hasFixedHeight()) {\n            for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n              if (!deferredMeasurementCache.has(rowIndex, 0)) {\n                columnStartIndex = 0;\n                columnStopIndex = columnCount - 1;\n                break;\n              }\n            }\n          } // If columns have a dynamic width, scan the columns we are about to render.\n          // If any have not yet been measured, then we need to render all rows initially,\n          // Because the width of the column is equal to the widest cell within that column,\n          // (And so we can't know the width without measuring all row-cells first).\n\n\n          if (!deferredMeasurementCache.hasFixedWidth()) {\n            for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n              if (!deferredMeasurementCache.has(0, columnIndex)) {\n                rowStartIndex = 0;\n                rowStopIndex = rowCount - 1;\n                break;\n              }\n            }\n          }\n        }\n\n        this._childrenToDisplay = cellRangeRenderer({\n          cellCache: this._cellCache,\n          cellRenderer: cellRenderer,\n          columnSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          columnStartIndex: columnStartIndex,\n          columnStopIndex: columnStopIndex,\n          deferredMeasurementCache: deferredMeasurementCache,\n          horizontalOffsetAdjustment: horizontalOffsetAdjustment,\n          isScrolling: isScrolling,\n          isScrollingOptOut: isScrollingOptOut,\n          parent: this,\n          rowSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          rowStartIndex: rowStartIndex,\n          rowStopIndex: rowStopIndex,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          styleCache: this._styleCache,\n          verticalOffsetAdjustment: verticalOffsetAdjustment,\n          visibleColumnIndices: visibleColumnIndices,\n          visibleRowIndices: visibleRowIndices\n        }); // update the indices\n\n        this._columnStartIndex = columnStartIndex;\n        this._columnStopIndex = columnStopIndex;\n        this._rowStartIndex = rowStartIndex;\n        this._rowStopIndex = rowStopIndex;\n      }\n    }\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Grid.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: \"_debounceScrollEnded\",\n    value: function _debounceScrollEnded() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = requestAnimationTimeout(this._debounceScrollEndedCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: \"_handleInvalidatedGridSize\",\n\n    /**\n     * Check for batched CellMeasurer size invalidations.\n     * This will occur the first time one or more previously unmeasured cells are rendered.\n     */\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number' && typeof this._deferredInvalidateRowIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n        this.recomputeGridSize({\n          columnIndex: columnIndex,\n          rowIndex: rowIndex\n        });\n      }\n    }\n  }, {\n    key: \"_invokeOnScrollMemoizer\",\n    value: function _invokeOnScrollMemoizer(_ref6) {\n      var _this3 = this;\n\n      var scrollLeft = _ref6.scrollLeft,\n          scrollTop = _ref6.scrollTop,\n          totalColumnsWidth = _ref6.totalColumnsWidth,\n          totalRowsHeight = _ref6.totalRowsHeight;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref7) {\n          var scrollLeft = _ref7.scrollLeft,\n              scrollTop = _ref7.scrollTop;\n          var _this3$props = _this3.props,\n              height = _this3$props.height,\n              onScroll = _this3$props.onScroll,\n              width = _this3$props.width;\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalRowsHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalColumnsWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: \"_isScrolling\",\n    value: function _isScrolling() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      // If isScrolling is defined in props, use it to override the value in state\n      // This is a performance optimization for WindowScroller + Grid\n      return Object.hasOwnProperty.call(props, 'isScrolling') ? Boolean(props.isScrolling) : Boolean(state.isScrolling);\n    }\n  }, {\n    key: \"_maybeCallOnScrollbarPresenceChange\",\n    value: function _maybeCallOnScrollbarPresenceChange() {\n      if (this._scrollbarPresenceChanged) {\n        var onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n        this._scrollbarPresenceChanged = false;\n        onScrollbarPresenceChange({\n          horizontal: this._horizontalScrollBarSize > 0,\n          size: this.state.instanceProps.scrollbarSize,\n          vertical: this._verticalScrollBarSize > 0\n        });\n      }\n    }\n  }, {\n    key: \"scrollToPosition\",\n\n    /**\n     * Scroll to the specified offset(s).\n     * Useful for animating position changes.\n     */\n    value: function scrollToPosition(_ref8) {\n      var scrollLeft = _ref8.scrollLeft,\n          scrollTop = _ref8.scrollTop;\n\n      var stateUpdate = Grid._getScrollToPositionStateUpdate({\n        prevState: this.state,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      });\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: \"_getCalculatedScrollLeft\",\n    value: function _getCalculatedScrollLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      return Grid._getCalculatedScrollLeft(props, state);\n    }\n  }, {\n    key: \"_updateScrollLeftForScrollToColumn\",\n    value: function _updateScrollLeftForScrollToColumn() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollLeftForScrollToColumnStateUpdate(props, state);\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: \"_getCalculatedScrollTop\",\n    value: function _getCalculatedScrollTop() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      return Grid._getCalculatedScrollTop(props, state);\n    }\n  }, {\n    key: \"_resetStyleCache\",\n    value: function _resetStyleCache() {\n      var styleCache = this._styleCache;\n      var cellCache = this._cellCache;\n      var isScrollingOptOut = this.props.isScrollingOptOut; // Reset cell and style caches once scrolling stops.\n      // This makes Grid simpler to use (since cells commonly change).\n      // And it keeps the caches from growing too large.\n      // Performance is most sensitive when a user is scrolling.\n      // Don't clear visible cells from cellCache if isScrollingOptOut is specified.\n      // This keeps the cellCache to a resonable size.\n\n      this._cellCache = {};\n      this._styleCache = {}; // Copy over the visible cell styles so avoid unnecessary re-render.\n\n      for (var rowIndex = this._rowStartIndex; rowIndex <= this._rowStopIndex; rowIndex++) {\n        for (var columnIndex = this._columnStartIndex; columnIndex <= this._columnStopIndex; columnIndex++) {\n          var key = \"\".concat(rowIndex, \"-\").concat(columnIndex);\n          this._styleCache[key] = styleCache[key];\n\n          if (isScrollingOptOut) {\n            this._cellCache[key] = cellCache[key];\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateScrollTopForScrollToRow\",\n    value: function _updateScrollTopForScrollToRow() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollTopForScrollToRowStateUpdate(props, state);\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var newState = {};\n\n      if (nextProps.columnCount === 0 && prevState.scrollLeft !== 0 || nextProps.rowCount === 0 && prevState.scrollTop !== 0) {\n        newState.scrollLeft = 0;\n        newState.scrollTop = 0; // only use scroll{Left,Top} from props if scrollTo{Column,Row} isn't specified\n        // scrollTo{Column,Row} should override scroll{Left,Top}\n      } else if (nextProps.scrollLeft !== prevState.scrollLeft && nextProps.scrollToColumn < 0 || nextProps.scrollTop !== prevState.scrollTop && nextProps.scrollToRow < 0) {\n        Object.assign(newState, Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: nextProps.scrollLeft,\n          scrollTop: nextProps.scrollTop\n        }));\n      }\n\n      var instanceProps = prevState.instanceProps; // Initially we should not clearStyleCache\n\n      newState.needToResetStyleCache = false;\n\n      if (nextProps.columnWidth !== instanceProps.prevColumnWidth || nextProps.rowHeight !== instanceProps.prevRowHeight) {\n        // Reset cache. set it to {} in render\n        newState.needToResetStyleCache = true;\n      }\n\n      instanceProps.columnSizeAndPositionManager.configure({\n        cellCount: nextProps.columnCount,\n        estimatedCellSize: Grid._getEstimatedColumnSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.columnWidth)\n      });\n      instanceProps.rowSizeAndPositionManager.configure({\n        cellCount: nextProps.rowCount,\n        estimatedCellSize: Grid._getEstimatedRowSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.rowHeight)\n      });\n\n      if (instanceProps.prevColumnCount === 0 || instanceProps.prevRowCount === 0) {\n        instanceProps.prevColumnCount = 0;\n        instanceProps.prevRowCount = 0;\n      } // If scrolling is controlled outside this component, clear cache when scrolling stops\n\n\n      if (nextProps.autoHeight && nextProps.isScrolling === false && instanceProps.prevIsScrolling === true) {\n        Object.assign(newState, {\n          isScrolling: false\n        });\n      }\n\n      var maybeStateA;\n      var maybeStateB;\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevColumnCount,\n        cellSize: typeof instanceProps.prevColumnWidth === 'number' ? instanceProps.prevColumnWidth : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.columnSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.columnCount,\n        nextCellSize: typeof nextProps.columnWidth === 'number' ? nextProps.columnWidth : null,\n        nextScrollToIndex: nextProps.scrollToColumn,\n        scrollToIndex: instanceProps.prevScrollToColumn,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateA = Grid._getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState);\n        }\n      });\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevRowCount,\n        cellSize: typeof instanceProps.prevRowHeight === 'number' ? instanceProps.prevRowHeight : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.rowSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.rowCount,\n        nextCellSize: typeof nextProps.rowHeight === 'number' ? nextProps.rowHeight : null,\n        nextScrollToIndex: nextProps.scrollToRow,\n        scrollToIndex: instanceProps.prevScrollToRow,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateB = Grid._getScrollTopForScrollToRowStateUpdate(nextProps, prevState);\n        }\n      });\n      instanceProps.prevColumnCount = nextProps.columnCount;\n      instanceProps.prevColumnWidth = nextProps.columnWidth;\n      instanceProps.prevIsScrolling = nextProps.isScrolling === true;\n      instanceProps.prevRowCount = nextProps.rowCount;\n      instanceProps.prevRowHeight = nextProps.rowHeight;\n      instanceProps.prevScrollToColumn = nextProps.scrollToColumn;\n      instanceProps.prevScrollToRow = nextProps.scrollToRow; // getting scrollBarSize (moved from componentWillMount)\n\n      instanceProps.scrollbarSize = nextProps.getScrollbarSize();\n\n      if (instanceProps.scrollbarSize === undefined) {\n        instanceProps.scrollbarSizeMeasured = false;\n        instanceProps.scrollbarSize = 0;\n      } else {\n        instanceProps.scrollbarSizeMeasured = true;\n      }\n\n      newState.instanceProps = instanceProps;\n      return _objectSpread({}, newState, {}, maybeStateA, {}, maybeStateB);\n    }\n  }, {\n    key: \"_getEstimatedColumnSize\",\n    value: function _getEstimatedColumnSize(props) {\n      return typeof props.columnWidth === 'number' ? props.columnWidth : props.estimatedColumnSize;\n    }\n  }, {\n    key: \"_getEstimatedRowSize\",\n    value: function _getEstimatedRowSize(props) {\n      return typeof props.rowHeight === 'number' ? props.rowHeight : props.estimatedRowSize;\n    }\n  }, {\n    key: \"_getScrollToPositionStateUpdate\",\n\n    /**\n     * Get the updated state after scrolling to\n     * scrollLeft and scrollTop\n     */\n    value: function _getScrollToPositionStateUpdate(_ref9) {\n      var prevState = _ref9.prevState,\n          scrollLeft = _ref9.scrollLeft,\n          scrollTop = _ref9.scrollTop;\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0) {\n        newState.scrollDirectionHorizontal = scrollLeft > prevState.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (typeof scrollTop === 'number' && scrollTop >= 0) {\n        newState.scrollDirectionVertical = scrollTop > prevState.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollTop = scrollTop;\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft || typeof scrollTop === 'number' && scrollTop >= 0 && scrollTop !== prevState.scrollTop) {\n        return newState;\n      }\n\n      return {};\n    }\n  }, {\n    key: \"_wrapSizeGetter\",\n    value: function _wrapSizeGetter(value) {\n      return typeof value === 'function' ? value : function () {\n        return value;\n      };\n    }\n  }, {\n    key: \"_getCalculatedScrollLeft\",\n    value: function _getCalculatedScrollLeft(nextProps, prevState) {\n      var columnCount = nextProps.columnCount,\n          height = nextProps.height,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToColumn = nextProps.scrollToColumn,\n          width = nextProps.width;\n      var scrollLeft = prevState.scrollLeft,\n          instanceProps = prevState.instanceProps;\n\n      if (columnCount > 0) {\n        var finalColumn = columnCount - 1;\n        var targetIndex = scrollToColumn < 0 ? finalColumn : Math.min(finalColumn, scrollToColumn);\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n        return instanceProps.columnSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: width - scrollBarSize,\n          currentOffset: scrollLeft,\n          targetIndex: targetIndex\n        });\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getScrollLeftForScrollToColumnStateUpdate\",\n    value: function _getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState) {\n      var scrollLeft = prevState.scrollLeft;\n\n      var calculatedScrollLeft = Grid._getCalculatedScrollLeft(nextProps, prevState);\n\n      if (typeof calculatedScrollLeft === 'number' && calculatedScrollLeft >= 0 && scrollLeft !== calculatedScrollLeft) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: calculatedScrollLeft,\n          scrollTop: -1\n        });\n      }\n\n      return {};\n    }\n  }, {\n    key: \"_getCalculatedScrollTop\",\n    value: function _getCalculatedScrollTop(nextProps, prevState) {\n      var height = nextProps.height,\n          rowCount = nextProps.rowCount,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToRow = nextProps.scrollToRow,\n          width = nextProps.width;\n      var scrollTop = prevState.scrollTop,\n          instanceProps = prevState.instanceProps;\n\n      if (rowCount > 0) {\n        var finalRow = rowCount - 1;\n        var targetIndex = scrollToRow < 0 ? finalRow : Math.min(finalRow, scrollToRow);\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n        return instanceProps.rowSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: height - scrollBarSize,\n          currentOffset: scrollTop,\n          targetIndex: targetIndex\n        });\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getScrollTopForScrollToRowStateUpdate\",\n    value: function _getScrollTopForScrollToRowStateUpdate(nextProps, prevState) {\n      var scrollTop = prevState.scrollTop;\n\n      var calculatedScrollTop = Grid._getCalculatedScrollTop(nextProps, prevState);\n\n      if (typeof calculatedScrollTop === 'number' && calculatedScrollTop >= 0 && scrollTop !== calculatedScrollTop) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: -1,\n          scrollTop: calculatedScrollTop\n        });\n      }\n\n      return {};\n    }\n  }]);\n\n  return Grid;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": PropTypes.string.isRequired,\n  \"aria-readonly\": PropTypes.bool,\n\n  /**\n   * Set the width of the inner scrollable container to 'auto'.\n   * This is useful for single-column Grids to ensure that the column doesn't extend below a vertical scrollbar.\n   */\n  \"autoContainerWidth\": PropTypes.bool.isRequired,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  \"autoHeight\": PropTypes.bool.isRequired,\n\n  /**\n   * Removes fixed width from the scrollingContainer so that the total width of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  \"autoWidth\": PropTypes.bool.isRequired,\n\n  /** Responsible for rendering a cell given an row and column index.  */\n  \"cellRenderer\": function cellRenderer() {\n    return (typeof bpfrpt_proptype_CellRenderer === \"function\" ? bpfrpt_proptype_CellRenderer.isRequired ? bpfrpt_proptype_CellRenderer.isRequired : bpfrpt_proptype_CellRenderer : PropTypes.shape(bpfrpt_proptype_CellRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Responsible for rendering a group of cells given their index ranges.  */\n  \"cellRangeRenderer\": function cellRangeRenderer() {\n    return (typeof bpfrpt_proptype_CellRangeRenderer === \"function\" ? bpfrpt_proptype_CellRangeRenderer.isRequired ? bpfrpt_proptype_CellRangeRenderer.isRequired : bpfrpt_proptype_CellRangeRenderer : PropTypes.shape(bpfrpt_proptype_CellRangeRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Optional custom CSS class name to attach to root Grid element.  */\n  \"className\": PropTypes.string,\n\n  /** Number of columns in grid.  */\n  \"columnCount\": PropTypes.number.isRequired,\n\n  /** Either a fixed column width (number) or a function that returns the width of a column given its index.  */\n  \"columnWidth\": function columnWidth() {\n    return (typeof bpfrpt_proptype_CellSize === \"function\" ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Unfiltered props for the Grid container. */\n  \"containerProps\": PropTypes.object,\n\n  /** ARIA role for the cell-container.  */\n  \"containerRole\": PropTypes.string.isRequired,\n\n  /** Optional inline style applied to inner cell-container */\n  \"containerStyle\": PropTypes.object.isRequired,\n\n  /**\n   * If CellMeasurer is used to measure this Grid's children, this should be a pointer to its CellMeasurerCache.\n   * A shared CellMeasurerCache reference enables Grid and CellMeasurer to share measurement data.\n   */\n  \"deferredMeasurementCache\": PropTypes.object,\n\n  /**\n   * Used to estimate the total width of a Grid before all of its columns have actually been measured.\n   * The estimated total width is adjusted as columns are rendered.\n   */\n  \"estimatedColumnSize\": PropTypes.number.isRequired,\n\n  /**\n   * Used to estimate the total height of a Grid before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  \"estimatedRowSize\": PropTypes.number.isRequired,\n\n  /** Exposed for testing purposes only.  */\n  \"getScrollbarSize\": PropTypes.func.isRequired,\n\n  /** Height of Grid; this property determines the number of visible (vs virtualized) rows.  */\n  \"height\": PropTypes.number.isRequired,\n\n  /** Optional custom id to attach to root Grid element.  */\n  \"id\": PropTypes.string,\n\n  /**\n   * Override internal is-scrolling state tracking.\n   * This property is primarily intended for use with the WindowScroller component.\n   */\n  \"isScrolling\": PropTypes.bool,\n\n  /**\n   * Opt-out of isScrolling param passed to cellRangeRenderer.\n   * To avoid the extra render when scroll stops.\n   */\n  \"isScrollingOptOut\": PropTypes.bool.isRequired,\n\n  /** Optional renderer to be used in place of rows when either :rowCount or :columnCount is 0.  */\n  \"noContentRenderer\": function noContentRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === \"function\" ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : PropTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  \"onScroll\": PropTypes.func.isRequired,\n\n  /**\n   * Called whenever a horizontal or vertical scrollbar is added or removed.\n   * This prop is not intended for end-user use;\n   * It is used by MultiGrid to support fixed-row/fixed-column scroll syncing.\n   */\n  \"onScrollbarPresenceChange\": PropTypes.func.isRequired,\n\n  /** Callback invoked with information about the section of the Grid that was just rendered.  */\n  \"onSectionRendered\": PropTypes.func.isRequired,\n\n  /**\n   * Number of columns to render before/after the visible section of the grid.\n   * These columns can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  \"overscanColumnCount\": PropTypes.number.isRequired,\n\n  /**\n   * Calculates the number of cells to overscan before and after a specified range.\n   * This function ensures that overscanning doesn't exceed the available cells.\n   */\n  \"overscanIndicesGetter\": function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === \"function\" ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : PropTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Number of rows to render above/below the visible section of the grid.\n   * These rows can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  \"overscanRowCount\": PropTypes.number.isRequired,\n\n  /** ARIA role for the grid element.  */\n  \"role\": PropTypes.string.isRequired,\n\n  /**\n   * Either a fixed row height (number) or a function that returns the height of a row given its index.\n   * Should implement the following interface: ({ index: number }): number\n   */\n  \"rowHeight\": function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === \"function\" ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Number of rows in grid.  */\n  \"rowCount\": PropTypes.number.isRequired,\n\n  /** Wait this amount of time after the last scroll event before resetting Grid `pointer-events`. */\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n\n  /** Horizontal offset. */\n  \"scrollLeft\": PropTypes.number,\n\n  /**\n   * Controls scroll-to-cell behavior of the Grid.\n   * The default (\"auto\") scrolls the least amount possible to ensure that the specified cell is fully visible.\n   * Use \"start\" to align cells to the top/left of the Grid and \"end\" to align bottom/right.\n   */\n  \"scrollToAlignment\": function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === \"function\" ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : PropTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n  /** Column index to ensure visible (by forcefully scrolling if necessary) */\n  \"scrollToColumn\": PropTypes.number.isRequired,\n\n  /** Vertical offset. */\n  \"scrollTop\": PropTypes.number,\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  \"scrollToRow\": PropTypes.number.isRequired,\n\n  /** Optional inline style */\n  \"style\": PropTypes.object.isRequired,\n\n  /** Tab index for focus */\n  \"tabIndex\": PropTypes.number,\n\n  /** Width of Grid; this property determines the number of visible (vs virtualized) columns.  */\n  \"width\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(Grid, \"defaultProps\", {\n  'aria-label': 'grid',\n  'aria-readonly': true,\n  autoContainerWidth: false,\n  autoHeight: false,\n  autoWidth: false,\n  cellRangeRenderer: defaultCellRangeRenderer,\n  containerRole: 'rowgroup',\n  containerStyle: {},\n  estimatedColumnSize: 100,\n  estimatedRowSize: 30,\n  getScrollbarSize: scrollbarSize,\n  noContentRenderer: renderNull,\n  onScroll: function onScroll() {},\n  onScrollbarPresenceChange: function onScrollbarPresenceChange() {},\n  onSectionRendered: function onSectionRendered() {},\n  overscanColumnCount: 0,\n  overscanIndicesGetter: defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  scrollToAlignment: 'auto',\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  tabIndex: 0,\n  isScrollingOptOut: false\n});\n\npolyfill(Grid);\nexport default Grid;\nimport { bpfrpt_proptype_CellRenderer } from \"./types\";\nimport { bpfrpt_proptype_CellRangeRenderer } from \"./types\";\nimport { bpfrpt_proptype_CellPosition } from \"./types\";\nimport { bpfrpt_proptype_CellSize } from \"./types\";\nimport { bpfrpt_proptype_CellSizeGetter } from \"./types\";\nimport { bpfrpt_proptype_NoContentRenderer } from \"./types\";\nimport { bpfrpt_proptype_Scroll } from \"./types\";\nimport { bpfrpt_proptype_ScrollbarPresenceChange } from \"./types\";\nimport { bpfrpt_proptype_RenderedSection } from \"./types\";\nimport { bpfrpt_proptype_OverscanIndicesGetter } from \"./types\";\nimport { bpfrpt_proptype_Alignment } from \"./types\";\nimport { bpfrpt_proptype_CellCache } from \"./types\";\nimport { bpfrpt_proptype_StyleCache } from \"./types\";\nimport { bpfrpt_proptype_AnimationTimeoutId } from \"../utils/requestAnimationTimeout\";\nimport PropTypes from \"prop-types\";","import { caf, raf } from './animationFrame';\nvar bpfrpt_proptype_AnimationTimeoutId = process.env.NODE_ENV === 'production' ? null : {\n  \"id\": PropTypes.number.isRequired\n};\nexport var cancelAnimationTimeout = function cancelAnimationTimeout(frame) {\n  return caf(frame.id);\n};\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\n\nexport var requestAnimationTimeout = function requestAnimationTimeout(callback, delay) {\n  var start; // wait for end of processing current event handler, because event handler may be long\n\n  Promise.resolve().then(function () {\n    start = Date.now();\n  });\n\n  var timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(timeout);\n    }\n  };\n\n  var frame = {\n    id: raf(timeout)\n  };\n  return frame;\n};\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_AnimationTimeoutId };","export var SCROLL_DIRECTION_BACKWARD = -1;\nexport var SCROLL_DIRECTION_FORWARD = 1;\nexport var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nexport var SCROLL_DIRECTION_VERTICAL = 'vertical';\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nexport default function defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex)\n    };\n  }\n}\nimport { bpfrpt_proptype_OverscanIndicesGetterParams } from \"./types\";\nimport { bpfrpt_proptype_OverscanIndices } from \"./types\";","/**\n * Default implementation of cellRangeRenderer used by Grid.\n * This renderer supports cell-caching while the user is scrolling.\n */\nexport default function defaultCellRangeRenderer(_ref) {\n  var cellCache = _ref.cellCache,\n      cellRenderer = _ref.cellRenderer,\n      columnSizeAndPositionManager = _ref.columnSizeAndPositionManager,\n      columnStartIndex = _ref.columnStartIndex,\n      columnStopIndex = _ref.columnStopIndex,\n      deferredMeasurementCache = _ref.deferredMeasurementCache,\n      horizontalOffsetAdjustment = _ref.horizontalOffsetAdjustment,\n      isScrolling = _ref.isScrolling,\n      isScrollingOptOut = _ref.isScrollingOptOut,\n      parent = _ref.parent,\n      rowSizeAndPositionManager = _ref.rowSizeAndPositionManager,\n      rowStartIndex = _ref.rowStartIndex,\n      rowStopIndex = _ref.rowStopIndex,\n      styleCache = _ref.styleCache,\n      verticalOffsetAdjustment = _ref.verticalOffsetAdjustment,\n      visibleColumnIndices = _ref.visibleColumnIndices,\n      visibleRowIndices = _ref.visibleRowIndices;\n  var renderedCells = []; // Browsers have native size limits for elements (eg Chrome 33M pixels, IE 1.5M pixes).\n  // User cannot scroll beyond these size limitations.\n  // In order to work around this, ScalingCellSizeAndPositionManager compresses offsets.\n  // We should never cache styles for compressed offsets though as this can lead to bugs.\n  // See issue #576 for more.\n\n  var areOffsetsAdjusted = columnSizeAndPositionManager.areOffsetsAdjusted() || rowSizeAndPositionManager.areOffsetsAdjusted();\n  var canCacheStyle = !isScrolling && !areOffsetsAdjusted;\n\n  for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n    var rowDatum = rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);\n\n    for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n      var columnDatum = columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);\n      var isVisible = columnIndex >= visibleColumnIndices.start && columnIndex <= visibleColumnIndices.stop && rowIndex >= visibleRowIndices.start && rowIndex <= visibleRowIndices.stop;\n      var key = \"\".concat(rowIndex, \"-\").concat(columnIndex);\n      var style = void 0; // Cache style objects so shallow-compare doesn't re-render unnecessarily.\n\n      if (canCacheStyle && styleCache[key]) {\n        style = styleCache[key];\n      } else {\n        // In deferred mode, cells will be initially rendered before we know their size.\n        // Don't interfere with CellMeasurer's measurements by setting an invalid size.\n        if (deferredMeasurementCache && !deferredMeasurementCache.has(rowIndex, columnIndex)) {\n          // Position not-yet-measured cells at top/left 0,0,\n          // And give them width/height of 'auto' so they can grow larger than the parent Grid if necessary.\n          // Positioning them further to the right/bottom influences their measured size.\n          style = {\n            height: 'auto',\n            left: 0,\n            position: 'absolute',\n            top: 0,\n            width: 'auto'\n          };\n        } else {\n          style = {\n            height: rowDatum.size,\n            left: columnDatum.offset + horizontalOffsetAdjustment,\n            position: 'absolute',\n            top: rowDatum.offset + verticalOffsetAdjustment,\n            width: columnDatum.size\n          };\n          styleCache[key] = style;\n        }\n      }\n\n      var cellRendererParams = {\n        columnIndex: columnIndex,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent,\n        rowIndex: rowIndex,\n        style: style\n      };\n      var renderedCell = void 0; // Avoid re-creating cells while scrolling.\n      // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n      // If a scroll is in progress- cache and reuse cells.\n      // This cache will be thrown away once scrolling completes.\n      // However if we are scaling scroll positions and sizes, we should also avoid caching.\n      // This is because the offset changes slightly as scroll position changes and caching leads to stale values.\n      // For more info refer to issue #395\n      //\n      // If isScrollingOptOut is specified, we always cache cells.\n      // For more info refer to issue #1028\n\n      if ((isScrollingOptOut || isScrolling) && !horizontalOffsetAdjustment && !verticalOffsetAdjustment) {\n        if (!cellCache[key]) {\n          cellCache[key] = cellRenderer(cellRendererParams);\n        }\n\n        renderedCell = cellCache[key]; // If the user is no longer scrolling, don't cache cells.\n        // This makes dynamic cell content difficult for users and would also lead to a heavier memory footprint.\n      } else {\n        renderedCell = cellRenderer(cellRendererParams);\n      }\n\n      if (renderedCell == null || renderedCell === false) {\n        continue;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        warnAboutMissingStyle(parent, renderedCell);\n      }\n\n      renderedCells.push(renderedCell);\n    }\n  }\n\n  return renderedCells;\n}\n\nfunction warnAboutMissingStyle(parent, renderedCell) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (renderedCell) {\n      // If the direct child is a CellMeasurer, then we should check its child\n      // See issue #611\n      if (renderedCell.type && renderedCell.type.__internalCellMeasurerFlag) {\n        renderedCell = renderedCell.props.children;\n      }\n\n      if (renderedCell && renderedCell.props && renderedCell.props.style === undefined && parent.__warnedAboutMissingStyle !== true) {\n        parent.__warnedAboutMissingStyle = true;\n        console.warn('Rendered cell should include style property for positioning.');\n      }\n    }\n  }\n}\n\nimport { bpfrpt_proptype_CellRangeRendererParams } from \"./types\";","export var SCROLL_DIRECTION_BACKWARD = -1;\nexport var SCROLL_DIRECTION_FORWARD = 1;\nexport var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nexport var SCROLL_DIRECTION_VERTICAL = 'vertical';\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nexport default function defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n  // Make sure we render at least 1 cell extra before and after (except near boundaries)\n  // This is necessary in order to support keyboard navigation (TAB/SHIFT+TAB) in some cases\n  // For more info see issues #625\n  overscanCellsCount = Math.max(1, overscanCellsCount);\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - 1),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + 1)\n    };\n  }\n}\nimport { bpfrpt_proptype_OverscanIndicesGetterParams } from \"./types\";\nimport { bpfrpt_proptype_OverscanIndices } from \"./types\";","var bpfrpt_proptype_ScrollIndices = process.env.NODE_ENV === 'production' ? null : {\n  \"scrollToColumn\": PropTypes.number.isRequired,\n  \"scrollToRow\": PropTypes.number.isRequired\n};\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_ScrollIndices };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\n/**\n * This HOC decorates a virtualized component and responds to arrow-key events by scrolling one row or column at a time.\n */\n\nvar ArrowKeyStepper = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ArrowKeyStepper, _React$PureComponent);\n\n  function ArrowKeyStepper() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ArrowKeyStepper);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ArrowKeyStepper)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      scrollToColumn: 0,\n      scrollToRow: 0,\n      instanceProps: {\n        prevScrollToColumn: 0,\n        prevScrollToRow: 0\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStartIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowStopIndex\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", function (event) {\n      var _this$props = _this.props,\n          columnCount = _this$props.columnCount,\n          disabled = _this$props.disabled,\n          mode = _this$props.mode,\n          rowCount = _this$props.rowCount;\n\n      if (disabled) {\n        return;\n      }\n\n      var _this$_getScrollState = _this._getScrollState(),\n          scrollToColumnPrevious = _this$_getScrollState.scrollToColumn,\n          scrollToRowPrevious = _this$_getScrollState.scrollToRow;\n\n      var _this$_getScrollState2 = _this._getScrollState(),\n          scrollToColumn = _this$_getScrollState2.scrollToColumn,\n          scrollToRow = _this$_getScrollState2.scrollToRow; // The above cases all prevent default event event behavior.\n      // This is to keep the grid from scrolling after the snap-to update.\n\n\n      switch (event.key) {\n        case 'ArrowDown':\n          scrollToRow = mode === 'cells' ? Math.min(scrollToRow + 1, rowCount - 1) : Math.min(_this._rowStopIndex + 1, rowCount - 1);\n          break;\n\n        case 'ArrowLeft':\n          scrollToColumn = mode === 'cells' ? Math.max(scrollToColumn - 1, 0) : Math.max(_this._columnStartIndex - 1, 0);\n          break;\n\n        case 'ArrowRight':\n          scrollToColumn = mode === 'cells' ? Math.min(scrollToColumn + 1, columnCount - 1) : Math.min(_this._columnStopIndex + 1, columnCount - 1);\n          break;\n\n        case 'ArrowUp':\n          scrollToRow = mode === 'cells' ? Math.max(scrollToRow - 1, 0) : Math.max(_this._rowStartIndex - 1, 0);\n          break;\n      }\n\n      if (scrollToColumn !== scrollToColumnPrevious || scrollToRow !== scrollToRowPrevious) {\n        event.preventDefault();\n\n        _this._updateScrollState({\n          scrollToColumn: scrollToColumn,\n          scrollToRow: scrollToRow\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSectionRendered\", function (_ref) {\n      var columnStartIndex = _ref.columnStartIndex,\n          columnStopIndex = _ref.columnStopIndex,\n          rowStartIndex = _ref.rowStartIndex,\n          rowStopIndex = _ref.rowStopIndex;\n      _this._columnStartIndex = columnStartIndex;\n      _this._columnStopIndex = columnStopIndex;\n      _this._rowStartIndex = rowStartIndex;\n      _this._rowStopIndex = rowStopIndex;\n    });\n\n    return _this;\n  }\n\n  _createClass(ArrowKeyStepper, [{\n    key: \"setScrollIndexes\",\n    value: function setScrollIndexes(_ref2) {\n      var scrollToColumn = _ref2.scrollToColumn,\n          scrollToRow = _ref2.scrollToRow;\n      this.setState({\n        scrollToRow: scrollToRow,\n        scrollToColumn: scrollToColumn\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          className = _this$props2.className,\n          children = _this$props2.children;\n\n      var _this$_getScrollState3 = this._getScrollState(),\n          scrollToColumn = _this$_getScrollState3.scrollToColumn,\n          scrollToRow = _this$_getScrollState3.scrollToRow;\n\n      return React.createElement(\"div\", {\n        className: className,\n        onKeyDown: this._onKeyDown\n      }, children({\n        onSectionRendered: this._onSectionRendered,\n        scrollToColumn: scrollToColumn,\n        scrollToRow: scrollToRow\n      }));\n    }\n  }, {\n    key: \"_getScrollState\",\n    value: function _getScrollState() {\n      return this.props.isControlled ? this.props : this.state;\n    }\n  }, {\n    key: \"_updateScrollState\",\n    value: function _updateScrollState(_ref3) {\n      var scrollToColumn = _ref3.scrollToColumn,\n          scrollToRow = _ref3.scrollToRow;\n      var _this$props3 = this.props,\n          isControlled = _this$props3.isControlled,\n          onScrollToChange = _this$props3.onScrollToChange;\n\n      if (typeof onScrollToChange === 'function') {\n        onScrollToChange({\n          scrollToColumn: scrollToColumn,\n          scrollToRow: scrollToRow\n        });\n      }\n\n      if (!isControlled) {\n        this.setState({\n          scrollToColumn: scrollToColumn,\n          scrollToRow: scrollToRow\n        });\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.isControlled) {\n        return {};\n      }\n\n      if (nextProps.scrollToColumn !== prevState.instanceProps.prevScrollToColumn || nextProps.scrollToRow !== prevState.instanceProps.prevScrollToRow) {\n        return _objectSpread({}, prevState, {\n          scrollToColumn: nextProps.scrollToColumn,\n          scrollToRow: nextProps.scrollToRow,\n          instanceProps: {\n            prevScrollToColumn: nextProps.scrollToColumn,\n            prevScrollToRow: nextProps.scrollToRow\n          }\n        });\n      }\n\n      return {};\n    }\n  }]);\n\n  return ArrowKeyStepper;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"children\": PropTypes.func.isRequired,\n  \"className\": PropTypes.string,\n  \"columnCount\": PropTypes.number.isRequired,\n  \"disabled\": PropTypes.bool.isRequired,\n  \"isControlled\": PropTypes.bool.isRequired,\n  \"mode\": PropTypes.oneOf([\"cells\", \"edges\"]).isRequired,\n  \"onScrollToChange\": PropTypes.func,\n  \"rowCount\": PropTypes.number.isRequired,\n  \"scrollToColumn\": PropTypes.number.isRequired,\n  \"scrollToRow\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(ArrowKeyStepper, \"defaultProps\", {\n  disabled: false,\n  isControlled: false,\n  mode: 'edges',\n  scrollToColumn: 0,\n  scrollToRow: 0\n});\n\npolyfill(ArrowKeyStepper);\nexport default ArrowKeyStepper;\nimport { bpfrpt_proptype_RenderedSection } from \"../Grid\";\nimport { bpfrpt_proptype_ScrollIndices } from \"./types\";\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport createDetectElementResize from '../vendor/detectElementResize';\nvar AutoSizer = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AutoSizer, _React$Component);\n\n  function AutoSizer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AutoSizer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_parentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_autoSizer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_window\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_detectElementResize\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onResize\", function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n        var height = _this._parentNode.offsetHeight || 0;\n        var width = _this._parentNode.offsetWidth || 0;\n        var win = _this._window || window;\n        var style = win.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(style.paddingBottom, 10) || 0;\n        var newHeight = height - paddingTop - paddingBottom;\n        var newWidth = width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: height - paddingTop - paddingBottom,\n            width: width - paddingLeft - paddingRight\n          });\n\n          onResize({\n            height: height,\n            width: width\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setRef\", function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    });\n\n    return _this;\n  }\n\n  _createClass(AutoSizer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n        this._window = this._autoSizer.parentNode.ownerDocument.defaultView; // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n\n        this._detectElementResize = createDetectElementResize(nonce, this._window);\n\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          className = _this$props2.className,\n          disableHeight = _this$props2.disableHeight,\n          disableWidth = _this$props2.disableWidth,\n          style = _this$props2.style;\n      var _this$state = this.state,\n          height = _this$state.height,\n          width = _this$state.width; // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = {\n        overflow: 'visible'\n      };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n\n      return React.createElement(\"div\", {\n        className: className,\n        ref: this._setRef,\n        style: _objectSpread({}, outerStyle, {}, style)\n      }, children(childParams));\n    }\n  }]);\n\n  return AutoSizer;\n}(React.Component), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  /** Function responsible for rendering children.*/\n  \"children\": PropTypes.func.isRequired,\n\n  /** Optional custom CSS class name to attach to root AutoSizer element.  */\n  \"className\": PropTypes.string,\n\n  /** Default height to use for initial render; useful for SSR */\n  \"defaultHeight\": PropTypes.number,\n\n  /** Default width to use for initial render; useful for SSR */\n  \"defaultWidth\": PropTypes.number,\n\n  /** Disable dynamic :height property */\n  \"disableHeight\": PropTypes.bool.isRequired,\n\n  /** Disable dynamic :width property */\n  \"disableWidth\": PropTypes.bool.isRequired,\n\n  /** Nonce of the inlined stylesheet for Content Security Policy */\n  \"nonce\": PropTypes.string,\n\n  /** Callback to be invoked on-resize */\n  \"onResize\": PropTypes.func.isRequired,\n\n  /** Optional inline style */\n  \"style\": PropTypes.object\n}), _temp);\n\n_defineProperty(AutoSizer, \"defaultProps\", {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n});\n\nexport { AutoSizer as default };\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\n\n/**\n * Wraps a cell and measures its rendered content.\n * Measurements are stored in a per-cell cache.\n * Cached-content is not be re-measured.\n */\nvar CellMeasurer = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CellMeasurer, _React$PureComponent);\n\n  function CellMeasurer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CellMeasurer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CellMeasurer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_child\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_measure\", function () {\n      var _this$props = _this.props,\n          cache = _this$props.cache,\n          _this$props$columnInd = _this$props.columnIndex,\n          columnIndex = _this$props$columnInd === void 0 ? 0 : _this$props$columnInd,\n          parent = _this$props.parent,\n          _this$props$rowIndex = _this$props.rowIndex,\n          rowIndex = _this$props$rowIndex === void 0 ? _this.props.index || 0 : _this$props$rowIndex;\n\n      var _this$_getCellMeasure = _this._getCellMeasurements(),\n          height = _this$_getCellMeasure.height,\n          width = _this$_getCellMeasure.width;\n\n      if (height !== cache.getHeight(rowIndex, columnIndex) || width !== cache.getWidth(rowIndex, columnIndex)) {\n        cache.set(rowIndex, columnIndex, width, height);\n\n        if (parent && typeof parent.recomputeGridSize === 'function') {\n          parent.recomputeGridSize({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_registerChild\", function (element) {\n      if (element && !(element instanceof Element)) {\n        console.warn('CellMeasurer registerChild expects to be passed Element or null');\n      }\n\n      _this._child = element;\n\n      if (element) {\n        _this._maybeMeasureCell();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(CellMeasurer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return typeof children === 'function' ? children({\n        measure: this._measure,\n        registerChild: this._registerChild\n      }) : children;\n    }\n  }, {\n    key: \"_getCellMeasurements\",\n    value: function _getCellMeasurements() {\n      var cache = this.props.cache;\n      var node = this._child || findDOMNode(this); // TODO Check for a bad combination of fixedWidth and missing numeric width or vice versa with height\n\n      if (node && node.ownerDocument && node.ownerDocument.defaultView && node instanceof node.ownerDocument.defaultView.HTMLElement) {\n        var styleWidth = node.style.width;\n        var styleHeight = node.style.height; // If we are re-measuring a cell that has already been measured,\n        // It will have a hard-coded width/height from the previous measurement.\n        // The fact that we are measuring indicates this measurement is probably stale,\n        // So explicitly clear it out (eg set to \"auto\") so we can recalculate.\n        // See issue #593 for more info.\n        // Even if we are measuring initially- if we're inside of a MultiGrid component,\n        // Explicitly clear width/height before measuring to avoid being tainted by another Grid.\n        // eg top/left Grid renders before bottom/right Grid\n        // Since the CellMeasurerCache is shared between them this taints derived cell size values.\n\n        if (!cache.hasFixedWidth()) {\n          node.style.width = 'auto';\n        }\n\n        if (!cache.hasFixedHeight()) {\n          node.style.height = 'auto';\n        }\n\n        var height = Math.ceil(node.offsetHeight);\n        var width = Math.ceil(node.offsetWidth); // Reset after measuring to avoid breaking styles; see #660\n\n        if (styleWidth) {\n          node.style.width = styleWidth;\n        }\n\n        if (styleHeight) {\n          node.style.height = styleHeight;\n        }\n\n        return {\n          height: height,\n          width: width\n        };\n      } else {\n        return {\n          height: 0,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: \"_maybeMeasureCell\",\n    value: function _maybeMeasureCell() {\n      var _this$props2 = this.props,\n          cache = _this$props2.cache,\n          _this$props2$columnIn = _this$props2.columnIndex,\n          columnIndex = _this$props2$columnIn === void 0 ? 0 : _this$props2$columnIn,\n          parent = _this$props2.parent,\n          _this$props2$rowIndex = _this$props2.rowIndex,\n          rowIndex = _this$props2$rowIndex === void 0 ? this.props.index || 0 : _this$props2$rowIndex;\n\n      if (!cache.has(rowIndex, columnIndex)) {\n        var _this$_getCellMeasure2 = this._getCellMeasurements(),\n            height = _this$_getCellMeasure2.height,\n            width = _this$_getCellMeasure2.width;\n\n        cache.set(rowIndex, columnIndex, width, height); // If size has changed, let Grid know to re-render.\n\n        if (parent && typeof parent.invalidateCellSizeAfterRender === 'function') {\n          parent.invalidateCellSizeAfterRender({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }\n  }]);\n\n  return CellMeasurer;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"cache\": function cache() {\n    return (typeof bpfrpt_proptype_CellMeasureCache === \"function\" ? bpfrpt_proptype_CellMeasureCache.isRequired ? bpfrpt_proptype_CellMeasureCache.isRequired : bpfrpt_proptype_CellMeasureCache : PropTypes.shape(bpfrpt_proptype_CellMeasureCache).isRequired).apply(this, arguments);\n  },\n  \"children\": PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n  \"columnIndex\": PropTypes.number,\n  \"index\": PropTypes.number,\n  \"parent\": PropTypes.shape({\n    invalidateCellSizeAfterRender: PropTypes.func,\n    recomputeGridSize: PropTypes.func\n  }).isRequired,\n  \"rowIndex\": PropTypes.number\n}), _temp); // Used for DEV mode warning check\n\n_defineProperty(CellMeasurer, \"__internalCellMeasurerFlag\", false);\n\nexport { CellMeasurer as default };\n\nif (process.env.NODE_ENV !== 'production') {\n  CellMeasurer.__internalCellMeasurerFlag = true;\n}\n\nimport { bpfrpt_proptype_CellMeasureCache } from \"./types\";\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nexport var DEFAULT_HEIGHT = 30;\nexport var DEFAULT_WIDTH = 100; // Enables more intelligent mapping of a given column and row index to an item ID.\n// This prevents a cell cache from being invalidated when its parent collection is modified.\n\n/**\n * Caches measurements for a given cell.\n */\nvar CellMeasurerCache =\n/*#__PURE__*/\nfunction () {\n  function CellMeasurerCache() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, CellMeasurerCache);\n\n    _defineProperty(this, \"_cellHeightCache\", {});\n\n    _defineProperty(this, \"_cellWidthCache\", {});\n\n    _defineProperty(this, \"_columnWidthCache\", {});\n\n    _defineProperty(this, \"_rowHeightCache\", {});\n\n    _defineProperty(this, \"_defaultHeight\", void 0);\n\n    _defineProperty(this, \"_defaultWidth\", void 0);\n\n    _defineProperty(this, \"_minHeight\", void 0);\n\n    _defineProperty(this, \"_minWidth\", void 0);\n\n    _defineProperty(this, \"_keyMapper\", void 0);\n\n    _defineProperty(this, \"_hasFixedHeight\", void 0);\n\n    _defineProperty(this, \"_hasFixedWidth\", void 0);\n\n    _defineProperty(this, \"_columnCount\", 0);\n\n    _defineProperty(this, \"_rowCount\", 0);\n\n    _defineProperty(this, \"columnWidth\", function (_ref) {\n      var index = _ref.index;\n\n      var key = _this._keyMapper(0, index);\n\n      return _this._columnWidthCache[key] !== undefined ? _this._columnWidthCache[key] : _this._defaultWidth;\n    });\n\n    _defineProperty(this, \"rowHeight\", function (_ref2) {\n      var index = _ref2.index;\n\n      var key = _this._keyMapper(index, 0);\n\n      return _this._rowHeightCache[key] !== undefined ? _this._rowHeightCache[key] : _this._defaultHeight;\n    });\n\n    var defaultHeight = params.defaultHeight,\n        defaultWidth = params.defaultWidth,\n        fixedHeight = params.fixedHeight,\n        fixedWidth = params.fixedWidth,\n        keyMapper = params.keyMapper,\n        minHeight = params.minHeight,\n        minWidth = params.minWidth;\n    this._hasFixedHeight = fixedHeight === true;\n    this._hasFixedWidth = fixedWidth === true;\n    this._minHeight = minHeight || 0;\n    this._minWidth = minWidth || 0;\n    this._keyMapper = keyMapper || defaultKeyMapper;\n    this._defaultHeight = Math.max(this._minHeight, typeof defaultHeight === 'number' ? defaultHeight : DEFAULT_HEIGHT);\n    this._defaultWidth = Math.max(this._minWidth, typeof defaultWidth === 'number' ? defaultWidth : DEFAULT_WIDTH);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this._hasFixedHeight === false && this._hasFixedWidth === false) {\n        console.warn(\"CellMeasurerCache should only measure a cell's width or height. \" + 'You have configured CellMeasurerCache to measure both. ' + 'This will result in poor performance.');\n      }\n\n      if (this._hasFixedHeight === false && this._defaultHeight === 0) {\n        console.warn('Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n\n      if (this._hasFixedWidth === false && this._defaultWidth === 0) {\n        console.warn('Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. ' + 'Failing to do so will lead to unnecessary layout and poor performance.');\n      }\n    }\n  }\n\n  _createClass(CellMeasurerCache, [{\n    key: \"clear\",\n    value: function clear(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      delete this._cellHeightCache[key];\n      delete this._cellWidthCache[key];\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: \"clearAll\",\n    value: function clearAll() {\n      this._cellHeightCache = {};\n      this._cellWidthCache = {};\n      this._columnWidthCache = {};\n      this._rowHeightCache = {};\n      this._rowCount = 0;\n      this._columnCount = 0;\n    }\n  }, {\n    key: \"hasFixedHeight\",\n    value: function hasFixedHeight() {\n      return this._hasFixedHeight;\n    }\n  }, {\n    key: \"hasFixedWidth\",\n    value: function hasFixedWidth() {\n      return this._hasFixedWidth;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedHeight) {\n        return this._defaultHeight;\n      } else {\n        var _key = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellHeightCache[_key] !== undefined ? Math.max(this._minHeight, this._cellHeightCache[_key]) : this._defaultHeight;\n      }\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedWidth) {\n        return this._defaultWidth;\n      } else {\n        var _key2 = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellWidthCache[_key2] !== undefined ? Math.max(this._minWidth, this._cellWidthCache[_key2]) : this._defaultWidth;\n      }\n    }\n  }, {\n    key: \"has\",\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      return this._cellHeightCache[key] !== undefined;\n    }\n  }, {\n    key: \"set\",\n    value: function set(rowIndex, columnIndex, width, height) {\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      if (columnIndex >= this._columnCount) {\n        this._columnCount = columnIndex + 1;\n      }\n\n      if (rowIndex >= this._rowCount) {\n        this._rowCount = rowIndex + 1;\n      } // Size is cached per cell so we don't have to re-measure if cells are re-ordered.\n\n\n      this._cellHeightCache[key] = height;\n      this._cellWidthCache[key] = width;\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: \"_updateCachedColumnAndRowSizes\",\n    value: function _updateCachedColumnAndRowSizes(rowIndex, columnIndex) {\n      // :columnWidth and :rowHeight are derived based on all cells in a column/row.\n      // Pre-cache these derived values for faster lookup later.\n      // Reads are expected to occur more frequently than writes in this case.\n      // Only update non-fixed dimensions though to avoid doing unnecessary work.\n      if (!this._hasFixedWidth) {\n        var columnWidth = 0;\n\n        for (var i = 0; i < this._rowCount; i++) {\n          columnWidth = Math.max(columnWidth, this.getWidth(i, columnIndex));\n        }\n\n        var columnKey = this._keyMapper(0, columnIndex);\n\n        this._columnWidthCache[columnKey] = columnWidth;\n      }\n\n      if (!this._hasFixedHeight) {\n        var rowHeight = 0;\n\n        for (var _i = 0; _i < this._columnCount; _i++) {\n          rowHeight = Math.max(rowHeight, this.getHeight(rowIndex, _i));\n        }\n\n        var rowKey = this._keyMapper(rowIndex, 0);\n\n        this._rowHeightCache[rowKey] = rowHeight;\n      }\n    }\n  }, {\n    key: \"defaultHeight\",\n    get: function get() {\n      return this._defaultHeight;\n    }\n  }, {\n    key: \"defaultWidth\",\n    get: function get() {\n      return this._defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCache;\n}();\n\nexport { CellMeasurerCache as default };\n\nfunction defaultKeyMapper(rowIndex, columnIndex) {\n  return \"\".concat(rowIndex, \"-\").concat(columnIndex);\n}\n\nimport { bpfrpt_proptype_CellMeasureCache } from \"./types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport createCallbackMemoizer from '../utils/createCallbackMemoizer';\nimport getScrollbarSize from 'dom-helpers/scrollbarSize'; // @TODO Merge Collection and CollectionView\n\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nvar IS_SCROLLING_TIMEOUT = 150;\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\n\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n/**\n * Monitors changes in properties (eg. cellCount) and state (eg. scroll offsets) to determine when rendering needs to occur.\n * This component does not render any visible content itself; it defers to the specified :cellLayoutManager.\n */\n\nvar CollectionView =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CollectionView, _React$PureComponent);\n\n  // Invokes callbacks only when their values have changed.\n  function CollectionView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CollectionView);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CollectionView)).call.apply(_getPrototypeOf2, [this].concat(args))); // If this component is being rendered server-side, getScrollbarSize() will return undefined.\n    // We handle this case in componentDidMount()\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isScrolling: false,\n      scrollLeft: 0,\n      scrollTop: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_calculateSizeAndPositionDataOnNextUpdate\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSectionRenderedMemoizer\", createCallbackMemoizer());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollMemoizer\", createCallbackMemoizer(false));\n\n    _defineProperty(_assertThisInitialized(_this), \"_invokeOnSectionRenderedHelper\", function () {\n      var _this$props = _this.props,\n          cellLayoutManager = _this$props.cellLayoutManager,\n          onSectionRendered = _this$props.onSectionRendered;\n\n      _this._onSectionRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          indices: cellLayoutManager.getLastRenderedIndices()\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_updateScrollPositionForScrollToCell\", function () {\n      var _this$props2 = _this.props,\n          cellLayoutManager = _this$props2.cellLayoutManager,\n          height = _this$props2.height,\n          scrollToAlignment = _this$props2.scrollToAlignment,\n          scrollToCell = _this$props2.scrollToCell,\n          width = _this$props2.width;\n      var _this$state = _this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n\n      if (scrollToCell >= 0) {\n        var scrollPosition = cellLayoutManager.getScrollPositionForCell({\n          align: scrollToAlignment,\n          cellIndex: scrollToCell,\n          height: height,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          width: width\n        });\n\n        if (scrollPosition.scrollLeft !== scrollLeft || scrollPosition.scrollTop !== scrollTop) {\n          _this._setScrollPosition(scrollPosition);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target !== _this._scrollingContainer) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      _this._enablePointerEventsAfterDelay(); // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scrollTop never exceeds the total height.\n\n\n      var _this$props3 = _this.props,\n          cellLayoutManager = _this$props3.cellLayoutManager,\n          height = _this$props3.height,\n          isScrollingChange = _this$props3.isScrollingChange,\n          width = _this$props3.width;\n      var scrollbarSize = _this._scrollbarSize;\n\n      var _cellLayoutManager$ge = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge.height,\n          totalWidth = _cellLayoutManager$ge.width;\n\n      var scrollLeft = Math.max(0, Math.min(totalWidth - width + scrollbarSize, event.target.scrollLeft));\n      var scrollTop = Math.max(0, Math.min(totalHeight - height + scrollbarSize, event.target.scrollTop)); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n      if (_this.state.scrollLeft !== scrollLeft || _this.state.scrollTop !== scrollTop) {\n        // Browsers with cancelable scroll events (eg. Firefox) interrupt scrolling animations if scrollTop/scrollLeft is set.\n        // Other browsers (eg. Safari) don't scroll as well without the help under certain conditions (DOM or style changes during scrolling).\n        // All things considered, this seems to be the best current work around that I'm aware of.\n        // For more information see https://github.com/bvaughn/react-virtualized/pull/124\n        var scrollPositionChangeReason = event.cancelable ? SCROLL_POSITION_CHANGE_REASONS.OBSERVED : SCROLL_POSITION_CHANGE_REASONS.REQUESTED; // Synchronously set :isScrolling the first time (since _setNextState will reschedule its animation frame each time it's called)\n\n        if (!_this.state.isScrolling) {\n          isScrollingChange(true);\n        }\n\n        _this.setState({\n          isScrolling: true,\n          scrollLeft: scrollLeft,\n          scrollPositionChangeReason: scrollPositionChangeReason,\n          scrollTop: scrollTop\n        });\n      }\n\n      _this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalWidth: totalWidth,\n        totalHeight: totalHeight\n      });\n    });\n\n    _this._scrollbarSize = getScrollbarSize();\n\n    if (_this._scrollbarSize === undefined) {\n      _this._scrollbarSizeMeasured = false;\n      _this._scrollbarSize = 0;\n    } else {\n      _this._scrollbarSizeMeasured = true;\n    }\n\n    return _this;\n  }\n  /**\n   * Forced recompute of cell sizes and positions.\n   * This function should be called if cell sizes have changed but nothing else has.\n   * Since cell positions are calculated by callbacks, the collection view has no way of detecting when the underlying data has changed.\n   */\n\n\n  _createClass(CollectionView, [{\n    key: \"recomputeCellSizesAndPositions\",\n    value: function recomputeCellSizesAndPositions() {\n      this._calculateSizeAndPositionDataOnNextUpdate = true;\n      this.forceUpdate();\n    }\n    /* ---------------------------- Component lifecycle methods ---------------------------- */\n\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props4 = this.props,\n          cellLayoutManager = _this$props4.cellLayoutManager,\n          scrollLeft = _this$props4.scrollLeft,\n          scrollToCell = _this$props4.scrollToCell,\n          scrollTop = _this$props4.scrollTop; // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n\n      if (!this._scrollbarSizeMeasured) {\n        this._scrollbarSize = getScrollbarSize();\n        this._scrollbarSizeMeasured = true;\n        this.setState({});\n      }\n\n      if (scrollToCell >= 0) {\n        this._updateScrollPositionForScrollToCell();\n      } else if (scrollLeft >= 0 || scrollTop >= 0) {\n        this._setScrollPosition({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n      } // Update onSectionRendered callback.\n\n\n      this._invokeOnSectionRenderedHelper();\n\n      var _cellLayoutManager$ge2 = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge2.height,\n          totalWidth = _cellLayoutManager$ge2.width; // Initialize onScroll callback.\n\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalHeight: totalHeight,\n        totalWidth: totalWidth\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$props5 = this.props,\n          height = _this$props5.height,\n          scrollToAlignment = _this$props5.scrollToAlignment,\n          scrollToCell = _this$props5.scrollToCell,\n          width = _this$props5.width;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollPositionChangeReason = _this$state2.scrollPositionChangeReason,\n          scrollTop = _this$state2.scrollTop; // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        if (scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft && scrollLeft !== this._scrollingContainer.scrollLeft) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n\n        if (scrollTop >= 0 && scrollTop !== prevState.scrollTop && scrollTop !== this._scrollingContainer.scrollTop) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      } // Update scroll offsets if the current :scrollToCell values requires it\n\n\n      if (height !== prevProps.height || scrollToAlignment !== prevProps.scrollToAlignment || scrollToCell !== prevProps.scrollToCell || width !== prevProps.width) {\n        this._updateScrollPositionForScrollToCell();\n      } // Update onRowsRendered callback if start/stop indices have changed\n\n\n      this._invokeOnSectionRenderedHelper();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        clearTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          autoHeight = _this$props6.autoHeight,\n          cellCount = _this$props6.cellCount,\n          cellLayoutManager = _this$props6.cellLayoutManager,\n          className = _this$props6.className,\n          height = _this$props6.height,\n          horizontalOverscanSize = _this$props6.horizontalOverscanSize,\n          id = _this$props6.id,\n          noContentRenderer = _this$props6.noContentRenderer,\n          style = _this$props6.style,\n          verticalOverscanSize = _this$props6.verticalOverscanSize,\n          width = _this$props6.width;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollLeft = _this$state3.scrollLeft,\n          scrollTop = _this$state3.scrollTop; // Memoization reset\n\n      if (this._lastRenderedCellCount !== cellCount || this._lastRenderedCellLayoutManager !== cellLayoutManager || this._calculateSizeAndPositionDataOnNextUpdate) {\n        this._lastRenderedCellCount = cellCount;\n        this._lastRenderedCellLayoutManager = cellLayoutManager;\n        this._calculateSizeAndPositionDataOnNextUpdate = false;\n        cellLayoutManager.calculateSizeAndPositionData();\n      }\n\n      var _cellLayoutManager$ge3 = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge3.height,\n          totalWidth = _cellLayoutManager$ge3.width; // Safely expand the rendered area by the specified overscan amount\n\n\n      var left = Math.max(0, scrollLeft - horizontalOverscanSize);\n      var top = Math.max(0, scrollTop - verticalOverscanSize);\n      var right = Math.min(totalWidth, scrollLeft + width + horizontalOverscanSize);\n      var bottom = Math.min(totalHeight, scrollTop + height + verticalOverscanSize);\n      var childrenToDisplay = height > 0 && width > 0 ? cellLayoutManager.cellRenderers({\n        height: bottom - top,\n        isScrolling: isScrolling,\n        width: right - left,\n        x: left,\n        y: top\n      }) : [];\n      var collectionStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        WebkitOverflowScrolling: 'touch',\n        width: width,\n        willChange: 'transform'\n      }; // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n\n      var verticalScrollBarSize = totalHeight > height ? this._scrollbarSize : 0;\n      var horizontalScrollBarSize = totalWidth > width ? this._scrollbarSize : 0; // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n\n      collectionStyle.overflowX = totalWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      collectionStyle.overflowY = totalHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n      return React.createElement(\"div\", {\n        ref: this._setScrollingContainerRef,\n        \"aria-label\": this.props['aria-label'],\n        className: clsx('ReactVirtualized__Collection', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: \"grid\",\n        style: _objectSpread({}, collectionStyle, {}, style),\n        tabIndex: 0\n      }, cellCount > 0 && React.createElement(\"div\", {\n        className: \"ReactVirtualized__Collection__innerScrollContainer\",\n        style: {\n          height: totalHeight,\n          maxHeight: totalHeight,\n          maxWidth: totalWidth,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          width: totalWidth\n        }\n      }, childrenToDisplay), cellCount === 0 && noContentRenderer());\n    }\n    /* ---------------------------- Helper methods ---------------------------- */\n\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Collection.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: \"_enablePointerEventsAfterDelay\",\n    value: function _enablePointerEventsAfterDelay() {\n      var _this2 = this;\n\n      if (this._disablePointerEventsTimeoutId) {\n        clearTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = setTimeout(function () {\n        var isScrollingChange = _this2.props.isScrollingChange;\n        isScrollingChange(false);\n        _this2._disablePointerEventsTimeoutId = null;\n\n        _this2.setState({\n          isScrolling: false\n        });\n      }, IS_SCROLLING_TIMEOUT);\n    }\n  }, {\n    key: \"_invokeOnScrollMemoizer\",\n    value: function _invokeOnScrollMemoizer(_ref) {\n      var _this3 = this;\n\n      var scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          totalHeight = _ref.totalHeight,\n          totalWidth = _ref.totalWidth;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref2) {\n          var scrollLeft = _ref2.scrollLeft,\n              scrollTop = _ref2.scrollTop;\n          var _this3$props = _this3.props,\n              height = _this3$props.height,\n              onScroll = _this3$props.onScroll,\n              width = _this3$props.width;\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: \"_setScrollPosition\",\n    value: function _setScrollPosition(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (scrollLeft >= 0) {\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (scrollTop >= 0) {\n        newState.scrollTop = scrollTop;\n      }\n\n      if (scrollLeft >= 0 && scrollLeft !== this.state.scrollLeft || scrollTop >= 0 && scrollTop !== this.state.scrollTop) {\n        this.setState(newState);\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.cellCount === 0 && (prevState.scrollLeft !== 0 || prevState.scrollTop !== 0)) {\n        return {\n          scrollLeft: 0,\n          scrollTop: 0,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n        };\n      } else if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {\n        return {\n          scrollLeft: nextProps.scrollLeft != null ? nextProps.scrollLeft : prevState.scrollLeft,\n          scrollTop: nextProps.scrollTop != null ? nextProps.scrollTop : prevState.scrollTop,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return CollectionView;\n}(React.PureComponent);\n\n_defineProperty(CollectionView, \"defaultProps\", {\n  'aria-label': 'grid',\n  horizontalOverscanSize: 0,\n  noContentRenderer: function noContentRenderer() {\n    return null;\n  },\n  onScroll: function onScroll() {\n    return null;\n  },\n  onSectionRendered: function onSectionRendered() {\n    return null;\n  },\n  scrollToAlignment: 'auto',\n  scrollToCell: -1,\n  style: {},\n  verticalOverscanSize: 0\n});\n\nCollectionView.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  'aria-label': PropTypes.string,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  autoHeight: PropTypes.bool,\n\n  /**\n   * Number of cells in collection.\n   */\n  cellCount: PropTypes.number.isRequired,\n\n  /**\n   * Calculates cell sizes and positions and manages rendering the appropriate cells given a specified window.\n   */\n  cellLayoutManager: PropTypes.object.isRequired,\n\n  /**\n   * Optional custom CSS class name to attach to root Collection element.\n   */\n  className: PropTypes.string,\n\n  /**\n   * Height of Collection; this property determines the number of visible (vs virtualized) rows.\n   */\n  height: PropTypes.number.isRequired,\n\n  /**\n   * Optional custom id to attach to root Collection element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * Enables the `Collection` to horiontally \"overscan\" its content similar to how `Grid` does.\n   * This can reduce flicker around the edges when a user scrolls quickly.\n   */\n  horizontalOverscanSize: PropTypes.number.isRequired,\n  isScrollingChange: PropTypes.func,\n\n  /**\n   * Optional renderer to be used in place of rows when either :rowCount or :cellCount is 0.\n   */\n  noContentRenderer: PropTypes.func.isRequired,\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   * ({ clientHeight, clientWidth, scrollHeight, scrollLeft, scrollTop, scrollWidth }): void\n   */\n  onScroll: PropTypes.func.isRequired,\n\n  /**\n   * Callback invoked with information about the section of the Collection that was just rendered.\n   * This callback is passed a named :indices parameter which is an Array of the most recently rendered section indices.\n   */\n  onSectionRendered: PropTypes.func.isRequired,\n\n  /**\n   * Horizontal offset.\n   */\n  scrollLeft: PropTypes.number,\n\n  /**\n   * Controls scroll-to-cell behavior of the Grid.\n   * The default (\"auto\") scrolls the least amount possible to ensure that the specified cell is fully visible.\n   * Use \"start\" to align cells to the top/left of the Grid and \"end\" to align bottom/right.\n   */\n  scrollToAlignment: PropTypes.oneOf(['auto', 'end', 'start', 'center']).isRequired,\n\n  /**\n   * Cell index to ensure visible (by forcefully scrolling if necessary).\n   */\n  scrollToCell: PropTypes.number.isRequired,\n\n  /**\n   * Vertical offset.\n   */\n  scrollTop: PropTypes.number,\n\n  /**\n   * Optional custom inline style to attach to root Collection element.\n   */\n  style: PropTypes.object,\n\n  /**\n   * Enables the `Collection` to vertically \"overscan\" its content similar to how `Grid` does.\n   * This can reduce flicker around the edges when a user scrolls quickly.\n   */\n  verticalOverscanSize: PropTypes.number.isRequired,\n\n  /**\n   * Width of Collection; this property determines the number of visible (vs virtualized) columns.\n   */\n  width: PropTypes.number.isRequired\n} : {};\npolyfill(CollectionView);\nexport default CollectionView;","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * A section of the Window.\n * Window Sections are used to group nearby cells.\n * This enables us to more quickly determine which cells to display in a given region of the Window.\n * Sections have a fixed size and contain 0 to many cells (tracked by their indices).\n */\nvar Section =\n/*#__PURE__*/\nfunction () {\n  function Section(_ref) {\n    var height = _ref.height,\n        width = _ref.width,\n        x = _ref.x,\n        y = _ref.y;\n\n    _classCallCheck(this, Section);\n\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n    this._indexMap = {};\n    this._indices = [];\n  }\n  /** Add a cell to this section. */\n\n\n  _createClass(Section, [{\n    key: \"addCellIndex\",\n    value: function addCellIndex(_ref2) {\n      var index = _ref2.index;\n\n      if (!this._indexMap[index]) {\n        this._indexMap[index] = true;\n\n        this._indices.push(index);\n      }\n    }\n    /** Get all cell indices that have been added to this section. */\n\n  }, {\n    key: \"getCellIndices\",\n    value: function getCellIndices() {\n      return this._indices;\n    }\n    /** Intended for debugger/test purposes only */\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.x, \",\").concat(this.y, \" \").concat(this.width, \"x\").concat(this.height);\n    }\n  }]);\n\n  return Section;\n}();\n\nexport { Section as default };\nimport { bpfrpt_proptype_Index } from \"./types\";\nimport { bpfrpt_proptype_SizeAndPositionInfo } from \"./types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\n/**\n * Window Sections are used to group nearby cells.\n * This enables us to more quickly determine which cells to display in a given region of the Window.\n * \n */\nimport Section from './Section';\nvar SECTION_SIZE = 100;\n\n/**\n * Contains 0 to many Sections.\n * Grows (and adds Sections) dynamically as cells are registered.\n * Automatically adds cells to the appropriate Section(s).\n */\nvar SectionManager =\n/*#__PURE__*/\nfunction () {\n  function SectionManager() {\n    var sectionSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SECTION_SIZE;\n\n    _classCallCheck(this, SectionManager);\n\n    this._sectionSize = sectionSize;\n    this._cellMetadata = [];\n    this._sections = {};\n  }\n  /**\n   * Gets all cell indices contained in the specified region.\n   * A region may encompass 1 or more Sections.\n   */\n\n\n  _createClass(SectionManager, [{\n    key: \"getCellIndices\",\n    value: function getCellIndices(_ref) {\n      var height = _ref.height,\n          width = _ref.width,\n          x = _ref.x,\n          y = _ref.y;\n      var indices = {};\n      this.getSections({\n        height: height,\n        width: width,\n        x: x,\n        y: y\n      }).forEach(function (section) {\n        return section.getCellIndices().forEach(function (index) {\n          indices[index] = index;\n        });\n      }); // Object keys are strings; this function returns numbers\n\n      return Object.keys(indices).map(function (index) {\n        return indices[index];\n      });\n    }\n    /** Get size and position information for the cell specified. */\n\n  }, {\n    key: \"getCellMetadata\",\n    value: function getCellMetadata(_ref2) {\n      var index = _ref2.index;\n      return this._cellMetadata[index];\n    }\n    /** Get all Sections overlapping the specified region. */\n\n  }, {\n    key: \"getSections\",\n    value: function getSections(_ref3) {\n      var height = _ref3.height,\n          width = _ref3.width,\n          x = _ref3.x,\n          y = _ref3.y;\n      var sectionXStart = Math.floor(x / this._sectionSize);\n      var sectionXStop = Math.floor((x + width - 1) / this._sectionSize);\n      var sectionYStart = Math.floor(y / this._sectionSize);\n      var sectionYStop = Math.floor((y + height - 1) / this._sectionSize);\n      var sections = [];\n\n      for (var sectionX = sectionXStart; sectionX <= sectionXStop; sectionX++) {\n        for (var sectionY = sectionYStart; sectionY <= sectionYStop; sectionY++) {\n          var key = \"\".concat(sectionX, \".\").concat(sectionY);\n\n          if (!this._sections[key]) {\n            this._sections[key] = new Section({\n              height: this._sectionSize,\n              width: this._sectionSize,\n              x: sectionX * this._sectionSize,\n              y: sectionY * this._sectionSize\n            });\n          }\n\n          sections.push(this._sections[key]);\n        }\n      }\n\n      return sections;\n    }\n    /** Total number of Sections based on the currently registered cells. */\n\n  }, {\n    key: \"getTotalSectionCount\",\n    value: function getTotalSectionCount() {\n      return Object.keys(this._sections).length;\n    }\n    /** Intended for debugger/test purposes only */\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var _this = this;\n\n      return Object.keys(this._sections).map(function (index) {\n        return _this._sections[index].toString();\n      });\n    }\n    /** Adds a cell to the appropriate Sections and registers it metadata for later retrievable. */\n\n  }, {\n    key: \"registerCell\",\n    value: function registerCell(_ref4) {\n      var cellMetadatum = _ref4.cellMetadatum,\n          index = _ref4.index;\n      this._cellMetadata[index] = cellMetadatum;\n      this.getSections(cellMetadatum).forEach(function (section) {\n        return section.addCellIndex({\n          index: index\n        });\n      });\n    }\n  }]);\n\n  return SectionManager;\n}();\n\nexport { SectionManager as default };\nimport { bpfrpt_proptype_Index } from \"./types\";\nimport { bpfrpt_proptype_SizeAndPositionInfo } from \"./types\";","/**\n * Determines a new offset that ensures a certain cell is visible, given the current offset.\n * If the cell is already visible then the current offset will be returned.\n * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n *\n * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n * @param cellOffset Offset (x or y) position for cell\n * @param cellSize Size (width or height) of cell\n * @param containerSize Total size (width or height) of the container\n * @param currentOffset Container's current (x or y) offset\n * @return Offset to use to ensure the specified cell is visible\n */\nexport default function getUpdatedOffsetForIndex(_ref) {\n  var _ref$align = _ref.align,\n      align = _ref$align === void 0 ? 'auto' : _ref$align,\n      cellOffset = _ref.cellOffset,\n      cellSize = _ref.cellSize,\n      containerSize = _ref.containerSize,\n      currentOffset = _ref.currentOffset;\n  var maxOffset = cellOffset;\n  var minOffset = maxOffset - containerSize + cellSize;\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return maxOffset - (containerSize - cellSize) / 2;\n\n    default:\n      return Math.max(minOffset, Math.min(maxOffset, currentOffset));\n  }\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport CollectionView from './CollectionView';\nimport _calculateSizeAndPositionData from './utils/calculateSizeAndPositionData';\nimport getUpdatedOffsetForIndex from '../utils/getUpdatedOffsetForIndex';\n\n/**\n * Renders scattered or non-linear data.\n * Unlike Grid, which renders checkerboard data, Collection can render arbitrarily positioned- even overlapping- data.\n */\nvar Collection =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Collection, _React$PureComponent);\n\n  function Collection(props, context) {\n    var _this;\n\n    _classCallCheck(this, Collection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Collection).call(this, props, context));\n    _this._cellMetadata = [];\n    _this._lastRenderedCellIndices = []; // Cell cache during scroll (for performance)\n\n    _this._cellCache = [];\n    _this._isScrollingChange = _this._isScrollingChange.bind(_assertThisInitialized(_this));\n    _this._setCollectionViewRef = _this._setCollectionViewRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Collection, [{\n    key: \"forceUpdate\",\n    value: function forceUpdate() {\n      if (this._collectionView !== undefined) {\n        this._collectionView.forceUpdate();\n      }\n    }\n    /** See Collection#recomputeCellSizesAndPositions */\n\n  }, {\n    key: \"recomputeCellSizesAndPositions\",\n    value: function recomputeCellSizesAndPositions() {\n      this._cellCache = [];\n\n      this._collectionView.recomputeCellSizesAndPositions();\n    }\n    /** React lifecycle methods */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = _extends({}, this.props);\n\n      return React.createElement(CollectionView, _extends({\n        cellLayoutManager: this,\n        isScrollingChange: this._isScrollingChange,\n        ref: this._setCollectionViewRef\n      }, props));\n    }\n    /** CellLayoutManager interface */\n\n  }, {\n    key: \"calculateSizeAndPositionData\",\n    value: function calculateSizeAndPositionData() {\n      var _this$props = this.props,\n          cellCount = _this$props.cellCount,\n          cellSizeAndPositionGetter = _this$props.cellSizeAndPositionGetter,\n          sectionSize = _this$props.sectionSize;\n\n      var data = _calculateSizeAndPositionData({\n        cellCount: cellCount,\n        cellSizeAndPositionGetter: cellSizeAndPositionGetter,\n        sectionSize: sectionSize\n      });\n\n      this._cellMetadata = data.cellMetadata;\n      this._sectionManager = data.sectionManager;\n      this._height = data.height;\n      this._width = data.width;\n    }\n    /**\n     * Returns the most recently rendered set of cell indices.\n     */\n\n  }, {\n    key: \"getLastRenderedIndices\",\n    value: function getLastRenderedIndices() {\n      return this._lastRenderedCellIndices;\n    }\n    /**\n     * Calculates the minimum amount of change from the current scroll position to ensure the specified cell is (fully) visible.\n     */\n\n  }, {\n    key: \"getScrollPositionForCell\",\n    value: function getScrollPositionForCell(_ref) {\n      var align = _ref.align,\n          cellIndex = _ref.cellIndex,\n          height = _ref.height,\n          scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          width = _ref.width;\n      var cellCount = this.props.cellCount;\n\n      if (cellIndex >= 0 && cellIndex < cellCount) {\n        var cellMetadata = this._cellMetadata[cellIndex];\n        scrollLeft = getUpdatedOffsetForIndex({\n          align: align,\n          cellOffset: cellMetadata.x,\n          cellSize: cellMetadata.width,\n          containerSize: width,\n          currentOffset: scrollLeft,\n          targetIndex: cellIndex\n        });\n        scrollTop = getUpdatedOffsetForIndex({\n          align: align,\n          cellOffset: cellMetadata.y,\n          cellSize: cellMetadata.height,\n          containerSize: height,\n          currentOffset: scrollTop,\n          targetIndex: cellIndex\n        });\n      }\n\n      return {\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      };\n    }\n  }, {\n    key: \"getTotalSize\",\n    value: function getTotalSize() {\n      return {\n        height: this._height,\n        width: this._width\n      };\n    }\n  }, {\n    key: \"cellRenderers\",\n    value: function cellRenderers(_ref2) {\n      var _this2 = this;\n\n      var height = _ref2.height,\n          isScrolling = _ref2.isScrolling,\n          width = _ref2.width,\n          x = _ref2.x,\n          y = _ref2.y;\n      var _this$props2 = this.props,\n          cellGroupRenderer = _this$props2.cellGroupRenderer,\n          cellRenderer = _this$props2.cellRenderer; // Store for later calls to getLastRenderedIndices()\n\n      this._lastRenderedCellIndices = this._sectionManager.getCellIndices({\n        height: height,\n        width: width,\n        x: x,\n        y: y\n      });\n      return cellGroupRenderer({\n        cellCache: this._cellCache,\n        cellRenderer: cellRenderer,\n        cellSizeAndPositionGetter: function cellSizeAndPositionGetter(_ref3) {\n          var index = _ref3.index;\n          return _this2._sectionManager.getCellMetadata({\n            index: index\n          });\n        },\n        indices: this._lastRenderedCellIndices,\n        isScrolling: isScrolling\n      });\n    }\n  }, {\n    key: \"_isScrollingChange\",\n    value: function _isScrollingChange(isScrolling) {\n      if (!isScrolling) {\n        this._cellCache = [];\n      }\n    }\n  }, {\n    key: \"_setCollectionViewRef\",\n    value: function _setCollectionViewRef(ref) {\n      this._collectionView = ref;\n    }\n  }]);\n\n  return Collection;\n}(React.PureComponent);\n\n_defineProperty(Collection, \"defaultProps\", {\n  'aria-label': 'grid',\n  cellGroupRenderer: defaultCellGroupRenderer\n});\n\nexport { Collection as default };\nCollection.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  'aria-label': PropTypes.string,\n\n  /**\n   * Number of cells in Collection.\n   */\n  cellCount: PropTypes.number.isRequired,\n\n  /**\n   * Responsible for rendering a group of cells given their indices.\n   * Should implement the following interface: ({\n   *   cellSizeAndPositionGetter:Function,\n   *   indices: Array<number>,\n   *   cellRenderer: Function\n   * }): Array<PropTypes.node>\n   */\n  cellGroupRenderer: PropTypes.func.isRequired,\n\n  /**\n   * Responsible for rendering a cell given an row and column index.\n   * Should implement the following interface: ({ index: number, key: string, style: object }): PropTypes.element\n   */\n  cellRenderer: PropTypes.func.isRequired,\n\n  /**\n   * Callback responsible for returning size and offset/position information for a given cell (index).\n   * ({ index: number }): { height: number, width: number, x: number, y: number }\n   */\n  cellSizeAndPositionGetter: PropTypes.func.isRequired,\n\n  /**\n   * Optionally override the size of the sections a Collection's cells are split into.\n   */\n  sectionSize: PropTypes.number\n} : {};\n\nfunction defaultCellGroupRenderer(_ref4) {\n  var cellCache = _ref4.cellCache,\n      cellRenderer = _ref4.cellRenderer,\n      cellSizeAndPositionGetter = _ref4.cellSizeAndPositionGetter,\n      indices = _ref4.indices,\n      isScrolling = _ref4.isScrolling;\n  return indices.map(function (index) {\n    var cellMetadata = cellSizeAndPositionGetter({\n      index: index\n    });\n    var cellRendererProps = {\n      index: index,\n      isScrolling: isScrolling,\n      key: index,\n      style: {\n        height: cellMetadata.height,\n        left: cellMetadata.x,\n        position: 'absolute',\n        top: cellMetadata.y,\n        width: cellMetadata.width\n      }\n    }; // Avoid re-creating cells while scrolling.\n    // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n    // If a scroll is in progress- cache and reuse cells.\n    // This cache will be thrown away once scrolling complets.\n\n    if (isScrolling) {\n      if (!(index in cellCache)) {\n        cellCache[index] = cellRenderer(cellRendererProps);\n      }\n\n      return cellCache[index];\n    } else {\n      return cellRenderer(cellRendererProps);\n    }\n  }).filter(function (renderedCell) {\n    return !!renderedCell;\n  });\n}\n\nimport { bpfrpt_proptype_ScrollPosition } from \"./types\";\nimport { bpfrpt_proptype_SizeInfo } from \"./types\";","import SectionManager from '../SectionManager';\nexport default function calculateSizeAndPositionData(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSizeAndPositionGetter = _ref.cellSizeAndPositionGetter,\n      sectionSize = _ref.sectionSize;\n  var cellMetadata = [];\n  var sectionManager = new SectionManager(sectionSize);\n  var height = 0;\n  var width = 0;\n\n  for (var index = 0; index < cellCount; index++) {\n    var cellMetadatum = cellSizeAndPositionGetter({\n      index: index\n    });\n\n    if (cellMetadatum.height == null || isNaN(cellMetadatum.height) || cellMetadatum.width == null || isNaN(cellMetadatum.width) || cellMetadatum.x == null || isNaN(cellMetadatum.x) || cellMetadatum.y == null || isNaN(cellMetadatum.y)) {\n      throw Error(\"Invalid metadata returned for cell \".concat(index, \":\\n        x:\").concat(cellMetadatum.x, \", y:\").concat(cellMetadatum.y, \", width:\").concat(cellMetadatum.width, \", height:\").concat(cellMetadatum.height));\n    }\n\n    height = Math.max(height, cellMetadatum.y + cellMetadatum.height);\n    width = Math.max(width, cellMetadatum.x + cellMetadatum.width);\n    cellMetadata[index] = cellMetadatum;\n    sectionManager.registerCell({\n      cellMetadatum: cellMetadatum,\n      index: index\n    });\n  }\n\n  return {\n    cellMetadata: cellMetadata,\n    height: height,\n    sectionManager: sectionManager,\n    width: width\n  };\n}","import Collection from './Collection';\nexport default Collection;\nexport { Collection };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n/**\n * High-order component that auto-calculates column-widths for `Grid` cells.\n */\n\nvar ColumnSizer =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ColumnSizer, _React$PureComponent);\n\n  function ColumnSizer(props, context) {\n    var _this;\n\n    _classCallCheck(this, ColumnSizer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ColumnSizer).call(this, props, context));\n    _this._registerChild = _this._registerChild.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ColumnSizer, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          columnMaxWidth = _this$props.columnMaxWidth,\n          columnMinWidth = _this$props.columnMinWidth,\n          columnCount = _this$props.columnCount,\n          width = _this$props.width;\n\n      if (columnMaxWidth !== prevProps.columnMaxWidth || columnMinWidth !== prevProps.columnMinWidth || columnCount !== prevProps.columnCount || width !== prevProps.width) {\n        if (this._registeredChild) {\n          this._registeredChild.recomputeGridSize();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          columnMaxWidth = _this$props2.columnMaxWidth,\n          columnMinWidth = _this$props2.columnMinWidth,\n          columnCount = _this$props2.columnCount,\n          width = _this$props2.width;\n      var safeColumnMinWidth = columnMinWidth || 1;\n      var safeColumnMaxWidth = columnMaxWidth ? Math.min(columnMaxWidth, width) : width;\n      var columnWidth = width / columnCount;\n      columnWidth = Math.max(safeColumnMinWidth, columnWidth);\n      columnWidth = Math.min(safeColumnMaxWidth, columnWidth);\n      columnWidth = Math.floor(columnWidth);\n      var adjustedWidth = Math.min(width, columnWidth * columnCount);\n      return children({\n        adjustedWidth: adjustedWidth,\n        columnWidth: columnWidth,\n        getColumnWidth: function getColumnWidth() {\n          return columnWidth;\n        },\n        registerChild: this._registerChild\n      });\n    }\n  }, {\n    key: \"_registerChild\",\n    value: function _registerChild(child) {\n      if (child && typeof child.recomputeGridSize !== 'function') {\n        throw Error('Unexpected child type registered; only Grid/MultiGrid children are supported.');\n      }\n\n      this._registeredChild = child;\n\n      if (this._registeredChild) {\n        this._registeredChild.recomputeGridSize();\n      }\n    }\n  }]);\n\n  return ColumnSizer;\n}(React.PureComponent);\n\nexport { ColumnSizer as default };\nColumnSizer.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Function responsible for rendering a virtualized Grid.\n   * This function should implement the following signature:\n   * ({ adjustedWidth, getColumnWidth, registerChild }) => PropTypes.element\n   *\n   * The specified :getColumnWidth function should be passed to the Grid's :columnWidth property.\n   * The :registerChild should be passed to the Grid's :ref property.\n   * The :adjustedWidth property is optional; it reflects the lesser of the overall width or the width of all columns.\n   */\n  children: PropTypes.func.isRequired,\n\n  /** Optional maximum allowed column width */\n  columnMaxWidth: PropTypes.number,\n\n  /** Optional minimum allowed column width */\n  columnMinWidth: PropTypes.number,\n\n  /** Number of columns in Grid or Table child */\n  columnCount: PropTypes.number.isRequired,\n\n  /** Width of Grid or Table child */\n  width: PropTypes.number.isRequired\n} : {};","import ColumnSizer from './ColumnSizer';\nexport default ColumnSizer;\nexport { ColumnSizer };","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport createCallbackMemoizer from '../utils/createCallbackMemoizer';\n/**\n * Higher-order component that manages lazy-loading for \"infinite\" data.\n * This component decorates a virtual component and just-in-time prefetches rows as a user scrolls.\n * It is intended as a convenience component; fork it if you'd like finer-grained control over data-loading.\n */\n\nvar InfiniteLoader =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(InfiniteLoader, _React$PureComponent);\n\n  function InfiniteLoader(props, context) {\n    var _this;\n\n    _classCallCheck(this, InfiniteLoader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InfiniteLoader).call(this, props, context));\n    _this._loadMoreRowsMemoizer = createCallbackMemoizer();\n    _this._onRowsRendered = _this._onRowsRendered.bind(_assertThisInitialized(_this));\n    _this._registerChild = _this._registerChild.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(InfiniteLoader, [{\n    key: \"resetLoadMoreRowsCache\",\n    value: function resetLoadMoreRowsCache(autoReload) {\n      this._loadMoreRowsMemoizer = createCallbackMemoizer();\n\n      if (autoReload) {\n        this._doStuff(this._lastRenderedStartIndex, this._lastRenderedStopIndex);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return children({\n        onRowsRendered: this._onRowsRendered,\n        registerChild: this._registerChild\n      });\n    }\n  }, {\n    key: \"_loadUnloadedRanges\",\n    value: function _loadUnloadedRanges(unloadedRanges) {\n      var _this2 = this;\n\n      var loadMoreRows = this.props.loadMoreRows;\n      unloadedRanges.forEach(function (unloadedRange) {\n        var promise = loadMoreRows(unloadedRange);\n\n        if (promise) {\n          promise.then(function () {\n            // Refresh the visible rows if any of them have just been loaded.\n            // Otherwise they will remain in their unloaded visual state.\n            if (isRangeVisible({\n              lastRenderedStartIndex: _this2._lastRenderedStartIndex,\n              lastRenderedStopIndex: _this2._lastRenderedStopIndex,\n              startIndex: unloadedRange.startIndex,\n              stopIndex: unloadedRange.stopIndex\n            })) {\n              if (_this2._registeredChild) {\n                forceUpdateReactVirtualizedComponent(_this2._registeredChild, _this2._lastRenderedStartIndex);\n              }\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_onRowsRendered\",\n    value: function _onRowsRendered(_ref) {\n      var startIndex = _ref.startIndex,\n          stopIndex = _ref.stopIndex;\n      this._lastRenderedStartIndex = startIndex;\n      this._lastRenderedStopIndex = stopIndex;\n\n      this._doStuff(startIndex, stopIndex);\n    }\n  }, {\n    key: \"_doStuff\",\n    value: function _doStuff(startIndex, stopIndex) {\n      var _ref2,\n          _this3 = this;\n\n      var _this$props = this.props,\n          isRowLoaded = _this$props.isRowLoaded,\n          minimumBatchSize = _this$props.minimumBatchSize,\n          rowCount = _this$props.rowCount,\n          threshold = _this$props.threshold;\n      var unloadedRanges = scanForUnloadedRanges({\n        isRowLoaded: isRowLoaded,\n        minimumBatchSize: minimumBatchSize,\n        rowCount: rowCount,\n        startIndex: Math.max(0, startIndex - threshold),\n        stopIndex: Math.min(rowCount - 1, stopIndex + threshold)\n      }); // For memoize comparison\n\n      var squashedUnloadedRanges = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(unloadedRanges.map(function (_ref3) {\n        var startIndex = _ref3.startIndex,\n            stopIndex = _ref3.stopIndex;\n        return [startIndex, stopIndex];\n      })));\n\n      this._loadMoreRowsMemoizer({\n        callback: function callback() {\n          _this3._loadUnloadedRanges(unloadedRanges);\n        },\n        indices: {\n          squashedUnloadedRanges: squashedUnloadedRanges\n        }\n      });\n    }\n  }, {\n    key: \"_registerChild\",\n    value: function _registerChild(registeredChild) {\n      this._registeredChild = registeredChild;\n    }\n  }]);\n\n  return InfiniteLoader;\n}(React.PureComponent);\n/**\n * Determines if the specified start/stop range is visible based on the most recently rendered range.\n */\n\n\n_defineProperty(InfiniteLoader, \"defaultProps\", {\n  minimumBatchSize: 10,\n  rowCount: 0,\n  threshold: 15\n});\n\nexport { InfiniteLoader as default };\nInfiniteLoader.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Function responsible for rendering a virtualized component.\n   * This function should implement the following signature:\n   * ({ onRowsRendered, registerChild }) => PropTypes.element\n   *\n   * The specified :onRowsRendered function should be passed through to the child's :onRowsRendered property.\n   * The :registerChild callback should be set as the virtualized component's :ref.\n   */\n  children: PropTypes.func.isRequired,\n\n  /**\n   * Function responsible for tracking the loaded state of each row.\n   * It should implement the following signature: ({ index: number }): boolean\n   */\n  isRowLoaded: PropTypes.func.isRequired,\n\n  /**\n   * Callback to be invoked when more rows must be loaded.\n   * It should implement the following signature: ({ startIndex, stopIndex }): Promise\n   * The returned Promise should be resolved once row data has finished loading.\n   * It will be used to determine when to refresh the list with the newly-loaded data.\n   * This callback may be called multiple times in reaction to a single scroll event.\n   */\n  loadMoreRows: PropTypes.func.isRequired,\n\n  /**\n   * Minimum number of rows to be loaded at a time.\n   * This property can be used to batch requests to reduce HTTP requests.\n   */\n  minimumBatchSize: PropTypes.number.isRequired,\n\n  /**\n   * Number of rows in list; can be arbitrary high number if actual number is unknown.\n   */\n  rowCount: PropTypes.number.isRequired,\n\n  /**\n   * Threshold at which to pre-fetch data.\n   * A threshold X means that data will start loading when a user scrolls within X rows.\n   * This value defaults to 15.\n   */\n  threshold: PropTypes.number.isRequired\n} : {};\nexport function isRangeVisible(_ref4) {\n  var lastRenderedStartIndex = _ref4.lastRenderedStartIndex,\n      lastRenderedStopIndex = _ref4.lastRenderedStopIndex,\n      startIndex = _ref4.startIndex,\n      stopIndex = _ref4.stopIndex;\n  return !(startIndex > lastRenderedStopIndex || stopIndex < lastRenderedStartIndex);\n}\n/**\n * Returns all of the ranges within a larger range that contain unloaded rows.\n */\n\nexport function scanForUnloadedRanges(_ref5) {\n  var isRowLoaded = _ref5.isRowLoaded,\n      minimumBatchSize = _ref5.minimumBatchSize,\n      rowCount = _ref5.rowCount,\n      startIndex = _ref5.startIndex,\n      stopIndex = _ref5.stopIndex;\n  var unloadedRanges = [];\n  var rangeStartIndex = null;\n  var rangeStopIndex = null;\n\n  for (var index = startIndex; index <= stopIndex; index++) {\n    var loaded = isRowLoaded({\n      index: index\n    });\n\n    if (!loaded) {\n      rangeStopIndex = index;\n\n      if (rangeStartIndex === null) {\n        rangeStartIndex = index;\n      }\n    } else if (rangeStopIndex !== null) {\n      unloadedRanges.push({\n        startIndex: rangeStartIndex,\n        stopIndex: rangeStopIndex\n      });\n      rangeStartIndex = rangeStopIndex = null;\n    }\n  } // If :rangeStopIndex is not null it means we haven't ran out of unloaded rows.\n  // Scan forward to try filling our :minimumBatchSize.\n\n\n  if (rangeStopIndex !== null) {\n    var potentialStopIndex = Math.min(Math.max(rangeStopIndex, rangeStartIndex + minimumBatchSize - 1), rowCount - 1);\n\n    for (var _index = rangeStopIndex + 1; _index <= potentialStopIndex; _index++) {\n      if (!isRowLoaded({\n        index: _index\n      })) {\n        rangeStopIndex = _index;\n      } else {\n        break;\n      }\n    }\n\n    unloadedRanges.push({\n      startIndex: rangeStartIndex,\n      stopIndex: rangeStopIndex\n    });\n  } // Check to see if our first range ended prematurely.\n  // In this case we should scan backwards to try filling our :minimumBatchSize.\n\n\n  if (unloadedRanges.length) {\n    var firstUnloadedRange = unloadedRanges[0];\n\n    while (firstUnloadedRange.stopIndex - firstUnloadedRange.startIndex + 1 < minimumBatchSize && firstUnloadedRange.startIndex > 0) {\n      var _index2 = firstUnloadedRange.startIndex - 1;\n\n      if (!isRowLoaded({\n        index: _index2\n      })) {\n        firstUnloadedRange.startIndex = _index2;\n      } else {\n        break;\n      }\n    }\n  }\n\n  return unloadedRanges;\n}\n/**\n * Since RV components use shallowCompare we need to force a render (even though props haven't changed).\n * However InfiniteLoader may wrap a Grid or it may wrap a Table or List.\n * In the first case the built-in React forceUpdate() method is sufficient to force a re-render,\n * But in the latter cases we need to use the RV-specific forceUpdateGrid() method.\n * Else the inner Grid will not be re-rendered and visuals may be stale.\n *\n * Additionally, while a Grid is scrolling the cells can be cached,\n * So it's important to invalidate that cache by recalculating sizes\n * before forcing a rerender.\n */\n\nexport function forceUpdateReactVirtualizedComponent(component) {\n  var currentIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var recomputeSize = typeof component.recomputeGridSize === 'function' ? component.recomputeGridSize : component.recomputeRowHeights;\n\n  if (recomputeSize) {\n    recomputeSize.call(component, currentIndex);\n  } else {\n    component.forceUpdate();\n  }\n}","import InfiniteLoader from './InfiniteLoader';\nexport default InfiniteLoader;\nexport { InfiniteLoader };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nimport Grid, { accessibilityOverscanIndicesGetter } from '../Grid';\nimport * as React from 'react';\nimport clsx from 'clsx';\n/**\n * It is inefficient to create and manage a large list of DOM elements within a scrolling container\n * if only a few of those elements are visible. The primary purpose of this component is to improve\n * performance by only rendering the DOM nodes that a user is able to see based on their current\n * scroll position.\n *\n * This component renders a virtualized list of elements with either fixed or dynamic heights.\n */\n\nvar List = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(List, _React$PureComponent);\n\n  function List() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, List);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(List)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"Grid\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRenderer\", function (_ref) {\n      var parent = _ref.parent,\n          rowIndex = _ref.rowIndex,\n          style = _ref.style,\n          isScrolling = _ref.isScrolling,\n          isVisible = _ref.isVisible,\n          key = _ref.key;\n      var rowRenderer = _this.props.rowRenderer; // TRICKY The style object is sometimes cached by Grid.\n      // This prevents new style objects from bypassing shallowCompare().\n      // However as of React 16, style props are auto-frozen (at least in dev mode)\n      // Check to make sure we can still modify the style before proceeding.\n      // https://github.com/facebook/react/commit/977357765b44af8ff0cfea327866861073095c12#commitcomment-20648713\n\n      var widthDescriptor = Object.getOwnPropertyDescriptor(style, 'width');\n\n      if (widthDescriptor && widthDescriptor.writable) {\n        // By default, List cells should be 100% width.\n        // This prevents them from flowing under a scrollbar (if present).\n        style.width = '100%';\n      }\n\n      return rowRenderer({\n        index: rowIndex,\n        style: style,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setRef\", function (ref) {\n      _this.Grid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (_ref2) {\n      var clientHeight = _ref2.clientHeight,\n          scrollHeight = _ref2.scrollHeight,\n          scrollTop = _ref2.scrollTop;\n      var onScroll = _this.props.onScroll;\n      onScroll({\n        clientHeight: clientHeight,\n        scrollHeight: scrollHeight,\n        scrollTop: scrollTop\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSectionRendered\", function (_ref3) {\n      var rowOverscanStartIndex = _ref3.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref3.rowOverscanStopIndex,\n          rowStartIndex = _ref3.rowStartIndex,\n          rowStopIndex = _ref3.rowStopIndex;\n      var onRowsRendered = _this.props.onRowsRendered;\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"forceUpdateGrid\",\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: \"getOffsetForRow\",\n    value: function getOffsetForRow(_ref4) {\n      var alignment = _ref4.alignment,\n          index = _ref4.index;\n\n      if (this.Grid) {\n        var _this$Grid$getOffsetF = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index,\n          columnIndex: 0\n        }),\n            scrollTop = _this$Grid$getOffsetF.scrollTop;\n\n        return scrollTop;\n      }\n\n      return 0;\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: \"measureAllRows\",\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$columnIndex = _ref6.columnIndex,\n          columnIndex = _ref6$columnIndex === void 0 ? 0 : _ref6$columnIndex,\n          _ref6$rowIndex = _ref6.rowIndex,\n          rowIndex = _ref6$rowIndex === void 0 ? 0 : _ref6$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: \"recomputeRowHeights\",\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index,\n          columnIndex: 0\n        });\n      }\n    }\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: \"scrollToPosition\",\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({\n          scrollTop: scrollTop\n        });\n      }\n    }\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: \"scrollToRow\",\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          noRowsRenderer = _this$props.noRowsRenderer,\n          scrollToIndex = _this$props.scrollToIndex,\n          width = _this$props.width;\n      var classNames = clsx('ReactVirtualized__List', className);\n      return React.createElement(Grid, _extends({}, this.props, {\n        autoContainerWidth: true,\n        cellRenderer: this._cellRenderer,\n        className: classNames,\n        columnWidth: width,\n        columnCount: 1,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        scrollToRow: scrollToIndex\n      }));\n    }\n  }]);\n\n  return List;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": PropTypes.string,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  \"autoHeight\": PropTypes.bool.isRequired,\n\n  /** Optional CSS class name */\n  \"className\": PropTypes.string,\n\n  /**\n   * Used to estimate the total height of a List before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  \"estimatedRowSize\": PropTypes.number.isRequired,\n\n  /** Height constraint for list (determines how many actual rows are rendered) */\n  \"height\": PropTypes.number.isRequired,\n\n  /** Optional renderer to be used in place of rows when rowCount is 0 */\n  \"noRowsRenderer\": function noRowsRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === \"function\" ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : PropTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Callback invoked with information about the slice of rows that were just rendered.  */\n  \"onRowsRendered\": PropTypes.func.isRequired,\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  \"onScroll\": PropTypes.func.isRequired,\n\n  /** See Grid#overscanIndicesGetter */\n  \"overscanIndicesGetter\": function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === \"function\" ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : PropTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list.\n   * These rows can help for smoother scrolling on touch devices.\n   */\n  \"overscanRowCount\": PropTypes.number.isRequired,\n\n  /** Either a fixed row height (number) or a function that returns the height of a row given its index.  */\n  \"rowHeight\": function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === \"function\" ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n  /** Responsible for rendering a row given an index; ({ index: number }): node */\n  \"rowRenderer\": function rowRenderer() {\n    return (typeof bpfrpt_proptype_RowRenderer === \"function\" ? bpfrpt_proptype_RowRenderer.isRequired ? bpfrpt_proptype_RowRenderer.isRequired : bpfrpt_proptype_RowRenderer : PropTypes.shape(bpfrpt_proptype_RowRenderer).isRequired).apply(this, arguments);\n  },\n\n  /** Number of rows in list. */\n  \"rowCount\": PropTypes.number.isRequired,\n\n  /** See Grid#scrollToAlignment */\n  \"scrollToAlignment\": function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === \"function\" ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : PropTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  \"scrollToIndex\": PropTypes.number.isRequired,\n\n  /** Vertical offset. */\n  \"scrollTop\": PropTypes.number,\n\n  /** Optional inline style */\n  \"style\": PropTypes.object.isRequired,\n\n  /** Tab index for focus */\n  \"tabIndex\": PropTypes.number,\n\n  /** Width of list */\n  \"width\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(List, \"defaultProps\", {\n  autoHeight: false,\n  estimatedRowSize: 30,\n  onScroll: function onScroll() {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {},\n  overscanIndicesGetter: accessibilityOverscanIndicesGetter,\n  overscanRowCount: 10,\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n});\n\nexport { List as default };\nimport { bpfrpt_proptype_NoContentRenderer } from \"../Grid\";\nimport { bpfrpt_proptype_Alignment } from \"../Grid\";\nimport { bpfrpt_proptype_CellSize } from \"../Grid\";\nimport { bpfrpt_proptype_CellPosition } from \"../Grid\";\nimport { bpfrpt_proptype_OverscanIndicesGetter } from \"../Grid\";\nimport { bpfrpt_proptype_RenderedSection } from \"../Grid\";\nimport { bpfrpt_proptype_CellRendererParams } from \"../Grid\";\nimport { bpfrpt_proptype_Scroll as bpfrpt_proptype_GridScroll } from \"../Grid\";\nimport { bpfrpt_proptype_RowRenderer } from \"./types\";\nimport { bpfrpt_proptype_RenderedRows } from \"./types\";\nimport { bpfrpt_proptype_Scroll } from \"./types\";\nimport PropTypes from \"prop-types\";","/**\n * Binary Search Bounds\n * https://github.com/mikolalysenko/binary-search-bounds\n * Mikola Lysenko\n *\n * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax.\n * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5\n **/\nfunction _GEA(a, l, h, y) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x >= y) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _GEP(a, l, h, y, c) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) >= 0) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchGE(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _GEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _GEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _GTA(a, l, h, y) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x > y) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _GTP(a, l, h, y, c) {\n  var i = h + 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) > 0) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchGT(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _GTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _GTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _LTA(a, l, h, y) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x < y) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _LTP(a, l, h, y, c) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) < 0) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchLT(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _LTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _LTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _LEA(a, l, h, y) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x <= y) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction _LEP(a, l, h, y, c) {\n  var i = l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (c(x, y) <= 0) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return i;\n}\n\nfunction dispatchBsearchLE(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _LEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _LEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _EQA(a, l, h, y) {\n  l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n\n    if (x === y) {\n      return m;\n    } else if (x <= y) {\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return -1;\n}\n\nfunction _EQP(a, l, h, y, c) {\n  l - 1;\n\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    var p = c(x, y);\n\n    if (p === 0) {\n      return m;\n    } else if (p <= 0) {\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n\n  return -1;\n}\n\nfunction dispatchBsearchEQ(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _EQP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _EQA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nexport default {\n  ge: dispatchBsearchGE,\n  gt: dispatchBsearchGT,\n  lt: dispatchBsearchLT,\n  le: dispatchBsearchLE,\n  eq: dispatchBsearchEQ\n};","/**\n * Binary Search Bounds\n * https://github.com/mikolalysenko/interval-tree-1d\n * Mikola Lysenko\n *\n * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax in an upstream dependency.\n * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5\n **/\nimport bounds from './binarySearchBounds';\nvar NOT_FOUND = 0;\nvar SUCCESS = 1;\nvar EMPTY = 2;\n\nfunction IntervalTreeNode(mid, left, right, leftPoints, rightPoints) {\n  this.mid = mid;\n  this.left = left;\n  this.right = right;\n  this.leftPoints = leftPoints;\n  this.rightPoints = rightPoints;\n  this.count = (left ? left.count : 0) + (right ? right.count : 0) + leftPoints.length;\n}\n\nvar proto = IntervalTreeNode.prototype;\n\nfunction copy(a, b) {\n  a.mid = b.mid;\n  a.left = b.left;\n  a.right = b.right;\n  a.leftPoints = b.leftPoints;\n  a.rightPoints = b.rightPoints;\n  a.count = b.count;\n}\n\nfunction rebuild(node, intervals) {\n  var ntree = createIntervalTree(intervals);\n  node.mid = ntree.mid;\n  node.left = ntree.left;\n  node.right = ntree.right;\n  node.leftPoints = ntree.leftPoints;\n  node.rightPoints = ntree.rightPoints;\n  node.count = ntree.count;\n}\n\nfunction rebuildWithInterval(node, interval) {\n  var intervals = node.intervals([]);\n  intervals.push(interval);\n  rebuild(node, intervals);\n}\n\nfunction rebuildWithoutInterval(node, interval) {\n  var intervals = node.intervals([]);\n  var idx = intervals.indexOf(interval);\n\n  if (idx < 0) {\n    return NOT_FOUND;\n  }\n\n  intervals.splice(idx, 1);\n  rebuild(node, intervals);\n  return SUCCESS;\n}\n\nproto.intervals = function (result) {\n  result.push.apply(result, this.leftPoints);\n\n  if (this.left) {\n    this.left.intervals(result);\n  }\n\n  if (this.right) {\n    this.right.intervals(result);\n  }\n\n  return result;\n};\n\nproto.insert = function (interval) {\n  var weight = this.count - this.leftPoints.length;\n  this.count += 1;\n\n  if (interval[1] < this.mid) {\n    if (this.left) {\n      if (4 * (this.left.count + 1) > 3 * (weight + 1)) {\n        rebuildWithInterval(this, interval);\n      } else {\n        this.left.insert(interval);\n      }\n    } else {\n      this.left = createIntervalTree([interval]);\n    }\n  } else if (interval[0] > this.mid) {\n    if (this.right) {\n      if (4 * (this.right.count + 1) > 3 * (weight + 1)) {\n        rebuildWithInterval(this, interval);\n      } else {\n        this.right.insert(interval);\n      }\n    } else {\n      this.right = createIntervalTree([interval]);\n    }\n  } else {\n    var l = bounds.ge(this.leftPoints, interval, compareBegin);\n    var r = bounds.ge(this.rightPoints, interval, compareEnd);\n    this.leftPoints.splice(l, 0, interval);\n    this.rightPoints.splice(r, 0, interval);\n  }\n};\n\nproto.remove = function (interval) {\n  var weight = this.count - this.leftPoints;\n\n  if (interval[1] < this.mid) {\n    if (!this.left) {\n      return NOT_FOUND;\n    }\n\n    var rw = this.right ? this.right.count : 0;\n\n    if (4 * rw > 3 * (weight - 1)) {\n      return rebuildWithoutInterval(this, interval);\n    }\n\n    var r = this.left.remove(interval);\n\n    if (r === EMPTY) {\n      this.left = null;\n      this.count -= 1;\n      return SUCCESS;\n    } else if (r === SUCCESS) {\n      this.count -= 1;\n    }\n\n    return r;\n  } else if (interval[0] > this.mid) {\n    if (!this.right) {\n      return NOT_FOUND;\n    }\n\n    var lw = this.left ? this.left.count : 0;\n\n    if (4 * lw > 3 * (weight - 1)) {\n      return rebuildWithoutInterval(this, interval);\n    }\n\n    var r = this.right.remove(interval);\n\n    if (r === EMPTY) {\n      this.right = null;\n      this.count -= 1;\n      return SUCCESS;\n    } else if (r === SUCCESS) {\n      this.count -= 1;\n    }\n\n    return r;\n  } else {\n    if (this.count === 1) {\n      if (this.leftPoints[0] === interval) {\n        return EMPTY;\n      } else {\n        return NOT_FOUND;\n      }\n    }\n\n    if (this.leftPoints.length === 1 && this.leftPoints[0] === interval) {\n      if (this.left && this.right) {\n        var p = this;\n        var n = this.left;\n\n        while (n.right) {\n          p = n;\n          n = n.right;\n        }\n\n        if (p === this) {\n          n.right = this.right;\n        } else {\n          var l = this.left;\n          var r = this.right;\n          p.count -= n.count;\n          p.right = n.left;\n          n.left = l;\n          n.right = r;\n        }\n\n        copy(this, n);\n        this.count = (this.left ? this.left.count : 0) + (this.right ? this.right.count : 0) + this.leftPoints.length;\n      } else if (this.left) {\n        copy(this, this.left);\n      } else {\n        copy(this, this.right);\n      }\n\n      return SUCCESS;\n    }\n\n    for (var l = bounds.ge(this.leftPoints, interval, compareBegin); l < this.leftPoints.length; ++l) {\n      if (this.leftPoints[l][0] !== interval[0]) {\n        break;\n      }\n\n      if (this.leftPoints[l] === interval) {\n        this.count -= 1;\n        this.leftPoints.splice(l, 1);\n\n        for (var r = bounds.ge(this.rightPoints, interval, compareEnd); r < this.rightPoints.length; ++r) {\n          if (this.rightPoints[r][1] !== interval[1]) {\n            break;\n          } else if (this.rightPoints[r] === interval) {\n            this.rightPoints.splice(r, 1);\n            return SUCCESS;\n          }\n        }\n      }\n    }\n\n    return NOT_FOUND;\n  }\n};\n\nfunction reportLeftRange(arr, hi, cb) {\n  for (var i = 0; i < arr.length && arr[i][0] <= hi; ++i) {\n    var r = cb(arr[i]);\n\n    if (r) {\n      return r;\n    }\n  }\n}\n\nfunction reportRightRange(arr, lo, cb) {\n  for (var i = arr.length - 1; i >= 0 && arr[i][1] >= lo; --i) {\n    var r = cb(arr[i]);\n\n    if (r) {\n      return r;\n    }\n  }\n}\n\nfunction reportRange(arr, cb) {\n  for (var i = 0; i < arr.length; ++i) {\n    var r = cb(arr[i]);\n\n    if (r) {\n      return r;\n    }\n  }\n}\n\nproto.queryPoint = function (x, cb) {\n  if (x < this.mid) {\n    if (this.left) {\n      var r = this.left.queryPoint(x, cb);\n\n      if (r) {\n        return r;\n      }\n    }\n\n    return reportLeftRange(this.leftPoints, x, cb);\n  } else if (x > this.mid) {\n    if (this.right) {\n      var r = this.right.queryPoint(x, cb);\n\n      if (r) {\n        return r;\n      }\n    }\n\n    return reportRightRange(this.rightPoints, x, cb);\n  } else {\n    return reportRange(this.leftPoints, cb);\n  }\n};\n\nproto.queryInterval = function (lo, hi, cb) {\n  if (lo < this.mid && this.left) {\n    var r = this.left.queryInterval(lo, hi, cb);\n\n    if (r) {\n      return r;\n    }\n  }\n\n  if (hi > this.mid && this.right) {\n    var r = this.right.queryInterval(lo, hi, cb);\n\n    if (r) {\n      return r;\n    }\n  }\n\n  if (hi < this.mid) {\n    return reportLeftRange(this.leftPoints, hi, cb);\n  } else if (lo > this.mid) {\n    return reportRightRange(this.rightPoints, lo, cb);\n  } else {\n    return reportRange(this.leftPoints, cb);\n  }\n};\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\nfunction compareBegin(a, b) {\n  var d = a[0] - b[0];\n\n  if (d) {\n    return d;\n  }\n\n  return a[1] - b[1];\n}\n\nfunction compareEnd(a, b) {\n  var d = a[1] - b[1];\n\n  if (d) {\n    return d;\n  }\n\n  return a[0] - b[0];\n}\n\nfunction createIntervalTree(intervals) {\n  if (intervals.length === 0) {\n    return null;\n  }\n\n  var pts = [];\n\n  for (var i = 0; i < intervals.length; ++i) {\n    pts.push(intervals[i][0], intervals[i][1]);\n  }\n\n  pts.sort(compareNumbers);\n  var mid = pts[pts.length >> 1];\n  var leftIntervals = [];\n  var rightIntervals = [];\n  var centerIntervals = [];\n\n  for (var i = 0; i < intervals.length; ++i) {\n    var s = intervals[i];\n\n    if (s[1] < mid) {\n      leftIntervals.push(s);\n    } else if (mid < s[0]) {\n      rightIntervals.push(s);\n    } else {\n      centerIntervals.push(s);\n    }\n  } //Split center intervals\n\n\n  var leftPoints = centerIntervals;\n  var rightPoints = centerIntervals.slice();\n  leftPoints.sort(compareBegin);\n  rightPoints.sort(compareEnd);\n  return new IntervalTreeNode(mid, createIntervalTree(leftIntervals), createIntervalTree(rightIntervals), leftPoints, rightPoints);\n} //User friendly wrapper that makes it possible to support empty trees\n\n\nfunction IntervalTree(root) {\n  this.root = root;\n}\n\nvar tproto = IntervalTree.prototype;\n\ntproto.insert = function (interval) {\n  if (this.root) {\n    this.root.insert(interval);\n  } else {\n    this.root = new IntervalTreeNode(interval[0], null, null, [interval], [interval]);\n  }\n};\n\ntproto.remove = function (interval) {\n  if (this.root) {\n    var r = this.root.remove(interval);\n\n    if (r === EMPTY) {\n      this.root = null;\n    }\n\n    return r !== NOT_FOUND;\n  }\n\n  return false;\n};\n\ntproto.queryPoint = function (p, cb) {\n  if (this.root) {\n    return this.root.queryPoint(p, cb);\n  }\n};\n\ntproto.queryInterval = function (lo, hi, cb) {\n  if (lo <= hi && this.root) {\n    return this.root.queryInterval(lo, hi, cb);\n  }\n};\n\nObject.defineProperty(tproto, 'count', {\n  get: function get() {\n    if (this.root) {\n      return this.root.count;\n    }\n\n    return 0;\n  }\n});\nObject.defineProperty(tproto, 'intervals', {\n  get: function get() {\n    if (this.root) {\n      return this.root.intervals([]);\n    }\n\n    return [];\n  }\n});\nexport default function createWrapper(intervals) {\n  if (!intervals || intervals.length === 0) {\n    return new IntervalTree(null);\n  }\n\n  return new IntervalTree(createIntervalTree(intervals));\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport createIntervalTree from '../vendor/intervalTree';\n\n// Position cache requirements:\n//   O(log(n)) lookup of cells to render for a given viewport size\n//   O(1) lookup of shortest measured column (so we know when to enter phase 1)\nvar PositionCache =\n/*#__PURE__*/\nfunction () {\n  function PositionCache() {\n    _classCallCheck(this, PositionCache);\n\n    _defineProperty(this, \"_columnSizeMap\", {});\n\n    _defineProperty(this, \"_intervalTree\", createIntervalTree());\n\n    _defineProperty(this, \"_leftMap\", {});\n  }\n\n  _createClass(PositionCache, [{\n    key: \"estimateTotalHeight\",\n    value: function estimateTotalHeight(cellCount, columnCount, defaultCellHeight) {\n      var unmeasuredCellCount = cellCount - this.count;\n      return this.tallestColumnSize + Math.ceil(unmeasuredCellCount / columnCount) * defaultCellHeight;\n    } // Render all cells visible within the viewport range defined.\n\n  }, {\n    key: \"range\",\n    value: function range(scrollTop, clientHeight, renderCallback) {\n      var _this = this;\n\n      this._intervalTree.queryInterval(scrollTop, scrollTop + clientHeight, function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 3),\n            top = _ref2[0],\n            _ = _ref2[1],\n            index = _ref2[2];\n\n        return renderCallback(index, _this._leftMap[index], top);\n      });\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(index, left, top, height) {\n      this._intervalTree.insert([top, top + height, index]);\n\n      this._leftMap[index] = left;\n      var columnSizeMap = this._columnSizeMap;\n      var columnHeight = columnSizeMap[left];\n\n      if (columnHeight === undefined) {\n        columnSizeMap[left] = top + height;\n      } else {\n        columnSizeMap[left] = Math.max(columnHeight, top + height);\n      }\n    }\n  }, {\n    key: \"count\",\n    get: function get() {\n      return this._intervalTree.count;\n    }\n  }, {\n    key: \"shortestColumnSize\",\n    get: function get() {\n      var columnSizeMap = this._columnSizeMap;\n      var size = 0;\n\n      for (var i in columnSizeMap) {\n        var height = columnSizeMap[i];\n        size = size === 0 ? height : Math.min(size, height);\n      }\n\n      return size;\n    }\n  }, {\n    key: \"tallestColumnSize\",\n    get: function get() {\n      var columnSizeMap = this._columnSizeMap;\n      var size = 0;\n\n      for (var i in columnSizeMap) {\n        var height = columnSizeMap[i];\n        size = Math.max(size, height);\n      }\n\n      return size;\n    }\n  }]);\n\n  return PositionCache;\n}();\n\nexport { PositionCache as default };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport clsx from 'clsx';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport PositionCache from './PositionCache';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../utils/requestAnimationTimeout';\nvar emptyObject = {};\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\n\nexport var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n/**\n * This component efficiently displays arbitrarily positioned cells using windowing techniques.\n * Cell position is determined by an injected `cellPositioner` property.\n * Windowing is vertical; this component does not support horizontal scrolling.\n *\n * Rendering occurs in two phases:\n * 1) First pass uses estimated cell sizes (provided by the cache) to determine how many cells to measure in a batch.\n *    Batch size is chosen using a fast, naive layout algorithm that stacks images in order until the viewport has been filled.\n *    After measurement is complete (componentDidMount or componentDidUpdate) this component evaluates positioned cells\n *    in order to determine if another measurement pass is required (eg if actual cell sizes were less than estimated sizes).\n *    All measurements are permanently cached (keyed by `keyMapper`) for performance purposes.\n * 2) Second pass uses the external `cellPositioner` to layout cells.\n *    At this time the positioner has access to cached size measurements for all cells.\n *    The positions it returns are cached by Masonry for fast access later.\n *    Phase one is repeated if the user scrolls beyond the current layout's bounds.\n *    If the layout is invalidated due to eg a resize, cached positions can be cleared using `recomputeCellPositions()`.\n *\n * Animation constraints:\n *   Simple animations are supported (eg translate/slide into place on initial reveal).\n *   More complex animations are not (eg flying from one position to another on resize).\n *\n * Layout constraints:\n *   This component supports multi-column layout.\n *   The height of each item may vary.\n *   The width of each item must not exceed the width of the column it is \"in\".\n *   The left position of all items within a column must align.\n *   (Items may not span multiple columns.)\n */\n\nvar Masonry = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Masonry, _React$PureComponent);\n\n  function Masonry() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Masonry);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Masonry)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isScrolling: false,\n      scrollTop: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingId\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStartIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_invalidateOnUpdateStopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionCache\", new PositionCache());\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_startIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopIndexMemoized\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_debounceResetIsScrollingCallback\", function () {\n      _this.setState({\n        isScrolling: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_setScrollingContainerRef\", function (ref) {\n      _this._scrollingContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (event) {\n      var height = _this.props.height;\n      var eventScrollTop = event.currentTarget.scrollTop; // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollTop = Math.min(Math.max(0, _this._getEstimatedTotalHeight() - height), eventScrollTop); // On iOS, we can arrive at negative offsets by swiping past the start or end.\n      // Avoid re-rendering in this case as it can cause problems; see #532 for more.\n\n      if (eventScrollTop !== scrollTop) {\n        return;\n      } // Prevent pointer events from interrupting a smooth scroll\n\n\n      _this._debounceResetIsScrolling(); // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n\n\n      if (_this.state.scrollTop !== scrollTop) {\n        _this.setState({\n          isScrolling: true,\n          scrollTop: scrollTop\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Masonry, [{\n    key: \"clearCellPositions\",\n    value: function clearCellPositions() {\n      this._positionCache = new PositionCache();\n      this.forceUpdate();\n    } // HACK This method signature was intended for Grid\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref) {\n      var index = _ref.rowIndex;\n\n      if (this._invalidateOnUpdateStartIndex === null) {\n        this._invalidateOnUpdateStartIndex = index;\n        this._invalidateOnUpdateStopIndex = index;\n      } else {\n        this._invalidateOnUpdateStartIndex = Math.min(this._invalidateOnUpdateStartIndex, index);\n        this._invalidateOnUpdateStopIndex = Math.max(this._invalidateOnUpdateStopIndex, index);\n      }\n    }\n  }, {\n    key: \"recomputeCellPositions\",\n    value: function recomputeCellPositions() {\n      var stopIndex = this._positionCache.count - 1;\n      this._positionCache = new PositionCache();\n\n      this._populatePositionCache(0, stopIndex);\n\n      this.forceUpdate();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this._checkInvalidateOnUpdate();\n\n      this._invokeOnScrollCallback();\n\n      this._invokeOnCellsRenderedCallback();\n\n      if (this.props.scrollTop !== prevProps.scrollTop) {\n        this._debounceResetIsScrolling();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          autoHeight = _this$props.autoHeight,\n          cellCount = _this$props.cellCount,\n          cellMeasurerCache = _this$props.cellMeasurerCache,\n          cellRenderer = _this$props.cellRenderer,\n          className = _this$props.className,\n          height = _this$props.height,\n          id = _this$props.id,\n          keyMapper = _this$props.keyMapper,\n          overscanByPixels = _this$props.overscanByPixels,\n          role = _this$props.role,\n          style = _this$props.style,\n          tabIndex = _this$props.tabIndex,\n          width = _this$props.width,\n          rowDirection = _this$props.rowDirection;\n      var _this$state = this.state,\n          isScrolling = _this$state.isScrolling,\n          scrollTop = _this$state.scrollTop;\n      var children = [];\n\n      var estimateTotalHeight = this._getEstimatedTotalHeight();\n\n      var shortestColumnSize = this._positionCache.shortestColumnSize;\n      var measuredCellCount = this._positionCache.count;\n      var startIndex = 0;\n      var stopIndex;\n\n      this._positionCache.range(Math.max(0, scrollTop - overscanByPixels), height + overscanByPixels * 2, function (index, left, top) {\n        var _style;\n\n        if (typeof stopIndex === 'undefined') {\n          startIndex = index;\n          stopIndex = index;\n        } else {\n          startIndex = Math.min(startIndex, index);\n          stopIndex = Math.max(stopIndex, index);\n        }\n\n        children.push(cellRenderer({\n          index: index,\n          isScrolling: isScrolling,\n          key: keyMapper(index),\n          parent: _this2,\n          style: (_style = {\n            height: cellMeasurerCache.getHeight(index)\n          }, _defineProperty(_style, rowDirection === 'ltr' ? 'left' : 'right', left), _defineProperty(_style, \"position\", 'absolute'), _defineProperty(_style, \"top\", top), _defineProperty(_style, \"width\", cellMeasurerCache.getWidth(index)), _style)\n        }));\n      }); // We need to measure additional cells for this layout\n\n\n      if (shortestColumnSize < scrollTop + height + overscanByPixels && measuredCellCount < cellCount) {\n        var batchSize = Math.min(cellCount - measuredCellCount, Math.ceil((scrollTop + height + overscanByPixels - shortestColumnSize) / cellMeasurerCache.defaultHeight * width / cellMeasurerCache.defaultWidth));\n\n        for (var _index = measuredCellCount; _index < measuredCellCount + batchSize; _index++) {\n          stopIndex = _index;\n          children.push(cellRenderer({\n            index: _index,\n            isScrolling: isScrolling,\n            key: keyMapper(_index),\n            parent: this,\n            style: {\n              width: cellMeasurerCache.getWidth(_index)\n            }\n          }));\n        }\n      }\n\n      this._startIndex = startIndex;\n      this._stopIndex = stopIndex;\n      return React.createElement(\"div\", {\n        ref: this._setScrollingContainerRef,\n        \"aria-label\": this.props['aria-label'],\n        className: clsx('ReactVirtualized__Masonry', className),\n        id: id,\n        onScroll: this._onScroll,\n        role: role,\n        style: _objectSpread({\n          boxSizing: 'border-box',\n          direction: 'ltr',\n          height: autoHeight ? 'auto' : height,\n          overflowX: 'hidden',\n          overflowY: estimateTotalHeight < height ? 'hidden' : 'auto',\n          position: 'relative',\n          width: width,\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform'\n        }, style),\n        tabIndex: tabIndex\n      }, React.createElement(\"div\", {\n        className: \"ReactVirtualized__Masonry__innerScrollContainer\",\n        style: {\n          width: '100%',\n          height: estimateTotalHeight,\n          maxWidth: '100%',\n          maxHeight: estimateTotalHeight,\n          overflow: 'hidden',\n          pointerEvents: isScrolling ? 'none' : '',\n          position: 'relative'\n        }\n      }, children));\n    }\n  }, {\n    key: \"_checkInvalidateOnUpdate\",\n    value: function _checkInvalidateOnUpdate() {\n      if (typeof this._invalidateOnUpdateStartIndex === 'number') {\n        var startIndex = this._invalidateOnUpdateStartIndex;\n        var stopIndex = this._invalidateOnUpdateStopIndex;\n        this._invalidateOnUpdateStartIndex = null;\n        this._invalidateOnUpdateStopIndex = null; // Query external layout logic for position of newly-measured cells\n\n        this._populatePositionCache(startIndex, stopIndex);\n\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: \"_debounceResetIsScrolling\",\n    value: function _debounceResetIsScrolling() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n\n      this._debounceResetIsScrollingId = requestAnimationTimeout(this._debounceResetIsScrollingCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: \"_getEstimatedTotalHeight\",\n    value: function _getEstimatedTotalHeight() {\n      var _this$props2 = this.props,\n          cellCount = _this$props2.cellCount,\n          cellMeasurerCache = _this$props2.cellMeasurerCache,\n          width = _this$props2.width;\n      var estimatedColumnCount = Math.max(1, Math.floor(width / cellMeasurerCache.defaultWidth));\n      return this._positionCache.estimateTotalHeight(cellCount, estimatedColumnCount, cellMeasurerCache.defaultHeight);\n    }\n  }, {\n    key: \"_invokeOnScrollCallback\",\n    value: function _invokeOnScrollCallback() {\n      var _this$props3 = this.props,\n          height = _this$props3.height,\n          onScroll = _this$props3.onScroll;\n      var scrollTop = this.state.scrollTop;\n\n      if (this._onScrollMemoized !== scrollTop) {\n        onScroll({\n          clientHeight: height,\n          scrollHeight: this._getEstimatedTotalHeight(),\n          scrollTop: scrollTop\n        });\n        this._onScrollMemoized = scrollTop;\n      }\n    }\n  }, {\n    key: \"_invokeOnCellsRenderedCallback\",\n    value: function _invokeOnCellsRenderedCallback() {\n      if (this._startIndexMemoized !== this._startIndex || this._stopIndexMemoized !== this._stopIndex) {\n        var onCellsRendered = this.props.onCellsRendered;\n        onCellsRendered({\n          startIndex: this._startIndex,\n          stopIndex: this._stopIndex\n        });\n        this._startIndexMemoized = this._startIndex;\n        this._stopIndexMemoized = this._stopIndex;\n      }\n    }\n  }, {\n    key: \"_populatePositionCache\",\n    value: function _populatePositionCache(startIndex, stopIndex) {\n      var _this$props4 = this.props,\n          cellMeasurerCache = _this$props4.cellMeasurerCache,\n          cellPositioner = _this$props4.cellPositioner;\n\n      for (var _index2 = startIndex; _index2 <= stopIndex; _index2++) {\n        var _cellPositioner = cellPositioner(_index2),\n            left = _cellPositioner.left,\n            top = _cellPositioner.top;\n\n        this._positionCache.setPosition(_index2, left, top, cellMeasurerCache.getHeight(_index2));\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollTop !== undefined && prevState.scrollTop !== nextProps.scrollTop) {\n        return {\n          isScrolling: true,\n          scrollTop: nextProps.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Masonry;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  \"autoHeight\": PropTypes.bool.isRequired,\n  \"cellCount\": PropTypes.number.isRequired,\n  \"cellMeasurerCache\": function cellMeasurerCache() {\n    return (typeof CellMeasurerCache === \"function\" ? PropTypes.instanceOf(CellMeasurerCache).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellPositioner\": function cellPositioner() {\n    return (typeof Positioner === \"function\" ? PropTypes.instanceOf(Positioner).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"cellRenderer\": function cellRenderer() {\n    return (typeof CellRenderer === \"function\" ? PropTypes.instanceOf(CellRenderer).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"className\": PropTypes.string,\n  \"height\": PropTypes.number.isRequired,\n  \"id\": PropTypes.string,\n  \"keyMapper\": function keyMapper() {\n    return (typeof KeyMapper === \"function\" ? PropTypes.instanceOf(KeyMapper).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  \"onCellsRendered\": function onCellsRendered() {\n    return (typeof OnCellsRenderedCallback === \"function\" ? PropTypes.instanceOf(OnCellsRenderedCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"onScroll\": function onScroll() {\n    return (typeof OnScrollCallback === \"function\" ? PropTypes.instanceOf(OnScrollCallback) : PropTypes.any).apply(this, arguments);\n  },\n  \"overscanByPixels\": PropTypes.number.isRequired,\n  \"role\": PropTypes.string.isRequired,\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n  \"style\": function style(props, propName, componentName) {\n    if (!Object.prototype.hasOwnProperty.call(props, propName)) {\n      throw new Error(\"Prop `\".concat(propName, \"` has type 'any' or 'mixed', but was not provided to `\").concat(componentName, \"`. Pass undefined or any other value.\"));\n    }\n  },\n  \"tabIndex\": PropTypes.number.isRequired,\n  \"width\": PropTypes.number.isRequired,\n  \"rowDirection\": PropTypes.string.isRequired,\n  \"scrollTop\": PropTypes.number\n}), _temp);\n\n_defineProperty(Masonry, \"defaultProps\", {\n  autoHeight: false,\n  keyMapper: identity,\n  onCellsRendered: noop,\n  onScroll: noop,\n  overscanByPixels: 20,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  style: emptyObject,\n  tabIndex: 0,\n  rowDirection: 'ltr'\n});\n\nfunction identity(value) {\n  return value;\n}\n\nfunction noop() {}\n\nvar bpfrpt_proptype_CellMeasurerCache = process.env.NODE_ENV === 'production' ? null : {\n  \"defaultHeight\": PropTypes.number.isRequired,\n  \"defaultWidth\": PropTypes.number.isRequired,\n  \"getHeight\": PropTypes.func.isRequired,\n  \"getWidth\": PropTypes.func.isRequired\n};\npolyfill(Masonry);\nexport default Masonry;\nvar bpfrpt_proptype_Positioner = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nimport { bpfrpt_proptype_AnimationTimeoutId } from \"../utils/requestAnimationTimeout\";\nimport PropTypes from \"prop-types\";\nexport { bpfrpt_proptype_CellMeasurerCache };\nexport { bpfrpt_proptype_Positioner };","import createCellPositioner from './createCellPositioner';\nimport Masonry from './Masonry';\nexport default Masonry;\nexport { createCellPositioner, Masonry };","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { CellMeasurerCache } from '../CellMeasurer';\n\n/**\n * Caches measurements for a given cell.\n */\nvar CellMeasurerCacheDecorator =\n/*#__PURE__*/\nfunction () {\n  function CellMeasurerCacheDecorator() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, CellMeasurerCacheDecorator);\n\n    _defineProperty(this, \"_cellMeasurerCache\", void 0);\n\n    _defineProperty(this, \"_columnIndexOffset\", void 0);\n\n    _defineProperty(this, \"_rowIndexOffset\", void 0);\n\n    _defineProperty(this, \"columnWidth\", function (_ref) {\n      var index = _ref.index;\n\n      _this._cellMeasurerCache.columnWidth({\n        index: index + _this._columnIndexOffset\n      });\n    });\n\n    _defineProperty(this, \"rowHeight\", function (_ref2) {\n      var index = _ref2.index;\n\n      _this._cellMeasurerCache.rowHeight({\n        index: index + _this._rowIndexOffset\n      });\n    });\n\n    var cellMeasurerCache = params.cellMeasurerCache,\n        _params$columnIndexOf = params.columnIndexOffset,\n        columnIndexOffset = _params$columnIndexOf === void 0 ? 0 : _params$columnIndexOf,\n        _params$rowIndexOffse = params.rowIndexOffset,\n        rowIndexOffset = _params$rowIndexOffse === void 0 ? 0 : _params$rowIndexOffse;\n    this._cellMeasurerCache = cellMeasurerCache;\n    this._columnIndexOffset = columnIndexOffset;\n    this._rowIndexOffset = rowIndexOffset;\n  }\n\n  _createClass(CellMeasurerCacheDecorator, [{\n    key: \"clear\",\n    value: function clear(rowIndex, columnIndex) {\n      this._cellMeasurerCache.clear(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"clearAll\",\n    value: function clearAll() {\n      this._cellMeasurerCache.clearAll();\n    }\n  }, {\n    key: \"hasFixedHeight\",\n    value: function hasFixedHeight() {\n      return this._cellMeasurerCache.hasFixedHeight();\n    }\n  }, {\n    key: \"hasFixedWidth\",\n    value: function hasFixedWidth() {\n      return this._cellMeasurerCache.hasFixedWidth();\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return this._cellMeasurerCache.getHeight(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return this._cellMeasurerCache.getWidth(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"has\",\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return this._cellMeasurerCache.has(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: \"set\",\n    value: function set(rowIndex, columnIndex, width, height) {\n      this._cellMeasurerCache.set(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset, width, height);\n    }\n  }, {\n    key: \"defaultHeight\",\n    get: function get() {\n      return this._cellMeasurerCache.defaultHeight;\n    }\n  }, {\n    key: \"defaultWidth\",\n    get: function get() {\n      return this._cellMeasurerCache.defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCacheDecorator;\n}();\n\nexport { CellMeasurerCacheDecorator as default };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport CellMeasurerCacheDecorator from './CellMeasurerCacheDecorator';\nimport Grid from '../Grid';\nvar SCROLLBAR_SIZE_BUFFER = 20;\n/**\n * Renders 1, 2, or 4 Grids depending on configuration.\n * A main (body) Grid will always be rendered.\n * Optionally, 1-2 Grids for sticky header rows will also be rendered.\n * If no sticky columns, only 1 sticky header Grid will be rendered.\n * If sticky columns, 2 sticky header Grids will be rendered.\n */\n\nvar MultiGrid =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(MultiGrid, _React$PureComponent);\n\n  function MultiGrid(props, context) {\n    var _this;\n\n    _classCallCheck(this, MultiGrid);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MultiGrid).call(this, props, context));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollbarSize: 0,\n      showHorizontalScrollbar: false,\n      showVerticalScrollbar: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateColumnIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_deferredInvalidateRowIndex\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_bottomLeftGridRef\", function (ref) {\n      _this._bottomLeftGrid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_bottomRightGridRef\", function (ref) {\n      _this._bottomRightGrid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRendererBottomLeftGrid\", function (_ref) {\n      var rowIndex = _ref.rowIndex,\n          rest = _objectWithoutProperties(_ref, [\"rowIndex\"]);\n\n      var _this$props = _this.props,\n          cellRenderer = _this$props.cellRenderer,\n          fixedRowCount = _this$props.fixedRowCount,\n          rowCount = _this$props.rowCount;\n\n      if (rowIndex === rowCount - fixedRowCount) {\n        return React.createElement(\"div\", {\n          key: rest.key,\n          style: _objectSpread({}, rest.style, {\n            height: SCROLLBAR_SIZE_BUFFER\n          })\n        });\n      } else {\n        return cellRenderer(_objectSpread({}, rest, {\n          parent: _assertThisInitialized(_this),\n          rowIndex: rowIndex + fixedRowCount\n        }));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRendererBottomRightGrid\", function (_ref2) {\n      var columnIndex = _ref2.columnIndex,\n          rowIndex = _ref2.rowIndex,\n          rest = _objectWithoutProperties(_ref2, [\"columnIndex\", \"rowIndex\"]);\n\n      var _this$props2 = _this.props,\n          cellRenderer = _this$props2.cellRenderer,\n          fixedColumnCount = _this$props2.fixedColumnCount,\n          fixedRowCount = _this$props2.fixedRowCount;\n      return cellRenderer(_objectSpread({}, rest, {\n        columnIndex: columnIndex + fixedColumnCount,\n        parent: _assertThisInitialized(_this),\n        rowIndex: rowIndex + fixedRowCount\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_cellRendererTopRightGrid\", function (_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rest = _objectWithoutProperties(_ref3, [\"columnIndex\"]);\n\n      var _this$props3 = _this.props,\n          cellRenderer = _this$props3.cellRenderer,\n          columnCount = _this$props3.columnCount,\n          fixedColumnCount = _this$props3.fixedColumnCount;\n\n      if (columnIndex === columnCount - fixedColumnCount) {\n        return React.createElement(\"div\", {\n          key: rest.key,\n          style: _objectSpread({}, rest.style, {\n            width: SCROLLBAR_SIZE_BUFFER\n          })\n        });\n      } else {\n        return cellRenderer(_objectSpread({}, rest, {\n          columnIndex: columnIndex + fixedColumnCount,\n          parent: _assertThisInitialized(_this)\n        }));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_columnWidthRightGrid\", function (_ref4) {\n      var index = _ref4.index;\n      var _this$props4 = _this.props,\n          columnCount = _this$props4.columnCount,\n          fixedColumnCount = _this$props4.fixedColumnCount,\n          columnWidth = _this$props4.columnWidth;\n      var _this$state = _this.state,\n          scrollbarSize = _this$state.scrollbarSize,\n          showHorizontalScrollbar = _this$state.showHorizontalScrollbar; // An extra cell is added to the count\n      // This gives the smaller Grid extra room for offset,\n      // In case the main (bottom right) Grid has a scrollbar\n      // If no scrollbar, the extra space is overflow:hidden anyway\n\n      if (showHorizontalScrollbar && index === columnCount - fixedColumnCount) {\n        return scrollbarSize;\n      }\n\n      return typeof columnWidth === 'function' ? columnWidth({\n        index: index + fixedColumnCount\n      }) : columnWidth;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (scrollInfo) {\n      var scrollLeft = scrollInfo.scrollLeft,\n          scrollTop = scrollInfo.scrollTop;\n\n      _this.setState({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      });\n\n      var onScroll = _this.props.onScroll;\n\n      if (onScroll) {\n        onScroll(scrollInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollbarPresenceChange\", function (_ref5) {\n      var horizontal = _ref5.horizontal,\n          size = _ref5.size,\n          vertical = _ref5.vertical;\n      var _this$state2 = _this.state,\n          showHorizontalScrollbar = _this$state2.showHorizontalScrollbar,\n          showVerticalScrollbar = _this$state2.showVerticalScrollbar;\n\n      if (horizontal !== showHorizontalScrollbar || vertical !== showVerticalScrollbar) {\n        _this.setState({\n          scrollbarSize: size,\n          showHorizontalScrollbar: horizontal,\n          showVerticalScrollbar: vertical\n        });\n\n        var onScrollbarPresenceChange = _this.props.onScrollbarPresenceChange;\n\n        if (typeof onScrollbarPresenceChange === 'function') {\n          onScrollbarPresenceChange({\n            horizontal: horizontal,\n            size: size,\n            vertical: vertical\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollLeft\", function (scrollInfo) {\n      var scrollLeft = scrollInfo.scrollLeft;\n\n      _this._onScroll({\n        scrollLeft: scrollLeft,\n        scrollTop: _this.state.scrollTop\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollTop\", function (scrollInfo) {\n      var scrollTop = scrollInfo.scrollTop;\n\n      _this._onScroll({\n        scrollTop: scrollTop,\n        scrollLeft: _this.state.scrollLeft\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_rowHeightBottomGrid\", function (_ref6) {\n      var index = _ref6.index;\n      var _this$props5 = _this.props,\n          fixedRowCount = _this$props5.fixedRowCount,\n          rowCount = _this$props5.rowCount,\n          rowHeight = _this$props5.rowHeight;\n      var _this$state3 = _this.state,\n          scrollbarSize = _this$state3.scrollbarSize,\n          showVerticalScrollbar = _this$state3.showVerticalScrollbar; // An extra cell is added to the count\n      // This gives the smaller Grid extra room for offset,\n      // In case the main (bottom right) Grid has a scrollbar\n      // If no scrollbar, the extra space is overflow:hidden anyway\n\n      if (showVerticalScrollbar && index === rowCount - fixedRowCount) {\n        return scrollbarSize;\n      }\n\n      return typeof rowHeight === 'function' ? rowHeight({\n        index: index + fixedRowCount\n      }) : rowHeight;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_topLeftGridRef\", function (ref) {\n      _this._topLeftGrid = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_topRightGridRef\", function (ref) {\n      _this._topRightGrid = ref;\n    });\n\n    var deferredMeasurementCache = props.deferredMeasurementCache,\n        _fixedColumnCount = props.fixedColumnCount,\n        _fixedRowCount = props.fixedRowCount;\n\n    _this._maybeCalculateCachedStyles(true);\n\n    if (deferredMeasurementCache) {\n      _this._deferredMeasurementCacheBottomLeftGrid = _fixedRowCount > 0 ? new CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: 0,\n        rowIndexOffset: _fixedRowCount\n      }) : deferredMeasurementCache;\n      _this._deferredMeasurementCacheBottomRightGrid = _fixedColumnCount > 0 || _fixedRowCount > 0 ? new CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: _fixedColumnCount,\n        rowIndexOffset: _fixedRowCount\n      }) : deferredMeasurementCache;\n      _this._deferredMeasurementCacheTopRightGrid = _fixedColumnCount > 0 ? new CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: _fixedColumnCount,\n        rowIndexOffset: 0\n      }) : deferredMeasurementCache;\n    }\n\n    return _this;\n  }\n\n  _createClass(MultiGrid, [{\n    key: \"forceUpdateGrids\",\n    value: function forceUpdateGrids() {\n      this._bottomLeftGrid && this._bottomLeftGrid.forceUpdate();\n      this._bottomRightGrid && this._bottomRightGrid.forceUpdate();\n      this._topLeftGrid && this._topLeftGrid.forceUpdate();\n      this._topRightGrid && this._topRightGrid.forceUpdate();\n    }\n    /** See Grid#invalidateCellSizeAfterRender */\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$columnIndex = _ref7.columnIndex,\n          columnIndex = _ref7$columnIndex === void 0 ? 0 : _ref7$columnIndex,\n          _ref7$rowIndex = _ref7.rowIndex,\n          rowIndex = _ref7$rowIndex === void 0 ? 0 : _ref7$rowIndex;\n\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: \"measureAllCells\",\n    value: function measureAllCells() {\n      this._bottomLeftGrid && this._bottomLeftGrid.measureAllCells();\n      this._bottomRightGrid && this._bottomRightGrid.measureAllCells();\n      this._topLeftGrid && this._topLeftGrid.measureAllCells();\n      this._topRightGrid && this._topRightGrid.measureAllCells();\n    }\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref8$columnIndex = _ref8.columnIndex,\n          columnIndex = _ref8$columnIndex === void 0 ? 0 : _ref8$columnIndex,\n          _ref8$rowIndex = _ref8.rowIndex,\n          rowIndex = _ref8$rowIndex === void 0 ? 0 : _ref8$rowIndex;\n\n      var _this$props6 = this.props,\n          fixedColumnCount = _this$props6.fixedColumnCount,\n          fixedRowCount = _this$props6.fixedRowCount;\n      var adjustedColumnIndex = Math.max(0, columnIndex - fixedColumnCount);\n      var adjustedRowIndex = Math.max(0, rowIndex - fixedRowCount);\n      this._bottomLeftGrid && this._bottomLeftGrid.recomputeGridSize({\n        columnIndex: columnIndex,\n        rowIndex: adjustedRowIndex\n      });\n      this._bottomRightGrid && this._bottomRightGrid.recomputeGridSize({\n        columnIndex: adjustedColumnIndex,\n        rowIndex: adjustedRowIndex\n      });\n      this._topLeftGrid && this._topLeftGrid.recomputeGridSize({\n        columnIndex: columnIndex,\n        rowIndex: rowIndex\n      });\n      this._topRightGrid && this._topRightGrid.recomputeGridSize({\n        columnIndex: adjustedColumnIndex,\n        rowIndex: rowIndex\n      });\n      this._leftGridWidth = null;\n      this._topGridHeight = null;\n\n      this._maybeCalculateCachedStyles(true);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props7 = this.props,\n          scrollLeft = _this$props7.scrollLeft,\n          scrollTop = _this$props7.scrollTop;\n\n      if (scrollLeft > 0 || scrollTop > 0) {\n        var newState = {};\n\n        if (scrollLeft > 0) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        if (scrollTop > 0) {\n          newState.scrollTop = scrollTop;\n        }\n\n        this.setState(newState);\n      }\n\n      this._handleInvalidatedGridSize();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._handleInvalidatedGridSize();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          onScroll = _this$props8.onScroll,\n          onSectionRendered = _this$props8.onSectionRendered,\n          onScrollbarPresenceChange = _this$props8.onScrollbarPresenceChange,\n          scrollLeftProp = _this$props8.scrollLeft,\n          scrollToColumn = _this$props8.scrollToColumn,\n          scrollTopProp = _this$props8.scrollTop,\n          scrollToRow = _this$props8.scrollToRow,\n          rest = _objectWithoutProperties(_this$props8, [\"onScroll\", \"onSectionRendered\", \"onScrollbarPresenceChange\", \"scrollLeft\", \"scrollToColumn\", \"scrollTop\", \"scrollToRow\"]);\n\n      this._prepareForRender(); // Don't render any of our Grids if there are no cells.\n      // This mirrors what Grid does,\n      // And prevents us from recording inaccurage measurements when used with CellMeasurer.\n\n\n      if (this.props.width === 0 || this.props.height === 0) {\n        return null;\n      } // scrollTop and scrollLeft props are explicitly filtered out and ignored\n\n\n      var _this$state4 = this.state,\n          scrollLeft = _this$state4.scrollLeft,\n          scrollTop = _this$state4.scrollTop;\n      return React.createElement(\"div\", {\n        style: this._containerOuterStyle\n      }, React.createElement(\"div\", {\n        style: this._containerTopStyle\n      }, this._renderTopLeftGrid(rest), this._renderTopRightGrid(_objectSpread({}, rest, {\n        onScroll: onScroll,\n        scrollLeft: scrollLeft\n      }))), React.createElement(\"div\", {\n        style: this._containerBottomStyle\n      }, this._renderBottomLeftGrid(_objectSpread({}, rest, {\n        onScroll: onScroll,\n        scrollTop: scrollTop\n      })), this._renderBottomRightGrid(_objectSpread({}, rest, {\n        onScroll: onScroll,\n        onSectionRendered: onSectionRendered,\n        scrollLeft: scrollLeft,\n        scrollToColumn: scrollToColumn,\n        scrollToRow: scrollToRow,\n        scrollTop: scrollTop\n      }))));\n    }\n  }, {\n    key: \"_getBottomGridHeight\",\n    value: function _getBottomGridHeight(props) {\n      var height = props.height;\n\n      var topGridHeight = this._getTopGridHeight(props);\n\n      return height - topGridHeight;\n    }\n  }, {\n    key: \"_getLeftGridWidth\",\n    value: function _getLeftGridWidth(props) {\n      var fixedColumnCount = props.fixedColumnCount,\n          columnWidth = props.columnWidth;\n\n      if (this._leftGridWidth == null) {\n        if (typeof columnWidth === 'function') {\n          var leftGridWidth = 0;\n\n          for (var index = 0; index < fixedColumnCount; index++) {\n            leftGridWidth += columnWidth({\n              index: index\n            });\n          }\n\n          this._leftGridWidth = leftGridWidth;\n        } else {\n          this._leftGridWidth = columnWidth * fixedColumnCount;\n        }\n      }\n\n      return this._leftGridWidth;\n    }\n  }, {\n    key: \"_getRightGridWidth\",\n    value: function _getRightGridWidth(props) {\n      var width = props.width;\n\n      var leftGridWidth = this._getLeftGridWidth(props);\n\n      return width - leftGridWidth;\n    }\n  }, {\n    key: \"_getTopGridHeight\",\n    value: function _getTopGridHeight(props) {\n      var fixedRowCount = props.fixedRowCount,\n          rowHeight = props.rowHeight;\n\n      if (this._topGridHeight == null) {\n        if (typeof rowHeight === 'function') {\n          var topGridHeight = 0;\n\n          for (var index = 0; index < fixedRowCount; index++) {\n            topGridHeight += rowHeight({\n              index: index\n            });\n          }\n\n          this._topGridHeight = topGridHeight;\n        } else {\n          this._topGridHeight = rowHeight * fixedRowCount;\n        }\n      }\n\n      return this._topGridHeight;\n    }\n  }, {\n    key: \"_handleInvalidatedGridSize\",\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n        this.recomputeGridSize({\n          columnIndex: columnIndex,\n          rowIndex: rowIndex\n        });\n        this.forceUpdate();\n      }\n    }\n    /**\n     * Avoid recreating inline styles each render; this bypasses Grid's shallowCompare.\n     * This method recalculates styles only when specific props change.\n     */\n\n  }, {\n    key: \"_maybeCalculateCachedStyles\",\n    value: function _maybeCalculateCachedStyles(resetAll) {\n      var _this$props9 = this.props,\n          columnWidth = _this$props9.columnWidth,\n          enableFixedColumnScroll = _this$props9.enableFixedColumnScroll,\n          enableFixedRowScroll = _this$props9.enableFixedRowScroll,\n          height = _this$props9.height,\n          fixedColumnCount = _this$props9.fixedColumnCount,\n          fixedRowCount = _this$props9.fixedRowCount,\n          rowHeight = _this$props9.rowHeight,\n          style = _this$props9.style,\n          styleBottomLeftGrid = _this$props9.styleBottomLeftGrid,\n          styleBottomRightGrid = _this$props9.styleBottomRightGrid,\n          styleTopLeftGrid = _this$props9.styleTopLeftGrid,\n          styleTopRightGrid = _this$props9.styleTopRightGrid,\n          width = _this$props9.width;\n      var sizeChange = resetAll || height !== this._lastRenderedHeight || width !== this._lastRenderedWidth;\n      var leftSizeChange = resetAll || columnWidth !== this._lastRenderedColumnWidth || fixedColumnCount !== this._lastRenderedFixedColumnCount;\n      var topSizeChange = resetAll || fixedRowCount !== this._lastRenderedFixedRowCount || rowHeight !== this._lastRenderedRowHeight;\n\n      if (resetAll || sizeChange || style !== this._lastRenderedStyle) {\n        this._containerOuterStyle = _objectSpread({\n          height: height,\n          overflow: 'visible',\n          // Let :focus outline show through\n          width: width\n        }, style);\n      }\n\n      if (resetAll || sizeChange || topSizeChange) {\n        this._containerTopStyle = {\n          height: this._getTopGridHeight(this.props),\n          position: 'relative',\n          width: width\n        };\n        this._containerBottomStyle = {\n          height: height - this._getTopGridHeight(this.props),\n          overflow: 'visible',\n          // Let :focus outline show through\n          position: 'relative',\n          width: width\n        };\n      }\n\n      if (resetAll || styleBottomLeftGrid !== this._lastRenderedStyleBottomLeftGrid) {\n        this._bottomLeftGridStyle = _objectSpread({\n          left: 0,\n          overflowX: 'hidden',\n          overflowY: enableFixedColumnScroll ? 'auto' : 'hidden',\n          position: 'absolute'\n        }, styleBottomLeftGrid);\n      }\n\n      if (resetAll || leftSizeChange || styleBottomRightGrid !== this._lastRenderedStyleBottomRightGrid) {\n        this._bottomRightGridStyle = _objectSpread({\n          left: this._getLeftGridWidth(this.props),\n          position: 'absolute'\n        }, styleBottomRightGrid);\n      }\n\n      if (resetAll || styleTopLeftGrid !== this._lastRenderedStyleTopLeftGrid) {\n        this._topLeftGridStyle = _objectSpread({\n          left: 0,\n          overflowX: 'hidden',\n          overflowY: 'hidden',\n          position: 'absolute',\n          top: 0\n        }, styleTopLeftGrid);\n      }\n\n      if (resetAll || leftSizeChange || styleTopRightGrid !== this._lastRenderedStyleTopRightGrid) {\n        this._topRightGridStyle = _objectSpread({\n          left: this._getLeftGridWidth(this.props),\n          overflowX: enableFixedRowScroll ? 'auto' : 'hidden',\n          overflowY: 'hidden',\n          position: 'absolute',\n          top: 0\n        }, styleTopRightGrid);\n      }\n\n      this._lastRenderedColumnWidth = columnWidth;\n      this._lastRenderedFixedColumnCount = fixedColumnCount;\n      this._lastRenderedFixedRowCount = fixedRowCount;\n      this._lastRenderedHeight = height;\n      this._lastRenderedRowHeight = rowHeight;\n      this._lastRenderedStyle = style;\n      this._lastRenderedStyleBottomLeftGrid = styleBottomLeftGrid;\n      this._lastRenderedStyleBottomRightGrid = styleBottomRightGrid;\n      this._lastRenderedStyleTopLeftGrid = styleTopLeftGrid;\n      this._lastRenderedStyleTopRightGrid = styleTopRightGrid;\n      this._lastRenderedWidth = width;\n    }\n  }, {\n    key: \"_prepareForRender\",\n    value: function _prepareForRender() {\n      if (this._lastRenderedColumnWidth !== this.props.columnWidth || this._lastRenderedFixedColumnCount !== this.props.fixedColumnCount) {\n        this._leftGridWidth = null;\n      }\n\n      if (this._lastRenderedFixedRowCount !== this.props.fixedRowCount || this._lastRenderedRowHeight !== this.props.rowHeight) {\n        this._topGridHeight = null;\n      }\n\n      this._maybeCalculateCachedStyles();\n\n      this._lastRenderedColumnWidth = this.props.columnWidth;\n      this._lastRenderedFixedColumnCount = this.props.fixedColumnCount;\n      this._lastRenderedFixedRowCount = this.props.fixedRowCount;\n      this._lastRenderedRowHeight = this.props.rowHeight;\n    }\n  }, {\n    key: \"_renderBottomLeftGrid\",\n    value: function _renderBottomLeftGrid(props) {\n      var enableFixedColumnScroll = props.enableFixedColumnScroll,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          rowCount = props.rowCount,\n          hideBottomLeftGridScrollbar = props.hideBottomLeftGridScrollbar;\n      var showVerticalScrollbar = this.state.showVerticalScrollbar;\n\n      if (!fixedColumnCount) {\n        return null;\n      }\n\n      var additionalRowCount = showVerticalScrollbar ? 1 : 0,\n          height = this._getBottomGridHeight(props),\n          width = this._getLeftGridWidth(props),\n          scrollbarSize = this.state.showVerticalScrollbar ? this.state.scrollbarSize : 0,\n          gridWidth = hideBottomLeftGridScrollbar ? width + scrollbarSize : width;\n\n      var bottomLeftGrid = React.createElement(Grid, _extends({}, props, {\n        cellRenderer: this._cellRendererBottomLeftGrid,\n        className: this.props.classNameBottomLeftGrid,\n        columnCount: fixedColumnCount,\n        deferredMeasurementCache: this._deferredMeasurementCacheBottomLeftGrid,\n        height: height,\n        onScroll: enableFixedColumnScroll ? this._onScrollTop : undefined,\n        ref: this._bottomLeftGridRef,\n        rowCount: Math.max(0, rowCount - fixedRowCount) + additionalRowCount,\n        rowHeight: this._rowHeightBottomGrid,\n        style: this._bottomLeftGridStyle,\n        tabIndex: null,\n        width: gridWidth\n      }));\n\n      if (hideBottomLeftGridScrollbar) {\n        return React.createElement(\"div\", {\n          className: \"BottomLeftGrid_ScrollWrapper\",\n          style: _objectSpread({}, this._bottomLeftGridStyle, {\n            height: height,\n            width: width,\n            overflowY: 'hidden'\n          })\n        }, bottomLeftGrid);\n      }\n\n      return bottomLeftGrid;\n    }\n  }, {\n    key: \"_renderBottomRightGrid\",\n    value: function _renderBottomRightGrid(props) {\n      var columnCount = props.columnCount,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          rowCount = props.rowCount,\n          scrollToColumn = props.scrollToColumn,\n          scrollToRow = props.scrollToRow;\n      return React.createElement(Grid, _extends({}, props, {\n        cellRenderer: this._cellRendererBottomRightGrid,\n        className: this.props.classNameBottomRightGrid,\n        columnCount: Math.max(0, columnCount - fixedColumnCount),\n        columnWidth: this._columnWidthRightGrid,\n        deferredMeasurementCache: this._deferredMeasurementCacheBottomRightGrid,\n        height: this._getBottomGridHeight(props),\n        onScroll: this._onScroll,\n        onScrollbarPresenceChange: this._onScrollbarPresenceChange,\n        ref: this._bottomRightGridRef,\n        rowCount: Math.max(0, rowCount - fixedRowCount),\n        rowHeight: this._rowHeightBottomGrid,\n        scrollToColumn: scrollToColumn - fixedColumnCount,\n        scrollToRow: scrollToRow - fixedRowCount,\n        style: this._bottomRightGridStyle,\n        width: this._getRightGridWidth(props)\n      }));\n    }\n  }, {\n    key: \"_renderTopLeftGrid\",\n    value: function _renderTopLeftGrid(props) {\n      var fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount;\n\n      if (!fixedColumnCount || !fixedRowCount) {\n        return null;\n      }\n\n      return React.createElement(Grid, _extends({}, props, {\n        className: this.props.classNameTopLeftGrid,\n        columnCount: fixedColumnCount,\n        height: this._getTopGridHeight(props),\n        ref: this._topLeftGridRef,\n        rowCount: fixedRowCount,\n        style: this._topLeftGridStyle,\n        tabIndex: null,\n        width: this._getLeftGridWidth(props)\n      }));\n    }\n  }, {\n    key: \"_renderTopRightGrid\",\n    value: function _renderTopRightGrid(props) {\n      var columnCount = props.columnCount,\n          enableFixedRowScroll = props.enableFixedRowScroll,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          scrollLeft = props.scrollLeft,\n          hideTopRightGridScrollbar = props.hideTopRightGridScrollbar;\n      var _this$state5 = this.state,\n          showHorizontalScrollbar = _this$state5.showHorizontalScrollbar,\n          scrollbarSize = _this$state5.scrollbarSize;\n\n      if (!fixedRowCount) {\n        return null;\n      }\n\n      var additionalColumnCount = showHorizontalScrollbar ? 1 : 0,\n          height = this._getTopGridHeight(props),\n          width = this._getRightGridWidth(props),\n          additionalHeight = showHorizontalScrollbar ? scrollbarSize : 0;\n\n      var gridHeight = height,\n          style = this._topRightGridStyle;\n\n      if (hideTopRightGridScrollbar) {\n        gridHeight = height + additionalHeight;\n        style = _objectSpread({}, this._topRightGridStyle, {\n          left: 0\n        });\n      }\n\n      var topRightGrid = React.createElement(Grid, _extends({}, props, {\n        cellRenderer: this._cellRendererTopRightGrid,\n        className: this.props.classNameTopRightGrid,\n        columnCount: Math.max(0, columnCount - fixedColumnCount) + additionalColumnCount,\n        columnWidth: this._columnWidthRightGrid,\n        deferredMeasurementCache: this._deferredMeasurementCacheTopRightGrid,\n        height: gridHeight,\n        onScroll: enableFixedRowScroll ? this._onScrollLeft : undefined,\n        ref: this._topRightGridRef,\n        rowCount: fixedRowCount,\n        scrollLeft: scrollLeft,\n        style: style,\n        tabIndex: null,\n        width: width\n      }));\n\n      if (hideTopRightGridScrollbar) {\n        return React.createElement(\"div\", {\n          className: \"TopRightGrid_ScrollWrapper\",\n          style: _objectSpread({}, this._topRightGridStyle, {\n            height: height,\n            width: width,\n            overflowX: 'hidden'\n          })\n        }, topRightGrid);\n      }\n\n      return topRightGrid;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {\n        return {\n          scrollLeft: nextProps.scrollLeft != null && nextProps.scrollLeft >= 0 ? nextProps.scrollLeft : prevState.scrollLeft,\n          scrollTop: nextProps.scrollTop != null && nextProps.scrollTop >= 0 ? nextProps.scrollTop : prevState.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return MultiGrid;\n}(React.PureComponent);\n\n_defineProperty(MultiGrid, \"defaultProps\", {\n  classNameBottomLeftGrid: '',\n  classNameBottomRightGrid: '',\n  classNameTopLeftGrid: '',\n  classNameTopRightGrid: '',\n  enableFixedColumnScroll: false,\n  enableFixedRowScroll: false,\n  fixedColumnCount: 0,\n  fixedRowCount: 0,\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  styleBottomLeftGrid: {},\n  styleBottomRightGrid: {},\n  styleTopLeftGrid: {},\n  styleTopRightGrid: {},\n  hideTopRightGridScrollbar: false,\n  hideBottomLeftGridScrollbar: false\n});\n\nMultiGrid.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  classNameBottomLeftGrid: PropTypes.string.isRequired,\n  classNameBottomRightGrid: PropTypes.string.isRequired,\n  classNameTopLeftGrid: PropTypes.string.isRequired,\n  classNameTopRightGrid: PropTypes.string.isRequired,\n  enableFixedColumnScroll: PropTypes.bool.isRequired,\n  enableFixedRowScroll: PropTypes.bool.isRequired,\n  fixedColumnCount: PropTypes.number.isRequired,\n  fixedRowCount: PropTypes.number.isRequired,\n  onScrollbarPresenceChange: PropTypes.func,\n  style: PropTypes.object.isRequired,\n  styleBottomLeftGrid: PropTypes.object.isRequired,\n  styleBottomRightGrid: PropTypes.object.isRequired,\n  styleTopLeftGrid: PropTypes.object.isRequired,\n  styleTopRightGrid: PropTypes.object.isRequired,\n  hideTopRightGridScrollbar: PropTypes.bool,\n  hideBottomLeftGridScrollbar: PropTypes.bool\n} : {};\npolyfill(MultiGrid);\nexport default MultiGrid;","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\n/**\n * HOC that simplifies the process of synchronizing scrolling between two or more virtualized components.\n */\n\nvar ScrollSync =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ScrollSync, _React$PureComponent);\n\n  function ScrollSync(props, context) {\n    var _this;\n\n    _classCallCheck(this, ScrollSync);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScrollSync).call(this, props, context));\n    _this.state = {\n      clientHeight: 0,\n      clientWidth: 0,\n      scrollHeight: 0,\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollWidth: 0\n    };\n    _this._onScroll = _this._onScroll.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ScrollSync, [{\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var _this$state = this.state,\n          clientHeight = _this$state.clientHeight,\n          clientWidth = _this$state.clientWidth,\n          scrollHeight = _this$state.scrollHeight,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop,\n          scrollWidth = _this$state.scrollWidth;\n      return children({\n        clientHeight: clientHeight,\n        clientWidth: clientWidth,\n        onScroll: this._onScroll,\n        scrollHeight: scrollHeight,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        scrollWidth: scrollWidth\n      });\n    }\n  }, {\n    key: \"_onScroll\",\n    value: function _onScroll(_ref) {\n      var clientHeight = _ref.clientHeight,\n          clientWidth = _ref.clientWidth,\n          scrollHeight = _ref.scrollHeight,\n          scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          scrollWidth = _ref.scrollWidth;\n      this.setState({\n        clientHeight: clientHeight,\n        clientWidth: clientWidth,\n        scrollHeight: scrollHeight,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        scrollWidth: scrollWidth\n      });\n    }\n  }]);\n\n  return ScrollSync;\n}(React.PureComponent);\n\nexport { ScrollSync as default };\nScrollSync.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Function responsible for rendering 2 or more virtualized components.\n   * This function should implement the following signature:\n   * ({ onScroll, scrollLeft, scrollTop }) => PropTypes.element\n   */\n  children: PropTypes.func.isRequired\n} : {};","import * as React from 'react';\nexport default function defaultHeaderRowRenderer(_ref) {\n  var className = _ref.className,\n      columns = _ref.columns,\n      style = _ref.style;\n  return React.createElement(\"div\", {\n    className: className,\n    role: \"row\",\n    style: style\n  }, columns);\n}\ndefaultHeaderRowRenderer.propTypes = process.env.NODE_ENV === 'production' ? null : bpfrpt_proptype_HeaderRowRendererParams === PropTypes.any ? {} : bpfrpt_proptype_HeaderRowRendererParams;\nimport { bpfrpt_proptype_HeaderRowRendererParams } from \"./types\";\nimport PropTypes from \"prop-types\";","var SortDirection = {\n  /**\n   * Sort items in ascending order.\n   * This means arranging from the lowest value to the highest (e.g. a-z, 0-9).\n   */\n  ASC: 'ASC',\n\n  /**\n   * Sort items in descending order.\n   * This means arranging from the highest value to the lowest (e.g. z-a, 9-0).\n   */\n  DESC: 'DESC'\n};\nexport default SortDirection;","import clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport SortDirection from './SortDirection';\n/**\n * Displayed beside a header to indicate that a Table is currently sorted by this column.\n */\n\nexport default function SortIndicator(_ref) {\n  var sortDirection = _ref.sortDirection;\n  var classNames = clsx('ReactVirtualized__Table__sortableHeaderIcon', {\n    'ReactVirtualized__Table__sortableHeaderIcon--ASC': sortDirection === SortDirection.ASC,\n    'ReactVirtualized__Table__sortableHeaderIcon--DESC': sortDirection === SortDirection.DESC\n  });\n  return React.createElement(\"svg\", {\n    className: classNames,\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 24 24\"\n  }, sortDirection === SortDirection.ASC ? React.createElement(\"path\", {\n    d: \"M7 14l5-5 5 5z\"\n  }) : React.createElement(\"path\", {\n    d: \"M7 10l5 5 5-5z\"\n  }), React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n}\nSortIndicator.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  sortDirection: PropTypes.oneOf([SortDirection.ASC, SortDirection.DESC])\n} : {};","import * as React from 'react';\nimport SortIndicator from './SortIndicator';\n\n/**\n * Default table header renderer.\n */\nexport default function defaultHeaderRenderer(_ref) {\n  var dataKey = _ref.dataKey,\n      label = _ref.label,\n      sortBy = _ref.sortBy,\n      sortDirection = _ref.sortDirection;\n  var showSortIndicator = sortBy === dataKey;\n  var children = [React.createElement(\"span\", {\n    className: \"ReactVirtualized__Table__headerTruncatedText\",\n    key: \"label\",\n    title: typeof label === 'string' ? label : null\n  }, label)];\n\n  if (showSortIndicator) {\n    children.push(React.createElement(SortIndicator, {\n      key: \"SortIndicator\",\n      sortDirection: sortDirection\n    }));\n  }\n\n  return children;\n}\ndefaultHeaderRenderer.propTypes = process.env.NODE_ENV === 'production' ? null : bpfrpt_proptype_HeaderRendererParams === PropTypes.any ? {} : bpfrpt_proptype_HeaderRendererParams;\nimport { bpfrpt_proptype_HeaderRendererParams } from \"./types\";\nimport PropTypes from \"prop-types\";","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\n\n/**\n * Default row renderer for Table.\n */\nexport default function defaultRowRenderer(_ref) {\n  var className = _ref.className,\n      columns = _ref.columns,\n      index = _ref.index,\n      key = _ref.key,\n      onRowClick = _ref.onRowClick,\n      onRowDoubleClick = _ref.onRowDoubleClick,\n      onRowMouseOut = _ref.onRowMouseOut,\n      onRowMouseOver = _ref.onRowMouseOver,\n      onRowRightClick = _ref.onRowRightClick,\n      rowData = _ref.rowData,\n      style = _ref.style;\n  var a11yProps = {\n    'aria-rowindex': index + 1\n  };\n\n  if (onRowClick || onRowDoubleClick || onRowMouseOut || onRowMouseOver || onRowRightClick) {\n    a11yProps['aria-label'] = 'row';\n    a11yProps.tabIndex = 0;\n\n    if (onRowClick) {\n      a11yProps.onClick = function (event) {\n        return onRowClick({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowDoubleClick) {\n      a11yProps.onDoubleClick = function (event) {\n        return onRowDoubleClick({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowMouseOut) {\n      a11yProps.onMouseOut = function (event) {\n        return onRowMouseOut({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowMouseOver) {\n      a11yProps.onMouseOver = function (event) {\n        return onRowMouseOver({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n\n    if (onRowRightClick) {\n      a11yProps.onContextMenu = function (event) {\n        return onRowRightClick({\n          event: event,\n          index: index,\n          rowData: rowData\n        });\n      };\n    }\n  }\n\n  return React.createElement(\"div\", _extends({}, a11yProps, {\n    className: className,\n    key: key,\n    role: \"row\",\n    style: style\n  }), columns);\n}\ndefaultRowRenderer.propTypes = process.env.NODE_ENV === 'production' ? null : bpfrpt_proptype_RowRendererParams === PropTypes.any ? {} : bpfrpt_proptype_RowRendererParams;\nimport { bpfrpt_proptype_RowRendererParams } from \"./types\";\nimport PropTypes from \"prop-types\";","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport defaultHeaderRenderer from './defaultHeaderRenderer';\nimport defaultCellRenderer from './defaultCellRenderer';\nimport defaultCellDataGetter from './defaultCellDataGetter';\nimport SortDirection from './SortDirection';\n/**\n * Describes the header and cell contents of a table column.\n */\n\nvar Column =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Column, _React$Component);\n\n  function Column() {\n    _classCallCheck(this, Column);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Column).apply(this, arguments));\n  }\n\n  return Column;\n}(React.Component);\n\n_defineProperty(Column, \"defaultProps\", {\n  cellDataGetter: defaultCellDataGetter,\n  cellRenderer: defaultCellRenderer,\n  defaultSortDirection: SortDirection.ASC,\n  flexGrow: 0,\n  flexShrink: 1,\n  headerRenderer: defaultHeaderRenderer,\n  style: {}\n});\n\nexport { Column as default };\nColumn.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** Optional aria-label value to set on the column header */\n  'aria-label': PropTypes.string,\n\n  /**\n   * Callback responsible for returning a cell's data, given its :dataKey\n   * ({ columnData: any, dataKey: string, rowData: any }): any\n   */\n  cellDataGetter: PropTypes.func,\n\n  /**\n   * Callback responsible for rendering a cell's contents.\n   * ({ cellData: any, columnData: any, dataKey: string, rowData: any, rowIndex: number }): node\n   */\n  cellRenderer: PropTypes.func,\n\n  /** Optional CSS class to apply to cell */\n  className: PropTypes.string,\n\n  /** Optional additional data passed to this column's :cellDataGetter */\n  columnData: PropTypes.object,\n\n  /** Uniquely identifies the row-data attribute corresponding to this cell */\n  dataKey: PropTypes.any.isRequired,\n\n  /** Optional direction to be used when clicked the first time */\n  defaultSortDirection: PropTypes.oneOf([SortDirection.ASC, SortDirection.DESC]),\n\n  /** If sort is enabled for the table at large, disable it for this column */\n  disableSort: PropTypes.bool,\n\n  /** Flex grow style; defaults to 0 */\n  flexGrow: PropTypes.number,\n\n  /** Flex shrink style; defaults to 1 */\n  flexShrink: PropTypes.number,\n\n  /** Optional CSS class to apply to this column's header */\n  headerClassName: PropTypes.string,\n\n  /**\n   * Optional callback responsible for rendering a column header contents.\n   * ({ columnData: object, dataKey: string, disableSort: boolean, label: node, sortBy: string, sortDirection: string }): PropTypes.node\n   */\n  headerRenderer: PropTypes.func.isRequired,\n\n  /** Optional inline style to apply to this column's header */\n  headerStyle: PropTypes.object,\n\n  /** Optional id to set on the column header */\n  id: PropTypes.string,\n\n  /** Header label for this column */\n  label: PropTypes.node,\n\n  /** Maximum width of column; this property will only be used if :flexGrow is > 0. */\n  maxWidth: PropTypes.number,\n\n  /** Minimum width of column. */\n  minWidth: PropTypes.number,\n\n  /** Optional inline style to apply to cell */\n  style: PropTypes.object,\n\n  /** Flex basis (width) for this column; This value can grow or shrink based on :flexGrow and :flexShrink properties. */\n  width: PropTypes.number.isRequired\n} : {};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport clsx from 'clsx';\nimport Column from './Column';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport Grid, { accessibilityOverscanIndicesGetter } from '../Grid';\nimport defaultRowRenderer from './defaultRowRenderer';\nimport defaultHeaderRowRenderer from './defaultHeaderRowRenderer';\nimport SortDirection from './SortDirection';\n/**\n * Table component with fixed headers and virtualized rows for improved performance with large data sets.\n * This component expects explicit width, height, and padding parameters.\n */\n\nvar Table =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Table, _React$PureComponent);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n    _this.state = {\n      scrollbarWidth: 0\n    };\n    _this._createColumn = _this._createColumn.bind(_assertThisInitialized(_this));\n    _this._createRow = _this._createRow.bind(_assertThisInitialized(_this));\n    _this._onScroll = _this._onScroll.bind(_assertThisInitialized(_this));\n    _this._onSectionRendered = _this._onSectionRendered.bind(_assertThisInitialized(_this));\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"forceUpdateGrid\",\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: \"getOffsetForRow\",\n    value: function getOffsetForRow(_ref) {\n      var alignment = _ref.alignment,\n          index = _ref.index;\n\n      if (this.Grid) {\n        var _this$Grid$getOffsetF = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index\n        }),\n            scrollTop = _this$Grid$getOffsetF.scrollTop;\n\n        return scrollTop;\n      }\n\n      return 0;\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"invalidateCellSizeAfterRender\",\n    value: function invalidateCellSizeAfterRender(_ref2) {\n      var columnIndex = _ref2.columnIndex,\n          rowIndex = _ref2.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: \"measureAllRows\",\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: \"recomputeGridSize\",\n    value: function recomputeGridSize() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$columnIndex = _ref3.columnIndex,\n          columnIndex = _ref3$columnIndex === void 0 ? 0 : _ref3$columnIndex,\n          _ref3$rowIndex = _ref3.rowIndex,\n          rowIndex = _ref3$rowIndex === void 0 ? 0 : _ref3$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: \"recomputeRowHeights\",\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index\n        });\n      }\n    }\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: \"scrollToPosition\",\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({\n          scrollTop: scrollTop\n        });\n      }\n    }\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: \"scrollToRow\",\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: \"getScrollbarWidth\",\n    value: function getScrollbarWidth() {\n      if (this.Grid) {\n        var _Grid = findDOMNode(this.Grid);\n\n        var clientWidth = _Grid.clientWidth || 0;\n        var offsetWidth = _Grid.offsetWidth || 0;\n        return offsetWidth - clientWidth;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._setScrollbarWidth();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._setScrollbarWidth();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          className = _this$props.className,\n          disableHeader = _this$props.disableHeader,\n          gridClassName = _this$props.gridClassName,\n          gridStyle = _this$props.gridStyle,\n          headerHeight = _this$props.headerHeight,\n          headerRowRenderer = _this$props.headerRowRenderer,\n          height = _this$props.height,\n          id = _this$props.id,\n          noRowsRenderer = _this$props.noRowsRenderer,\n          rowClassName = _this$props.rowClassName,\n          rowStyle = _this$props.rowStyle,\n          scrollToIndex = _this$props.scrollToIndex,\n          style = _this$props.style,\n          width = _this$props.width;\n      var scrollbarWidth = this.state.scrollbarWidth;\n      var availableRowsHeight = disableHeader ? height : height - headerHeight;\n      var rowClass = typeof rowClassName === 'function' ? rowClassName({\n        index: -1\n      }) : rowClassName;\n      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({\n        index: -1\n      }) : rowStyle; // Precompute and cache column styles before rendering rows and columns to speed things up\n\n      this._cachedColumnStyles = [];\n      React.Children.toArray(children).forEach(function (column, index) {\n        var flexStyles = _this2._getFlexStyleForColumn(column, column.props.style);\n\n        _this2._cachedColumnStyles[index] = _objectSpread({\n          overflow: 'hidden'\n        }, flexStyles);\n      }); // Note that we specify :rowCount, :scrollbarWidth, :sortBy, and :sortDirection as properties on Grid even though these have nothing to do with Grid.\n      // This is done because Grid is a pure component and won't update unless its properties or state has changed.\n      // Any property that should trigger a re-render of Grid then is specified here to avoid a stale display.\n\n      return React.createElement(\"div\", {\n        \"aria-label\": this.props['aria-label'],\n        \"aria-labelledby\": this.props['aria-labelledby'],\n        \"aria-colcount\": React.Children.toArray(children).length,\n        \"aria-rowcount\": this.props.rowCount,\n        className: clsx('ReactVirtualized__Table', className),\n        id: id,\n        role: \"grid\",\n        style: style\n      }, !disableHeader && headerRowRenderer({\n        className: clsx('ReactVirtualized__Table__headerRow', rowClass),\n        columns: this._getHeaderColumns(),\n        style: _objectSpread({\n          height: headerHeight,\n          overflow: 'hidden',\n          paddingRight: scrollbarWidth,\n          width: width\n        }, rowStyleObject)\n      }), React.createElement(Grid, _extends({}, this.props, {\n        \"aria-readonly\": null,\n        autoContainerWidth: true,\n        className: clsx('ReactVirtualized__Table__Grid', gridClassName),\n        cellRenderer: this._createRow,\n        columnWidth: width,\n        columnCount: 1,\n        height: availableRowsHeight,\n        id: undefined,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        role: \"rowgroup\",\n        scrollbarWidth: scrollbarWidth,\n        scrollToRow: scrollToIndex,\n        style: _objectSpread({}, gridStyle, {\n          overflowX: 'hidden'\n        })\n      })));\n    }\n  }, {\n    key: \"_createColumn\",\n    value: function _createColumn(_ref4) {\n      var column = _ref4.column,\n          columnIndex = _ref4.columnIndex,\n          isScrolling = _ref4.isScrolling,\n          parent = _ref4.parent,\n          rowData = _ref4.rowData,\n          rowIndex = _ref4.rowIndex;\n      var onColumnClick = this.props.onColumnClick;\n      var _column$props = column.props,\n          cellDataGetter = _column$props.cellDataGetter,\n          cellRenderer = _column$props.cellRenderer,\n          className = _column$props.className,\n          columnData = _column$props.columnData,\n          dataKey = _column$props.dataKey,\n          id = _column$props.id;\n      var cellData = cellDataGetter({\n        columnData: columnData,\n        dataKey: dataKey,\n        rowData: rowData\n      });\n      var renderedCell = cellRenderer({\n        cellData: cellData,\n        columnData: columnData,\n        columnIndex: columnIndex,\n        dataKey: dataKey,\n        isScrolling: isScrolling,\n        parent: parent,\n        rowData: rowData,\n        rowIndex: rowIndex\n      });\n\n      var onClick = function onClick(event) {\n        onColumnClick && onColumnClick({\n          columnData: columnData,\n          dataKey: dataKey,\n          event: event\n        });\n      };\n\n      var style = this._cachedColumnStyles[columnIndex];\n      var title = typeof renderedCell === 'string' ? renderedCell : null; // Avoid using object-spread syntax with multiple objects here,\n      // Since it results in an extra method call to 'babel-runtime/helpers/extends'\n      // See PR https://github.com/bvaughn/react-virtualized/pull/942\n\n      return React.createElement(\"div\", {\n        \"aria-colindex\": columnIndex + 1,\n        \"aria-describedby\": id,\n        className: clsx('ReactVirtualized__Table__rowColumn', className),\n        key: 'Row' + rowIndex + '-' + 'Col' + columnIndex,\n        onClick: onClick,\n        role: \"gridcell\",\n        style: style,\n        title: title\n      }, renderedCell);\n    }\n  }, {\n    key: \"_createHeader\",\n    value: function _createHeader(_ref5) {\n      var column = _ref5.column,\n          index = _ref5.index;\n      var _this$props2 = this.props,\n          headerClassName = _this$props2.headerClassName,\n          headerStyle = _this$props2.headerStyle,\n          onHeaderClick = _this$props2.onHeaderClick,\n          sort = _this$props2.sort,\n          sortBy = _this$props2.sortBy,\n          sortDirection = _this$props2.sortDirection;\n      var _column$props2 = column.props,\n          columnData = _column$props2.columnData,\n          dataKey = _column$props2.dataKey,\n          defaultSortDirection = _column$props2.defaultSortDirection,\n          disableSort = _column$props2.disableSort,\n          headerRenderer = _column$props2.headerRenderer,\n          id = _column$props2.id,\n          label = _column$props2.label;\n      var sortEnabled = !disableSort && sort;\n      var classNames = clsx('ReactVirtualized__Table__headerColumn', headerClassName, column.props.headerClassName, {\n        ReactVirtualized__Table__sortableHeaderColumn: sortEnabled\n      });\n\n      var style = this._getFlexStyleForColumn(column, _objectSpread({}, headerStyle, {}, column.props.headerStyle));\n\n      var renderedHeader = headerRenderer({\n        columnData: columnData,\n        dataKey: dataKey,\n        disableSort: disableSort,\n        label: label,\n        sortBy: sortBy,\n        sortDirection: sortDirection\n      });\n      var headerOnClick, headerOnKeyDown, headerTabIndex, headerAriaSort, headerAriaLabel;\n\n      if (sortEnabled || onHeaderClick) {\n        // If this is a sortable header, clicking it should update the table data's sorting.\n        var isFirstTimeSort = sortBy !== dataKey; // If this is the firstTime sort of this column, use the column default sort order.\n        // Otherwise, invert the direction of the sort.\n\n        var newSortDirection = isFirstTimeSort ? defaultSortDirection : sortDirection === SortDirection.DESC ? SortDirection.ASC : SortDirection.DESC;\n\n        var onClick = function onClick(event) {\n          sortEnabled && sort({\n            defaultSortDirection: defaultSortDirection,\n            event: event,\n            sortBy: dataKey,\n            sortDirection: newSortDirection\n          });\n          onHeaderClick && onHeaderClick({\n            columnData: columnData,\n            dataKey: dataKey,\n            event: event\n          });\n        };\n\n        var onKeyDown = function onKeyDown(event) {\n          if (event.key === 'Enter' || event.key === ' ') {\n            onClick(event);\n          }\n        };\n\n        headerAriaLabel = column.props['aria-label'] || label || dataKey;\n        headerAriaSort = 'none';\n        headerTabIndex = 0;\n        headerOnClick = onClick;\n        headerOnKeyDown = onKeyDown;\n      }\n\n      if (sortBy === dataKey) {\n        headerAriaSort = sortDirection === SortDirection.ASC ? 'ascending' : 'descending';\n      } // Avoid using object-spread syntax with multiple objects here,\n      // Since it results in an extra method call to 'babel-runtime/helpers/extends'\n      // See PR https://github.com/bvaughn/react-virtualized/pull/942\n\n\n      return React.createElement(\"div\", {\n        \"aria-label\": headerAriaLabel,\n        \"aria-sort\": headerAriaSort,\n        className: classNames,\n        id: id,\n        key: 'Header-Col' + index,\n        onClick: headerOnClick,\n        onKeyDown: headerOnKeyDown,\n        role: \"columnheader\",\n        style: style,\n        tabIndex: headerTabIndex\n      }, renderedHeader);\n    }\n  }, {\n    key: \"_createRow\",\n    value: function _createRow(_ref6) {\n      var _this3 = this;\n\n      var index = _ref6.rowIndex,\n          isScrolling = _ref6.isScrolling,\n          key = _ref6.key,\n          parent = _ref6.parent,\n          style = _ref6.style;\n      var _this$props3 = this.props,\n          children = _this$props3.children,\n          onRowClick = _this$props3.onRowClick,\n          onRowDoubleClick = _this$props3.onRowDoubleClick,\n          onRowRightClick = _this$props3.onRowRightClick,\n          onRowMouseOver = _this$props3.onRowMouseOver,\n          onRowMouseOut = _this$props3.onRowMouseOut,\n          rowClassName = _this$props3.rowClassName,\n          rowGetter = _this$props3.rowGetter,\n          rowRenderer = _this$props3.rowRenderer,\n          rowStyle = _this$props3.rowStyle;\n      var scrollbarWidth = this.state.scrollbarWidth;\n      var rowClass = typeof rowClassName === 'function' ? rowClassName({\n        index: index\n      }) : rowClassName;\n      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({\n        index: index\n      }) : rowStyle;\n      var rowData = rowGetter({\n        index: index\n      });\n      var columns = React.Children.toArray(children).map(function (column, columnIndex) {\n        return _this3._createColumn({\n          column: column,\n          columnIndex: columnIndex,\n          isScrolling: isScrolling,\n          parent: parent,\n          rowData: rowData,\n          rowIndex: index,\n          scrollbarWidth: scrollbarWidth\n        });\n      });\n      var className = clsx('ReactVirtualized__Table__row', rowClass);\n\n      var flattenedStyle = _objectSpread({}, style, {\n        height: this._getRowHeight(index),\n        overflow: 'hidden',\n        paddingRight: scrollbarWidth\n      }, rowStyleObject);\n\n      return rowRenderer({\n        className: className,\n        columns: columns,\n        index: index,\n        isScrolling: isScrolling,\n        key: key,\n        onRowClick: onRowClick,\n        onRowDoubleClick: onRowDoubleClick,\n        onRowRightClick: onRowRightClick,\n        onRowMouseOver: onRowMouseOver,\n        onRowMouseOut: onRowMouseOut,\n        rowData: rowData,\n        style: flattenedStyle\n      });\n    }\n    /**\n     * Determines the flex-shrink, flex-grow, and width values for a cell (header or column).\n     */\n\n  }, {\n    key: \"_getFlexStyleForColumn\",\n    value: function _getFlexStyleForColumn(column) {\n      var customStyle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var flexValue = \"\".concat(column.props.flexGrow, \" \").concat(column.props.flexShrink, \" \").concat(column.props.width, \"px\");\n\n      var style = _objectSpread({}, customStyle, {\n        flex: flexValue,\n        msFlex: flexValue,\n        WebkitFlex: flexValue\n      });\n\n      if (column.props.maxWidth) {\n        style.maxWidth = column.props.maxWidth;\n      }\n\n      if (column.props.minWidth) {\n        style.minWidth = column.props.minWidth;\n      }\n\n      return style;\n    }\n  }, {\n    key: \"_getHeaderColumns\",\n    value: function _getHeaderColumns() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          disableHeader = _this$props4.disableHeader;\n      var items = disableHeader ? [] : React.Children.toArray(children);\n      return items.map(function (column, index) {\n        return _this4._createHeader({\n          column: column,\n          index: index\n        });\n      });\n    }\n  }, {\n    key: \"_getRowHeight\",\n    value: function _getRowHeight(rowIndex) {\n      var rowHeight = this.props.rowHeight;\n      return typeof rowHeight === 'function' ? rowHeight({\n        index: rowIndex\n      }) : rowHeight;\n    }\n  }, {\n    key: \"_onScroll\",\n    value: function _onScroll(_ref7) {\n      var clientHeight = _ref7.clientHeight,\n          scrollHeight = _ref7.scrollHeight,\n          scrollTop = _ref7.scrollTop;\n      var onScroll = this.props.onScroll;\n      onScroll({\n        clientHeight: clientHeight,\n        scrollHeight: scrollHeight,\n        scrollTop: scrollTop\n      });\n    }\n  }, {\n    key: \"_onSectionRendered\",\n    value: function _onSectionRendered(_ref8) {\n      var rowOverscanStartIndex = _ref8.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref8.rowOverscanStopIndex,\n          rowStartIndex = _ref8.rowStartIndex,\n          rowStopIndex = _ref8.rowStopIndex;\n      var onRowsRendered = this.props.onRowsRendered;\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    }\n  }, {\n    key: \"_setRef\",\n    value: function _setRef(ref) {\n      this.Grid = ref;\n    }\n  }, {\n    key: \"_setScrollbarWidth\",\n    value: function _setScrollbarWidth() {\n      var scrollbarWidth = this.getScrollbarWidth();\n      this.setState({\n        scrollbarWidth: scrollbarWidth\n      });\n    }\n  }]);\n\n  return Table;\n}(React.PureComponent);\n\n_defineProperty(Table, \"defaultProps\", {\n  disableHeader: false,\n  estimatedRowSize: 30,\n  headerHeight: 0,\n  headerStyle: {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {\n    return null;\n  },\n  onScroll: function onScroll() {\n    return null;\n  },\n  overscanIndicesGetter: accessibilityOverscanIndicesGetter,\n  overscanRowCount: 10,\n  rowRenderer: defaultRowRenderer,\n  headerRowRenderer: defaultHeaderRowRenderer,\n  rowStyle: {},\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n});\n\nexport { Table as default };\nTable.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** This is just set on the grid top element. */\n  'aria-label': PropTypes.string,\n\n  /** This is just set on the grid top element. */\n  'aria-labelledby': PropTypes.string,\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  autoHeight: PropTypes.bool,\n\n  /** One or more Columns describing the data displayed in this row */\n  children: function children(props) {\n    var children = React.Children.toArray(props.children);\n\n    for (var i = 0; i < children.length; i++) {\n      var childType = children[i].type;\n\n      if (childType !== Column && !(childType.prototype instanceof Column)) {\n        return new Error('Table only accepts children of type Column');\n      }\n    }\n  },\n\n  /** Optional CSS class name */\n  className: PropTypes.string,\n\n  /** Disable rendering the header at all */\n  disableHeader: PropTypes.bool,\n\n  /**\n   * Used to estimate the total height of a Table before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: PropTypes.number.isRequired,\n\n  /** Optional custom CSS class name to attach to inner Grid element. */\n  gridClassName: PropTypes.string,\n\n  /** Optional inline style to attach to inner Grid element. */\n  gridStyle: PropTypes.object,\n\n  /** Optional CSS class to apply to all column headers */\n  headerClassName: PropTypes.string,\n\n  /** Fixed height of header row */\n  headerHeight: PropTypes.number.isRequired,\n\n  /**\n   * Responsible for rendering a table row given an array of columns:\n   * Should implement the following interface: ({\n   *   className: string,\n   *   columns: any[],\n   *   style: any\n   * }): PropTypes.node\n   */\n  headerRowRenderer: PropTypes.func,\n\n  /** Optional custom inline style to attach to table header columns. */\n  headerStyle: PropTypes.object,\n\n  /** Fixed/available height for out DOM element */\n  height: PropTypes.number.isRequired,\n\n  /** Optional id */\n  id: PropTypes.string,\n\n  /** Optional renderer to be used in place of table body rows when rowCount is 0 */\n  noRowsRenderer: PropTypes.func,\n\n  /**\n   * Optional callback when a column is clicked.\n   * ({ columnData: any, dataKey: string }): void\n   */\n  onColumnClick: PropTypes.func,\n\n  /**\n   * Optional callback when a column's header is clicked.\n   * ({ columnData: any, dataKey: string }): void\n   */\n  onHeaderClick: PropTypes.func,\n\n  /**\n   * Callback invoked when a user clicks on a table row.\n   * ({ index: number }): void\n   */\n  onRowClick: PropTypes.func,\n\n  /**\n   * Callback invoked when a user double-clicks on a table row.\n   * ({ index: number }): void\n   */\n  onRowDoubleClick: PropTypes.func,\n\n  /**\n   * Callback invoked when the mouse leaves a table row.\n   * ({ index: number }): void\n   */\n  onRowMouseOut: PropTypes.func,\n\n  /**\n   * Callback invoked when a user moves the mouse over a table row.\n   * ({ index: number }): void\n   */\n  onRowMouseOver: PropTypes.func,\n\n  /**\n   * Callback invoked when a user right-clicks on a table row.\n   * ({ index: number }): void\n   */\n  onRowRightClick: PropTypes.func,\n\n  /**\n   * Callback invoked with information about the slice of rows that were just rendered.\n   * ({ startIndex, stopIndex }): void\n   */\n  onRowsRendered: PropTypes.func,\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   * ({ clientHeight, scrollHeight, scrollTop }): void\n   */\n  onScroll: PropTypes.func.isRequired,\n\n  /** See Grid#overscanIndicesGetter */\n  overscanIndicesGetter: PropTypes.func.isRequired,\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list.\n   * These rows can help for smoother scrolling on touch devices.\n   */\n  overscanRowCount: PropTypes.number.isRequired,\n\n  /**\n   * Optional CSS class to apply to all table rows (including the header row).\n   * This property can be a CSS class name (string) or a function that returns a class name.\n   * If a function is provided its signature should be: ({ index: number }): string\n   */\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Callback responsible for returning a data row given an index.\n   * ({ index: number }): any\n   */\n  rowGetter: PropTypes.func.isRequired,\n\n  /**\n   * Either a fixed row height (number) or a function that returns the height of a row given its index.\n   * ({ index: number }): number\n   */\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n\n  /** Number of rows in table. */\n  rowCount: PropTypes.number.isRequired,\n\n  /**\n   * Responsible for rendering a table row given an array of columns:\n   * Should implement the following interface: ({\n   *   className: string,\n   *   columns: Array,\n   *   index: number,\n   *   isScrolling: boolean,\n   *   onRowClick: ?Function,\n   *   onRowDoubleClick: ?Function,\n   *   onRowMouseOver: ?Function,\n   *   onRowMouseOut: ?Function,\n   *   rowData: any,\n   *   style: any\n   * }): PropTypes.node\n   */\n  rowRenderer: PropTypes.func,\n\n  /** Optional custom inline style to attach to table rows. */\n  rowStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired,\n\n  /** See Grid#scrollToAlignment */\n  scrollToAlignment: PropTypes.oneOf(['auto', 'end', 'start', 'center']).isRequired,\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToIndex: PropTypes.number.isRequired,\n\n  /** Vertical offset. */\n  scrollTop: PropTypes.number,\n\n  /**\n   * Sort function to be called if a sortable header is clicked.\n   * Should implement the following interface: ({\n   *   defaultSortDirection: 'ASC' | 'DESC',\n   *   event: MouseEvent,\n   *   sortBy: string,\n   *   sortDirection: SortDirection\n   * }): void\n   */\n  sort: PropTypes.func,\n\n  /** Table data is currently sorted by this :dataKey (if it is sorted at all) */\n  sortBy: PropTypes.string,\n\n  /** Table data is currently sorted in this direction (if it is sorted at all) */\n  sortDirection: PropTypes.oneOf([SortDirection.ASC, SortDirection.DESC]),\n\n  /** Optional inline style */\n  style: PropTypes.object,\n\n  /** Tab index for focus */\n  tabIndex: PropTypes.number,\n\n  /** Width of list */\n  width: PropTypes.number.isRequired\n} : {};\nimport { bpfrpt_proptype_CellPosition } from \"../Grid\";","/**\n * Default accessor for returning a cell value for a given attribute.\n * This function expects to operate on either a vanilla Object or an Immutable Map.\n * You should override the column's cellDataGetter if your data is some other type of object.\n */\nexport default function defaultCellDataGetter(_ref) {\n  var dataKey = _ref.dataKey,\n      rowData = _ref.rowData;\n\n  if (typeof rowData.get === 'function') {\n    return rowData.get(dataKey);\n  } else {\n    return rowData[dataKey];\n  }\n}\nimport { bpfrpt_proptype_CellDataGetterParams } from \"./types\";","/**\n * Default cell renderer that displays an attribute as a simple string\n * You should override the column's cellRenderer if your data is some other type of object.\n */\nexport default function defaultCellRenderer(_ref) {\n  var cellData = _ref.cellData;\n\n  if (cellData == null) {\n    return '';\n  } else {\n    return String(cellData);\n  }\n}\nimport { bpfrpt_proptype_CellRendererParams } from \"./types\";","import createMultiSort from './createMultiSort';\nimport defaultCellDataGetter from './defaultCellDataGetter';\nimport defaultCellRenderer from './defaultCellRenderer';\nimport defaultHeaderRowRenderer from './defaultHeaderRowRenderer.js';\nimport defaultHeaderRenderer from './defaultHeaderRenderer';\nimport defaultRowRenderer from './defaultRowRenderer';\nimport Column from './Column';\nimport SortDirection from './SortDirection';\nimport SortIndicator from './SortIndicator';\nimport Table from './Table';\nexport default Table;\nexport { createMultiSort, defaultCellDataGetter, defaultCellRenderer, defaultHeaderRowRenderer, defaultHeaderRenderer, defaultRowRenderer, Column, SortDirection, SortIndicator, Table };","import { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\n\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n\n    originalBodyPointerEvents = null;\n  }\n}\n\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\n\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\n\nfunction onScrollWindow(event) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\n\nexport function registerScrollListener(component, element) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component, element) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}\nimport { bpfrpt_proptype_WindowScroller } from \"../WindowScroller.js\";","/**\n * Gets the dimensions of the element, accounting for API differences between\n * `window` and other DOM elements.\n */\n// TODO Move this into WindowScroller and import from there\nvar isWindow = function isWindow(element) {\n  return element === window;\n};\n\nvar getBoundingBox = function getBoundingBox(element) {\n  return element.getBoundingClientRect();\n};\n\nexport function getDimensions(scrollElement, props) {\n  if (!scrollElement) {\n    return {\n      height: props.serverHeight,\n      width: props.serverWidth\n    };\n  } else if (isWindow(scrollElement)) {\n    var _window = window,\n        innerHeight = _window.innerHeight,\n        innerWidth = _window.innerWidth;\n    return {\n      height: typeof innerHeight === 'number' ? innerHeight : 0,\n      width: typeof innerWidth === 'number' ? innerWidth : 0\n    };\n  } else {\n    return getBoundingBox(scrollElement);\n  }\n}\n/**\n * Gets the vertical and horizontal position of an element within its scroll container.\n * Elements that have been “scrolled past” return negative values.\n * Handles edge-case where a user is navigating back (history) from an already-scrolled page.\n * In this case the body’s top or left position will be a negative number and this element’s top or left will be increased (by that amount).\n */\n\nexport function getPositionOffset(element, container) {\n  if (isWindow(container) && document.documentElement) {\n    var containerElement = document.documentElement;\n    var elementRect = getBoundingBox(element);\n    var containerRect = getBoundingBox(containerElement);\n    return {\n      top: elementRect.top - containerRect.top,\n      left: elementRect.left - containerRect.left\n    };\n  } else {\n    var scrollOffset = getScrollOffset(container);\n\n    var _elementRect = getBoundingBox(element);\n\n    var _containerRect = getBoundingBox(container);\n\n    return {\n      top: _elementRect.top + scrollOffset.top - _containerRect.top,\n      left: _elementRect.left + scrollOffset.left - _containerRect.left\n    };\n  }\n}\n/**\n * Gets the vertical and horizontal scroll amount of the element, accounting for IE compatibility\n * and API differences between `window` and other DOM elements.\n */\n\nexport function getScrollOffset(element) {\n  if (isWindow(element) && document.documentElement) {\n    return {\n      top: 'scrollY' in window ? window.scrollY : document.documentElement.scrollTop,\n      left: 'scrollX' in window ? window.scrollX : document.documentElement.scrollLeft\n    };\n  } else {\n    return {\n      top: element.scrollTop,\n      left: element.scrollLeft\n    };\n  }\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _class, _temp;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { registerScrollListener, unregisterScrollListener } from './utils/onScroll';\nimport { getDimensions, getPositionOffset, getScrollOffset } from './utils/dimensions';\nimport createDetectElementResize from '../vendor/detectElementResize';\n\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nexport var IS_SCROLLING_TIMEOUT = 150;\n\nvar getWindow = function getWindow() {\n  return typeof window !== 'undefined' ? window : undefined;\n};\n\nvar WindowScroller = (_temp = _class =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(WindowScroller, _React$PureComponent);\n\n  function WindowScroller() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, WindowScroller);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WindowScroller)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_window\", getWindow());\n\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionFromTop\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_positionFromLeft\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_detectElementResize\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_child\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _objectSpread({}, getDimensions(_this.props.scrollElement, _this.props), {\n      isScrolling: false,\n      scrollLeft: 0,\n      scrollTop: 0\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_registerChild\", function (element) {\n      if (element && !(element instanceof Element)) {\n        console.warn('WindowScroller registerChild expects to be passed Element or null');\n      }\n\n      _this._child = element;\n\n      _this.updatePosition();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onChildScroll\", function (_ref) {\n      var scrollTop = _ref.scrollTop;\n\n      if (_this.state.scrollTop === scrollTop) {\n        return;\n      }\n\n      var scrollElement = _this.props.scrollElement;\n\n      if (scrollElement) {\n        if (typeof scrollElement.scrollTo === 'function') {\n          scrollElement.scrollTo(0, scrollTop + _this._positionFromTop);\n        } else {\n          scrollElement.scrollTop = scrollTop + _this._positionFromTop;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_registerResizeListener\", function (element) {\n      if (element === window) {\n        window.addEventListener('resize', _this._onResize, false);\n      } else {\n        _this._detectElementResize.addResizeListener(element, _this._onResize);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_unregisterResizeListener\", function (element) {\n      if (element === window) {\n        window.removeEventListener('resize', _this._onResize, false);\n      } else if (element) {\n        _this._detectElementResize.removeResizeListener(element, _this._onResize);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onResize\", function () {\n      _this.updatePosition();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"__handleWindowScrollEvent\", function () {\n      if (!_this._isMounted) {\n        return;\n      }\n\n      var onScroll = _this.props.onScroll;\n      var scrollElement = _this.props.scrollElement;\n\n      if (scrollElement) {\n        var scrollOffset = getScrollOffset(scrollElement);\n        var scrollLeft = Math.max(0, scrollOffset.left - _this._positionFromLeft);\n        var scrollTop = Math.max(0, scrollOffset.top - _this._positionFromTop);\n\n        _this.setState({\n          isScrolling: true,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n\n        onScroll({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"__resetIsScrolling\", function () {\n      _this.setState({\n        isScrolling: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(WindowScroller, [{\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      var scrollElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.scrollElement;\n      var onResize = this.props.onResize;\n      var _this$state = this.state,\n          height = _this$state.height,\n          width = _this$state.width;\n      var thisNode = this._child || ReactDOM.findDOMNode(this);\n\n      if (thisNode instanceof Element && scrollElement) {\n        var offset = getPositionOffset(thisNode, scrollElement);\n        this._positionFromTop = offset.top;\n        this._positionFromLeft = offset.left;\n      }\n\n      var dimensions = getDimensions(scrollElement, this.props);\n\n      if (height !== dimensions.height || width !== dimensions.width) {\n        this.setState({\n          height: dimensions.height,\n          width: dimensions.width\n        });\n        onResize({\n          height: dimensions.height,\n          width: dimensions.width\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var scrollElement = this.props.scrollElement;\n      this._detectElementResize = createDetectElementResize();\n      this.updatePosition(scrollElement);\n\n      if (scrollElement) {\n        registerScrollListener(this, scrollElement);\n\n        this._registerResizeListener(scrollElement);\n      }\n\n      this._isMounted = true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var scrollElement = this.props.scrollElement;\n      var prevScrollElement = prevProps.scrollElement;\n\n      if (prevScrollElement !== scrollElement && prevScrollElement != null && scrollElement != null) {\n        this.updatePosition(scrollElement);\n        unregisterScrollListener(this, prevScrollElement);\n        registerScrollListener(this, scrollElement);\n\n        this._unregisterResizeListener(prevScrollElement);\n\n        this._registerResizeListener(scrollElement);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var scrollElement = this.props.scrollElement;\n\n      if (scrollElement) {\n        unregisterScrollListener(this, scrollElement);\n\n        this._unregisterResizeListener(scrollElement);\n      }\n\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var _this$state2 = this.state,\n          isScrolling = _this$state2.isScrolling,\n          scrollTop = _this$state2.scrollTop,\n          scrollLeft = _this$state2.scrollLeft,\n          height = _this$state2.height,\n          width = _this$state2.width;\n      return children({\n        onChildScroll: this._onChildScroll,\n        registerChild: this._registerChild,\n        height: height,\n        isScrolling: isScrolling,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        width: width\n      });\n    }\n  }]);\n\n  return WindowScroller;\n}(React.PureComponent), _defineProperty(_class, \"propTypes\", process.env.NODE_ENV === 'production' ? null : {\n  /**\n   * Function responsible for rendering children.\n   * This function should implement the following signature:\n   * ({ height, isScrolling, scrollLeft, scrollTop, width }) => PropTypes.element\n   */\n  \"children\": PropTypes.func.isRequired,\n\n  /** Callback to be invoked on-resize: ({ height, width }) */\n  \"onResize\": PropTypes.func.isRequired,\n\n  /** Callback to be invoked on-scroll: ({ scrollLeft, scrollTop }) */\n  \"onScroll\": PropTypes.func.isRequired,\n\n  /** Element to attach scroll event listeners. Defaults to window. */\n  \"scrollElement\": PropTypes.oneOfType([PropTypes.any, function () {\n    return (typeof Element === \"function\" ? PropTypes.instanceOf(Element) : PropTypes.any).apply(this, arguments);\n  }]),\n\n  /**\n   * Wait this amount of time after the last scroll event before resetting child `pointer-events`.\n   */\n  \"scrollingResetTimeInterval\": PropTypes.number.isRequired,\n\n  /** Height used for server-side rendering */\n  \"serverHeight\": PropTypes.number.isRequired,\n\n  /** Width used for server-side rendering */\n  \"serverWidth\": PropTypes.number.isRequired\n}), _temp);\n\n_defineProperty(WindowScroller, \"defaultProps\", {\n  onResize: function onResize() {},\n  onScroll: function onScroll() {},\n  scrollingResetTimeInterval: IS_SCROLLING_TIMEOUT,\n  scrollElement: getWindow(),\n  serverHeight: 0,\n  serverWidth: 0\n});\n\nexport { WindowScroller as default };\nimport PropTypes from \"prop-types\";","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isFunction, noop } from './utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"action\", void 0);\n\n    this.action = isFunction(action) ? action : noop;\n  }\n  /** Performs the task of cleaning up resources. */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value:\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    function isDisposable(d) {\n      return Boolean(d && isFunction(d.dispose));\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\n_defineProperty(Disposable, \"empty\", {\n  dispose: noop\n});\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"disposables\", void 0);\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"current\", void 0);\n  }\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value:\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\nimport { isPlainObject } from './utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nimport hoistStatics from 'hoist-non-react-statics';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    var _super = _createSuper(DragDropContainer);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"decoratedRef\", createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerId\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerMonitor\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerConnector\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handler\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"disposable\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"currentType\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      });\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return _jsx(DndContext.Consumer, {\n          children: function children(_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return _jsx(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }), void 0);\n          }\n        }, void 0);\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(Component);\n\n  _defineProperty(DragDropContainer, \"DecoratedComponent\", DecoratedComponent);\n\n  _defineProperty(DragDropContainer, \"displayName\", \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\"));\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from 'components/Icon';\n\nimport './SignatureIcon.scss';\n\nconst propTypes = {\n  badge: PropTypes.string,\n  size: PropTypes.string,\n};\n\nconst SignatureIcon = ({ badge, size = 'medium' }) => (\n  <div className=\"signature-icon\">\n    {badge && <Icon glyph={badge} className={`badge ${size}`} />}\n  </div>\n);\n\nSignatureIcon.propTypes = propTypes;\n\nexport default SignatureIcon;\n","import SignatureIcon from './SignatureIcon';\n\nexport default SignatureIcon;\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport core from 'core';\n\nimport Button from '../Button';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport OutlineContext from '../Outline/Context';\nimport './OutlineContent.scss';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  outlinePath: PropTypes.string,\n  isAdding: PropTypes.bool,\n  isOutlineRenaming: PropTypes.bool,\n  setOutlineRenaming: PropTypes.func,\n  isOutlineChangingDest: PropTypes.bool,\n  setOutlineChangingDest: PropTypes.func,\n  setIsHovered: PropTypes.func,\n  onCancel: PropTypes.func,\n  textColor: PropTypes.string,\n};\n\nconst OutlineContent = ({\n  text,\n  outlinePath,\n  isAdding,\n  isOutlineRenaming,\n  setOutlineRenaming,\n  isOutlineChangingDest,\n  setOutlineChangingDest,\n  setIsHovered,\n  onCancel,\n  textColor,\n}) => {\n  const {\n    currentDestPage,\n    currentDestText,\n    editingOutlines,\n    setEditingOutlines,\n    isMultiSelectMode,\n    isOutlineEditable,\n    addNewOutline,\n    renameOutline,\n    updateOutlineDest,\n    updateOutlines,\n    removeOutlines,\n  } = useContext(OutlineContext);\n\n  const [t] = useTranslation();\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n\n  const [isDefault, setIsDefault] = useState(false);\n  const [outlineText, setOutlineText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const inputRef = useRef();\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding) {\n        onAddOutline();\n      }\n      if (isOutlineRenaming && !isRenameButtonDisabled()) {\n        onRenameOutline();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelOutline();\n    }\n  };\n\n  const onAddOutline = () => {\n    addNewOutline(outlineText.trim() === '' ? '' : outlineText);\n  };\n\n  const onRenameOutline = () => {\n    setOutlineRenaming(false);\n    renameOutline(outlinePath, outlineText);\n  };\n\n  const onCancelOutline = () => {\n    updateOutlines();\n    if (isOutlineRenaming) {\n      setOutlineRenaming(false);\n      setOutlineText(text);\n    }\n    if (isOutlineChangingDest) {\n      setOutlineChangingDest(false);\n    }\n    if (isAdding) {\n      onCancel();\n    }\n  };\n\n  const isRenameButtonDisabled = () => {\n    return !outlineText || text === outlineText;\n  };\n\n  useEffect(() => {\n    if (outlineText !== text) {\n      setOutlineText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isOutlineRenaming) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    setIsDefault(!isAdding && !isOutlineRenaming && !isOutlineChangingDest);\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    const editingOutlinesClone = { ...editingOutlines };\n    const isOutlineEditing = isOutlineRenaming || isOutlineChangingDest;\n    if (isOutlineEditing) {\n      editingOutlinesClone[outlinePath] = (isOutlineEditing);\n    } else {\n      delete editingOutlinesClone[outlinePath];\n    }\n    setEditingOutlines({ ...editingOutlinesClone });\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    if (!isAdding) {\n      setIsHovered(isContextMenuOpen);\n    }\n  }, [isContextMenuOpen]);\n\n  const textStyle = {\n    color: textColor || 'auto'\n  };\n\n  return (\n    <div className=\"bookmark-outline-label-row\">\n      {isAdding &&\n        <div className=\"bookmark-outline-label\">\n          {t('component.newOutlineTitle')}\n        </div>\n      }\n\n      {isDefault &&\n        <>\n          <div\n            className=\"bookmark-outline-text outline-text\"\n            onDoubleClick={() => {\n              if (isOutlineEditable) {\n                setOutlineRenaming(true);\n              }\n            }}\n            style={textStyle}\n          >\n            {text}\n          </div>\n\n          {isOutlineEditable &&\n            <Button\n              className=\"bookmark-outline-more-button\"\n              dataElement={`outline-more-button-${outlinePath}`}\n              img=\"icon-tool-more\"\n              tabIndex={-1}\n              onClick={(e) => {\n                e.stopPropagation();\n                setContextMenuOpen(true);\n              }}\n            />\n          }\n          {isContextMenuOpen &&\n            <MoreOptionsContextMenuPopup\n              type={'outline'}\n              anchorButton={`outline-more-button-${outlinePath}`}\n              shouldDisplayDeleteButton={!isMultiSelectMode}\n              onClosePopup={() => setContextMenuOpen(false)}\n              onRenameClick={() => {\n                setContextMenuOpen(false);\n                setOutlineRenaming(true);\n              }}\n              onSetDestinationClick={() => {\n                setContextMenuOpen(false);\n                setOutlineChangingDest(true);\n                core.setToolMode(TOOL_NAME);\n              }}\n              onDeleteClick={() => {\n                setContextMenuOpen(false);\n                removeOutlines([outlinePath]);\n              }}\n            />\n          }\n        </>\n      }\n\n      {isOutlineChangingDest &&\n        <div\n          className=\"bookmark-outline-text outline-text\"\n          style={textStyle}\n        >\n          {text}\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming) &&\n        <input\n          type=\"text\"\n          name=\"outline\"\n          ref={inputRef}\n          className=\"bookmark-outline-input\"\n          placeholder={t('component.outlineTitle')}\n          aria-label={t('action.name')}\n          value={outlineText}\n          onKeyDown={handleKeyDown}\n          onChange={(e) => setOutlineText(e.target.value)}\n        />\n      }\n\n      {(isAdding || isOutlineChangingDest) &&\n        <div className=\"outline-destination\">\n          {t('component.destination')}: {t('component.bookmarkPage')} {currentDestPage},\n          <span style={{ fontStyle: 'italic' }}> “{currentDestText}”</span>\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming || isOutlineChangingDest) &&\n        <div className=\"bookmark-outline-editing-controls\">\n          <Button\n            className=\"bookmark-outline-cancel-button\"\n            label={t('action.cancel')}\n            onClick={onCancelOutline}\n          />\n          {isAdding &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.add')}\n              isSubmitType={true}\n              onClick={onAddOutline}\n            />\n          }\n          {isOutlineRenaming &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              disabled={isRenameButtonDisabled()}\n              onClick={onRenameOutline}\n            />\n          }\n          {isOutlineChangingDest &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              onClick={() => {\n                setOutlineChangingDest(false);\n                updateOutlineDest(outlinePath);\n              }}\n            />\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nOutlineContent.propTypes = propTypes;\n\nexport default OutlineContent;\n","import OutlineContent from './OutlineContent';\n\nexport default OutlineContent;\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es-x/no-string-prototype-endswith -- safe\nvar un$EndsWith = uncurryThis(''.endsWith);\nvar slice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = that.length;\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = toString(searchString);\n    return un$EndsWith\n      ? un$EndsWith(that, search, end)\n      : slice(that, end - search.length, end) === search;\n  }\n});\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./Spinner.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".SignaturePanel .spinner{margin:10px;border:5px solid #ddd;border-top-color:#aaa;border-radius:50%;width:40px;height:40px;-webkit-animation:spin 1.2s ease infinite;animation:spin 1.2s ease infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./SignatureIcon.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".signature-icon .badge{color:#fff}.signature-icon .medium{width:18px;height:18px}.signature-icon .small{width:16px;height:16px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./WidgetInfo.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".signature-widget-info{--widget-header-indent:49px;--widget-body-indent:22px;--arrow-width:22px;display:flex;flex-direction:column;font-size:13px;margin-bottom:10px;margin-left:5px}.signature-widget-info p+p{margin:1em 0 0}.signature-widget-info p.result-for-header{margin-top:0}.signature-widget-info p.bold{font-weight:700;margin-bottom:4px}.signature-widget-info p.underline{text-decoration:underline}.signature-widget-info .link{cursor:pointer;outline:none}.signature-widget-info .dropdown{outline:none}.signature-widget-info .dropdown:hover{cursor:pointer;background:var(--outline-hover);--border-radius-amount:4px;-moz-border-radius-topleft:var(--border-radius-amount);-moz-border-radius-topright:var(--border-radius-amount);-moz-border-radius-bottomright:var(--border-radius-amount);-moz-border-radius-bottomleft:var(--border-radius-amount);border-radius:var(--border-radius-amount)}.signature-widget-info .title{font-weight:700;display:flex;align-items:center;min-height:32px;margin-top:-5px;margin-bottom:-5px;overflow:hidden}.signature-widget-info .title div+*{margin-left:2px}.signature-widget-info .title .arrow{transition:transform .1s ease}.signature-widget-info .title .arrow.expanded{transform:rotate(90deg)}.signature-widget-info .title .arrow .Icon{width:var(--arrow-width);height:22px}.signature-widget-info .title .signature-icon{margin-right:5px}.signature-widget-info .header{margin-left:var(--widget-header-indent)}.signature-widget-info .header .body{margin-left:var(--widget-body-indent)}.signature-widget-info .header .body>div:first-child>p:first-child,.signature-widget-info .header .body>p:first-child{margin-top:.5em}.signature-widget-info .header .body>div:last-child{margin-bottom:.5em}.signature-widget-info .header-with-arrow{margin-left:calc(var(--widget-header-indent) - var(--arrow-width))}.signature-widget-info .header-with-arrow .body{margin-left:calc(var(--widget-body-indent) + var(--arrow-width))}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./SignaturePanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignaturePanel{z-index:65;transition:transform .3s ease,visibility 0s ease .3s}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignaturePanel{top:0;width:100%;height:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignaturePanel{top:0;width:100%;height:100%}}.open.SignaturePanel{transform:none;visibility:visible;transition:transform .3s ease,visibility 0s ease 0s}.SignaturePanel .empty-panel-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%;padding:36px;grid-gap:8px;gap:8px}.SignaturePanel .empty-panel-container .empty-icon{width:60px;height:60px;color:var(--gray-6);fill:var(--gray-6)}.SignaturePanel .empty-panel-container .empty-icon svg{width:60px;height:60px}.SignaturePanel .empty-panel-container .empty-message{text-align:center;max-width:131px;font-size:14px}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignaturePanel .empty-panel-container .empty-message{line-height:15px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignaturePanel .empty-panel-container .empty-message{line-height:15px}}.SignaturePanel{margin:0 8px 8px;display:flex;flex-direction:column}.SignaturePanel .center{flex-grow:1;display:flex;justify-content:center;align-items:center}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, constructor: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int8Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int8', function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8ClampedArray` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","import actions from 'actions';\n\nconst DEFAULT_REVOCATION_PROXY_PREFIX = 'https://proxy.pdftron.com';\n\n/**\n * Side-effect function that sets the verification status of the document.\n * One of three possible results can happen:\n *\n * 1. Valid: All signatures have been successfully verified\n * 2. Unknown: One or more signatures has issues, but the verification API\n * cannot definitively state the signatures are valid or invalid (i.e. a\n * required Public Key Certificate is missing)\n * 3. Invalid: The document has been digitally signed, but has one or more\n * invalid signatures (i.e. because the document was modified after it was\n * signed, and one or more signature field did not allow for this to occur)\n *\n * The above results are dictated by the return values of:\n *\n * PDFNet.VerificationResult.getDocumentStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getDocumentStatus__anchor\n *\n * PDFNet.VerificationResult.getTrustStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getTrustStatus__anchor\n *\n * PDFNet.VerificationResult.getDigestStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getDigestStatus__anchor\n *\n * PDFNet.VerificationResult.getPermissionsStatus:\n * https://docs.apryse.com/api/web/Core.PDFNet.VerificationResult.html#getPermissionsStatus__anchor\n *\n * Valid:\n * DocumentStatus.e_no_error && TrustStatus.e_trust_verified\n *\n * Unknown:\n * DocumentStatus.e_no_error\n * && (\n *  DigestStatus.e_digest_verified\n *  || DigestStatus.e_digest_verification_disabled\n * ) && trustStatus !== TrustStatus.e_no_trust_status\n * && (\n *   ModificationPermissionsStatus.e_unmodified\n *   || ModificationPermissionsStatus.e_has_allowed_changes\n *   || ModificationPermissionsStatus.e_permissions_verification_disabled\n * )\n *\n * Any other combinations will cause the signature field to be considered\n * Invalid.\n * @ignore\n */\nexport default async (doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix, dispatch) => {\n  const verificationResult = await getVerificationResult(doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix);\n  dispatch(actions.setVerificationResult(verificationResult));\n  return verificationResult;\n};\n\n/**\n * Iterates through each signature widget in the document, retrieves and returns\n * all pertinent information pertaining to Digital Signature Verification\n *\n * @param {Core.Document} doc The document with signatures to verify\n * with the given certificate\n * @param {Array<File | string>} certificates The certificate files to be used\n * for verification. Can be passed as a File object, or a URL in the form\n * of a string, in which a GET call will be made to retrieve the certificate\n * @param {\n *   Array<Blob | ArrayBuffer | Int8Array | Uint8Array | Uint8ClampedArray>\n * } trustLists The Trust Lists to load for verification.\n * @param {string} currentLanguage Current UI language\n * @param {boolean} revocationChecking Determines if the PDFNet API\n * VerificationOptions.enableOnlineCRLRevocationChecking is invoked to enable\n * Online Certification Revocation List (CRL) Revocation Checking is done\n * within the PDFNet logic\n * @param {string} revocationProxyPrefix The URL of a proxy server that should\n * be used to avoid CORS related issues when contacting Certificate Revocation\n * List (CRL) servers\n * @returns {object} An object mapping the field name of each signature widget\n * to their verification results\n * @ignore\n */\nconst getVerificationResult = async (doc, certificates, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix) => {\n  const { PDFNet } = window.Core;\n  const { VerificationResult } = PDFNet;\n  const {\n    TrustStatus,\n    DigestStatus,\n    ModificationPermissionsStatus,\n    DocumentStatus,\n  } = VerificationResult;\n  const verificationResults = {};\n\n\n  await PDFNet.runWithCleanup(async () => {\n    /**\n     * @todo Remove re-assignment of argument from original code?\n     */\n    doc = await doc.getPDFDoc();\n    const opts = await PDFNet.VerificationOptions.create(\n      PDFNet.VerificationOptions.SecurityLevel.e_compatibility_and_archiving\n    );\n\n    if (revocationChecking) {\n      await opts.enableOnlineCRLRevocationChecking(true);\n    }\n\n    if (revocationProxyPrefix === null) {\n      await opts.setRevocationProxyPrefix(DEFAULT_REVOCATION_PROXY_PREFIX);\n    } else if (revocationProxyPrefix !== undefined) {\n      await opts.setRevocationProxyPrefix(revocationProxyPrefix);\n    }\n\n    for (const certificate of certificates) {\n      if (typeof certificate === 'string') {\n        try {\n          await opts.addTrustedCertificateFromURL(certificate);\n        } catch {\n          console.error(\n            `Error encountered when trying to load certificate from URL: ${certificate}\\n`\n            + 'Certificate will not be used as part of verification process.'\n          );\n          continue;\n        }\n      } else if (\n        certificate instanceof File ||\n        Object.prototype.toString.call(certificate) === '[object File]'\n      ) {\n        const fileReader = new FileReader();\n        const arrayBufferPromise = new Promise((resolve, reject) => {\n          fileReader.addEventListener('load', async (e) => {\n            resolve(new Uint8Array(e.target.result));\n          });\n          fileReader.addEventListener('error', () => {\n            reject('Error reading the local certificate');\n          });\n\n          fileReader.readAsArrayBuffer(certificate);\n        });\n        try {\n          await opts.addTrustedCertificate(await arrayBufferPromise);\n        } catch (error) {\n          console.error(\n            `Error encountered when trying to load certificate: ${error}`\n            + 'Certificate will not be used as part of the verification process.'\n          );\n          continue;\n        }\n      } else if (\n        certificate instanceof ArrayBuffer\n        || certificate instanceof Int8Array\n        || certificate instanceof Uint8Array\n        || certificate instanceof Uint8ClampedArray\n      ) {\n        try {\n          await opts.addTrustedCertificate(certificate);\n        } catch (error) {\n          console.error(\n            `Error encountered when trying to load certificate: ${error}`\n            + 'Certificate will not be used as part of the verification process.'\n          );\n          continue;\n        }\n      }\n    }\n\n    for (const trustList of trustLists) {\n      const trustListDataStructure = trustList.constructor.name;\n      const supportedDataStructures = [\n        'ArrayBuffer',\n        'Int8Array',\n        'Uint8Array',\n        'Uint8ClampedArray',\n      ];\n      let fdfDocBuffer;\n      if (trustListDataStructure === 'Blob') {\n        fdfDocBuffer = await trustList.arrayBuffer();\n      } else if (supportedDataStructures.includes(trustListDataStructure)) {\n        fdfDocBuffer = trustList;\n      } else {\n        console.error(\n          'The provided TrustList is an unsupported data-structure. '\n          + 'Please ensure the TrustList is formatted as one of the following '\n          + `data-structures: ${[...supportedDataStructures, 'Blob'].join('|')}`\n        );\n        continue;\n      }\n      try {\n        const fdf = await PDFNet.FDFDoc.createFromMemoryBuffer(fdfDocBuffer);\n        await opts.loadTrustList(fdf);\n      } catch (error) {\n        console.error(\n          `Error encountered when trying to load certificate: ${error}. `\n          + 'Certificate will not be used as part of the verification process.'\n        );\n        continue;\n      }\n    }\n\n    const fieldIterator = await doc.getFieldIteratorBegin();\n    for (; (await fieldIterator.hasNext()); fieldIterator.next()) {\n      const field = await fieldIterator.current();\n      if (\n        !(await field.isValid())\n        || await field.getType() !== PDFNet.Field.Type.e_signature\n      ) {\n        continue;\n      }\n      const digitalSigField = await PDFNet.DigitalSignatureField.createFromField(field);\n      try {\n        const result = await digitalSigField.verify(opts);\n        const id = await (await digitalSigField.getSDFObj()).getObjNum();\n\n        let signer;\n        let signTime;\n        let documentPermission;\n        let isCertification;\n        let contactInfo;\n        let location;\n        let reason;\n        let validAtTimeOfSigning;\n        let signerName;\n        const issuerField = {};\n        const subjectField = {};\n\n        const signed = await digitalSigField.hasCryptographicSignature();\n        if (signed) {\n          const subFilter = await digitalSigField.getSubFilter();\n          if (subFilter === PDFNet.DigitalSignatureField.SubFilterType.e_adbe_pkcs7_detached) {\n            const signerCert = await digitalSigField.getSignerCertFromCMS();\n            /**\n             * @note \"Issuer\" refers to the Certificate Authority that issued the\n             * certificate\n             * \"Subject\" refers to the organization/person that the Certificate\n             * Auhority issued this certificate to\n             *\n             * It is likely that future UI iterations will leverage Issuer\n             * information, so the code has been commented out for now, but will\n             * be uncommented in future feature implementations\n             */\n            // const retrievedIssuerField = await signerCert.getIssuerField();\n            // const processedIssuerField = await processX501DistinguishedName(retrievedIssuerField) || {};\n            const retrievedSubjectField = await signerCert.getSubjectField();\n            const processedSubjectField = await processX501DistinguishedName(retrievedSubjectField) || {};\n            signer = processedSubjectField['e_commonName'];\n          }\n          // Getter functions cannot be called on Digital Signature fields using\n          // e_ETSI_RFC3161\n          if (subFilter !== PDFNet.DigitalSignatureField.SubFilterType.e_ETSI_RFC3161) {\n            if (!signer) {\n              signer = (\n                await digitalSigField.getSignatureName()\n                || await digitalSigField.getContactInfo()\n              );\n            }\n            signTime = await digitalSigField.getSigningTime();\n\n            if (await signTime.isValid()) {\n              signTime = formatPDFNetDate(signTime, currentLanguage);\n            } else {\n              signTime = null;\n            }\n\n            contactInfo = await digitalSigField.getContactInfo();\n            location = await digitalSigField.getLocation();\n            reason = await digitalSigField.getReason();\n          }\n\n          documentPermission = await digitalSigField.getDocumentPermissions();\n          isCertification = await digitalSigField.isCertification();\n        }\n\n        const verificationStatus = await result.getVerificationStatus();\n        const documentStatus = await result.getDocumentStatus();\n        const digestStatus = await result.getDigestStatus();\n        const trustStatus = await result.getTrustStatus();\n        const permissionStatus = await result.getPermissionsStatus();\n        const digestAlgorithm = await result.getDigestAlgorithm();\n        const disallowedChanges = await Promise.all(\n          (await result.getDisallowedChanges()).map(async (change) => ({\n            objnum: await change.getObjNum(),\n            type: await change.getTypeAsString(),\n          }))\n        );\n        const validSignerIdentity = trustStatus === TrustStatus.e_trust_verified;\n\n        let trustVerificationResultString;\n        let trustVerificationResultBoolean;\n        let timeOfTrustVerificationEnum;\n        let trustVerificationTime;\n        const hasTrustVerificationResult = await result.hasTrustVerificationResult();\n        if (hasTrustVerificationResult) {\n          const trustVerificationResult = await result.getTrustVerificationResult();\n\n          trustVerificationResultBoolean = await trustVerificationResult.wasSuccessful();\n          trustVerificationResultString = await trustVerificationResult.getResultString();\n          timeOfTrustVerificationEnum = await trustVerificationResult.getTimeOfTrustVerificationEnum();\n\n          const epochTrustVerificationTime = await trustVerificationResult.getTimeOfTrustVerification();\n          if (epochTrustVerificationTime) {\n            trustVerificationTime = formatDate(epochTrustVerificationTime, currentLanguage);\n          }\n          const certPath = await trustVerificationResult.getCertPath();\n          if (certPath.length) {\n            const firstX509Cert = certPath[0];\n            const retrievedIssuerField = await firstX509Cert.getIssuerField();\n            const processedIssuerField = await processX501DistinguishedName(retrievedIssuerField);\n            Object.assign(issuerField, processedIssuerField);\n            const retrievedSubjectField = await firstX509Cert.getSubjectField();\n            const processedSubjectField = await processX501DistinguishedName(retrievedSubjectField);\n            Object.assign(subjectField, processedSubjectField);\n            const lastX509Cert = certPath[certPath.length - 1];\n            /**\n             * @todo @colim @rdjericpdftron 2022-05-30\n             * Using the pdftron::PDF::VerificationOptions::LoadTrustList API\n             * in combination with\n             * pdftron::Crypto::X509Certificate::GetNotBeforeEpochTime\n             * or\n             * pdftron::Crypto::X509Certificate::GetNotAfterEpochTime\n             * Results in the following fatal error being thrown:\n             *\n             * calendar_point::to_std_timepoint() does not support years after\n             * 2037 on this system\n             *\n             * @rdjericpdftron Mentions that this should be addressed in a\n             * future release of PDFNet when the Botan library has been patched\n             */\n            try {\n              const notBeforeEpochTime = await lastX509Cert.getNotBeforeEpochTime();\n              const notAfterEpochTime = await lastX509Cert.getNotAfterEpochTime();\n              validAtTimeOfSigning = (\n                notAfterEpochTime >= epochTrustVerificationTime\n                && epochTrustVerificationTime >= notBeforeEpochTime\n              );\n            } catch (dateBugError) {\n              if (dateBugError.includes('calendar_point::to_std_timepoint() does not support years after')) {\n                console.warn(\n                  'The following error is a known issue with Botan, and aims to be addressed in a future release of '\n                  + 'PDFNet. This currently does not impact PDFTron\\'s Digital Signature Verification capabilities.'\n                );\n                console.warn(dateBugError);\n              }\n            }\n          }\n        }\n\n        let badgeIcon;\n        if (verificationStatus) {\n          badgeIcon = 'digital_signature_valid';\n        } else if (\n          documentStatus === DocumentStatus.e_no_error &&\n          (digestStatus === DigestStatus.e_digest_verified ||\n            digestStatus === DigestStatus.e_digest_verification_disabled) &&\n          trustStatus !== TrustStatus.e_no_trust_status &&\n          (permissionStatus === ModificationPermissionsStatus.e_unmodified ||\n            permissionStatus === ModificationPermissionsStatus.e_has_allowed_changes ||\n            permissionStatus === ModificationPermissionsStatus.e_permissions_verification_disabled)\n        ) {\n          badgeIcon = 'digital_signature_warning';\n        } else {\n          badgeIcon = 'digital_signature_error';\n        }\n\n        if (signer) {\n          signerName = signer;\n        } else if (!signer && subjectField.e_commonName) {\n          signerName = subjectField.e_commonName;\n        }\n        const fieldName = await field.getName();\n        verificationResults[fieldName] = {\n          signed,\n          signer,\n          signerName,\n          signTime,\n          verificationStatus,\n          documentStatus,\n          digestStatus,\n          trustStatus,\n          permissionStatus,\n          disallowedChanges,\n          trustVerificationResultBoolean,\n          trustVerificationResultString,\n          timeOfTrustVerificationEnum,\n          trustVerificationTime,\n          id,\n          badgeIcon,\n          validSignerIdentity,\n          digestAlgorithm,\n          documentPermission,\n          isCertification,\n          contactInfo,\n          location,\n          reason,\n          issuerField,\n          subjectField,\n          validAtTimeOfSigning,\n        };\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  });\n\n  return verificationResults;\n};\n\n/**\n * Retrieves the relevant information from the given object, containing date\n * information that originates from epoch time, and returns a string containing\n * the date and time information in a human readable string\n *\n * @param {object} date The date object that is returned from PDFNet\n * @returns {string} Human readable formatted date and time\n * @ignore\n */\nconst formatPDFNetDate = (date, currentLanguage) => {\n  const { year, month, day, hour, minute, second } = date;\n  const d = new Date(Date.UTC(year, month - 1, day, hour, minute, second));\n\n  return d.toLocaleDateString(currentLanguage.replace('_', '-'), {\n    year: 'numeric',\n    month: 'long',\n    weekday: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timeZoneName: 'short',\n  });\n};\n\n/**\n * Converts an epoch time input to date in string\n *\n * @param {number} epochTime The epoch time to be converted\n * @returns {string} The converted epoch time\n * @ignore\n */\nconst formatDate = (epochTime, currentLanguage) => {\n  const date = new Date(0);\n  // Values greater than 59 are converted into their parent values\n  // (i.e. seconds -> minutes -> hours -> day etc.)\n  date.setUTCSeconds(epochTime);\n\n  return date.toLocaleDateString(currentLanguage.replace('_', '-'), {\n    year: 'numeric',\n    month: 'long',\n    weekday: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timeZoneName: 'short',\n  });\n};\n\n/**\n * Processes an instance of the PDFNet.X501DistinguishedName class into a\n * Javascript object that is human readable\n *\n * Intended to process the objects returned from invoking\n * PDFNet.X509Certificate.GetIssuerField and\n * PDFNet.X509Certificate.GetSubjectField\n *\n * @param {PDFNet.X501DistinguishedName} x501DistinguishedNameObject An instance\n * of the PDFNet.X501DistinguishedName class, to be processed into a Javascript\n * object\n * @returns {object} Maps human readable keys (as opposed to the Botan Crpyto\n * OIDs, represented as Array<int> in PDFTron Core) to the corresponding values\n * they map to\n * @ignore\n */\nconst processX501DistinguishedName = async (x501DistinguishedNameObject) => {\n  const processedObject = {};\n  const allAttributeAndValues = await x501DistinguishedNameObject.getAllAttributesAndValues();\n  for (const x501AttributeTypeAndValue of allAttributeAndValues) {\n    const objectIdentifier = await x501AttributeTypeAndValue.getAttributeTypeOID();\n    const key = await objectIdentifier.getRawValue();\n    const value = await x501AttributeTypeAndValue.getStringValue();\n    processedObject[translateObjectIdentifierBotanOID(key)] = value;\n  }\n  return processedObject;\n};\n\n/**\n * Takes an Array<Number> argument (or its string representation from\n * JSON.stringify) and returns the enum it is supposed to represent based on\n * its OID representation in the Botan crypto C++ library\n *\n * PDFTron Core represents the key from the original Map<string, string>\n * data-structre in the form of an array\n *\n * @example The key of the object\n * { \"2.5.4.3\", \"X520.CommonName\" }\n * Is represented as [2,5,4,3] in PDFTron Core\n *\n * Source: https://botan.randombit.net/doxygen/oid__maps_8cpp_source.html\n *\n * @param {string | Array<Number>} objectIdentifierOIDenum The array returned\n * from the invocation of PDFNet.ObjectIdentifier.getRawValue, which can be\n * accepted as the Array input (which the body of the function will convert to a\n * string), or a string representation of the array\n * @returns {string} The human readable enum that the array represents\n * @ignore\n */\nconst translateObjectIdentifierBotanOID = (objectIdentifierOIDenum) => {\n  const botanArrayToEnum = {\n    '[2,5,4,3]': 'e_commonName',\n    '[2,5,4,4]': 'e_surname',\n    '[2,5,4,6]': 'e_countryName',\n    '[2,5,4,7]': 'e_localityName',\n    '[2,5,4,8]': 'e_stateOrProvinceName',\n    '[2,5,4,9]': 'e_streetAddress',\n    '[2,5,4,10]': 'e_organizationName',\n    '[2,5,4,11]': 'e_organizationalUnitName',\n    /**\n     * @note Added by @CorreyL, enum is not in PDFTronCore codebase as of\n     * PDFNetJS8.1\n     *\n     * Listed as { \"1.2.840.113549.1.9.1\", \"PKCS9.EmailAddress\" }\n     * in load_oid2str_map()\n     */\n    '[1,2,840,113549,1,9,1]': 'e_emailAddress',\n  };\n  const arrayAsString = (typeof objectIdentifierOIDenum === 'string')\n    ? objectIdentifierOIDenum\n    : JSON.stringify(objectIdentifierOIDenum);\n  return botanArrayToEnum[arrayAsString];\n};\n","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = () => <div className=\"spinner\" />;\n\nexport default Spinner;\n","import React, {\n  useEffect,\n  useState,\n} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport core from 'core';\nimport getRootNode from 'helpers/getRootNode';\n\nconst WidgetLocator = ({ rect }) => {\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    const scrollViewContainer = core.getScrollViewElement();\n    const handleScroll = () => {\n      setShow(false);\n    };\n\n    scrollViewContainer.addEventListener('scroll', handleScroll);\n    return () => scrollViewContainer.removeEventListener('scroll', handleScroll);\n  });\n\n  useEffect(() => {\n    if (rect) {\n      setTimeout(() => {\n        // so that the locator won't disappear because of the scroll\n        setShow(true);\n      }, 50);\n\n      setTimeout(() => {\n        setShow(false);\n      }, 700);\n    }\n  }, [rect]);\n\n  return (\n    show &&\n    ReactDOM.createPortal(\n      <div\n        style={{\n          position: 'absolute',\n          top: rect.y1,\n          left: rect.x1,\n          width: rect.x2 - rect.x1,\n          height: rect.y2 - rect.y1,\n          border: '1px solid #00a5e4',\n          zIndex: 100,\n        }}\n      />,\n      getRootNode().querySelector('#app')\n    )\n  );\n};\n\nexport default WidgetLocator;\n","import WidgetLocator from './WidgetLocator';\n\nexport default WidgetLocator;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport actions from 'actions';\nimport classNames from 'classnames';\nimport core from 'core';\nimport selectors from 'selectors';\n\nimport SignatureIcon from 'components/SignaturePanel/SignatureIcon';\nimport Icon from 'components/Icon';\nimport WidgetLocator from '../WidgetLocator';\n\nimport './WidgetInfo.scss';\n\nexport const renderPermissionStatus = ({\n  isCertification,\n  ModificationPermissionsStatus,\n  permissionStatus,\n  translate,\n}) => {\n  let content;\n\n  switch (permissionStatus) {\n    case ModificationPermissionsStatus.e_invalidated_by_disallowed_changes:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.invalidatedByDisallowedChanges'\n      );\n      break;\n    case ModificationPermissionsStatus.e_has_allowed_changes:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.hasAllowedChanges'\n      );\n      break;\n    case ModificationPermissionsStatus.e_unmodified:\n      content = `${\n        translate('digitalSignatureVerification.permissionStatus.unmodified')\n      } ${\n        isCertification\n          ? translate('digitalSignatureVerification.certified')\n          : translate('digitalSignatureVerification.signed')\n      }.`;\n      break;\n    case ModificationPermissionsStatus.e_permissions_verification_disabled:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.permissionsVerificationDisabled'\n      );\n      break;\n    case ModificationPermissionsStatus.e_no_permissions_status:\n      content = translate(\n        'digitalSignatureVerification.permissionStatus.noPermissionsStatus'\n      );\n      break;\n  }\n\n  return <p>{content}</p>;\n};\n\nconst propTypes = {\n  name: PropTypes.string.isRequired,\n  collapsible: PropTypes.bool.isRequired,\n  onClick: PropTypes.func,\n  field: PropTypes.instanceOf(window.Core.Annotations.Forms.Field),\n};\n\nconst WidgetInfo = ({ name, collapsible, field }) => {\n  const verificationResult = useSelector((state) => selectors.getVerificationResult(state, name));\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [locatorRect, setLocatorRect] = useState(null);\n  const [signatureDetailsExpanded, setSignatureDetailsExpanded] = useState(false);\n  const { VerificationResult, VerificationOptions } = window.Core.PDFNet;\n  const { TimeMode } = VerificationOptions;\n  const { ModificationPermissionsStatus } = VerificationResult;\n  const [translate] = useTranslation();\n\n  const {\n    signed,\n    signTime,\n    verificationStatus,\n    permissionStatus,\n    disallowedChanges,\n    trustVerificationResultBoolean,\n    timeOfTrustVerificationEnum,\n    trustVerificationTime,\n    badgeIcon,\n    isCertification,\n    contactInfo,\n    location,\n    reason,\n    signerName,\n  } = verificationResult;\n\n  const dispatch = useDispatch();\n\n  const handleArrowClick = (e) => {\n    e.stopPropagation();\n    setIsExpanded(!isExpanded);\n  };\n\n  /**\n   * Side-effect function that highlights the SignatureWidgetAnnotation\n   * pertaining to the text element that was clicked by using core code to find\n   * the coordinates of the widget on the page it is placed on\n   *\n   * @param {Annotations.Forms.Field} field The field pertaining\n   * to the text element clicked in the Signature Panel\n   */\n  const jumpToWidget = (field) => {\n    if (!field.widgets.length) {\n      return;\n    }\n    const widget = field.widgets[0];\n    core.jumpToAnnotation(widget);\n\n    const { scrollLeft, scrollTop } = core.getScrollViewElement();\n    const rect = widget.getRect();\n    const windowTopLeft = core\n      .getDisplayModeObject()\n      .pageToWindow({ x: rect.x1, y: rect.y1 }, widget.PageNumber);\n    const windowBottomRight = core\n      .getDisplayModeObject()\n      .pageToWindow({ x: rect.x2, y: rect.y2 }, widget.PageNumber);\n\n    setLocatorRect({\n      x1: windowTopLeft.x - scrollLeft,\n      y1: windowTopLeft.y - scrollTop,\n      x2: windowBottomRight.x - scrollLeft,\n      y2: windowBottomRight.y - scrollTop,\n    });\n  };\n\n  /**\n   * Function that invokes the necessary methods when a user interacts with\n   * the title of the widget\n   *\n   * @param {Event} event The event that is passed from an onClick or onKeyPress\n   * interaction\n   */\n  const titleInteraction = (event) => {\n    handleArrowClick(event);\n    jumpToWidget(field);\n  };\n\n  const renderTitle = () => {\n    let content = isCertification\n      ? translate('digitalSignatureVerification.Certified')\n      : translate('digitalSignatureVerification.Signed');\n    content += ` ${translate('digitalSignatureVerification.by')} ${signerName || translate('digitalSignatureModal.unknown')}`;\n    if (signTime) {\n      content += ` ${translate('digitalSignatureVerification.on')} ${signTime}`;\n    }\n    return (\n      <div\n        className=\"title dropdown\"\n        onClick={titleInteraction}\n        onKeyPress={titleInteraction}\n        role=\"button\"\n        tabIndex={0}\n      >\n        {collapsible && (\n          <div\n            className={classNames({\n              arrow: true,\n              expanded: isExpanded,\n            })}\n          >\n            <Icon glyph=\"ic_chevron_right_black_24px\" />\n          </div>\n        )}\n        <SignatureIcon badge={badgeIcon} size=\"small\"/>\n        <p>{content}</p>\n      </div>\n    );\n  };\n\n  const renderVerificationStatus = () => {\n    const verificationType = isCertification\n      ? translate('digitalSignatureVerification.Certification')\n      : translate('digitalSignatureVerification.Signature');\n    return (\n      <div className=\"title\">\n        <p>\n          {\n            verificationStatus\n              ? translate('digitalSignatureVerification.verificationStatus.valid', { verificationType })\n              : translate('digitalSignatureVerification.verificationStatus.failed', { verificationType })\n          }\n        </p>\n      </div>\n    );\n  };\n\n  const renderPermissionStatus = () => {\n    let content;\n\n    switch (permissionStatus) {\n      case ModificationPermissionsStatus.e_invalidated_by_disallowed_changes:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.invalidatedByDisallowedChanges'\n        );\n        break;\n      case ModificationPermissionsStatus.e_has_allowed_changes:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.hasAllowedChanges'\n        );\n        break;\n      case ModificationPermissionsStatus.e_unmodified:\n        content = `${\n          translate('digitalSignatureVerification.permissionStatus.unmodified')\n        } ${\n          isCertification\n            ? translate('digitalSignatureVerification.certified')\n            : translate('digitalSignatureVerification.signed')\n        }.`;\n        break;\n      case ModificationPermissionsStatus.e_permissions_verification_disabled:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.permissionsVerificationDisabled'\n        );\n        break;\n      case ModificationPermissionsStatus.e_no_permissions_status:\n        content = translate(\n          'digitalSignatureVerification.permissionStatus.noPermissionsStatus'\n        );\n        break;\n    }\n\n    return <p>{content}</p>;\n  };\n\n  const renderDisallowedChanges = () => {\n    return disallowedChanges.map(({ objnum, type }) => (\n      <p key={objnum}>\n        {\n          translate(\n            'digitalSignatureVerification.disallowedChange',\n            { type, objnum }\n          )\n        }\n      </p>\n    ));\n  };\n\n  const renderTrustVerification = () => {\n    let verificationTimeMessage;\n    switch (timeOfTrustVerificationEnum) {\n      case (TimeMode.e_current):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.current')\n        );\n        break;\n      case (TimeMode.e_signing):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.signing')\n        );\n        break;\n      case (TimeMode.e_timestamp):\n        verificationTimeMessage = (\n          translate('digitalSignatureVerification.trustVerification.timestamp')\n        );\n        break;\n      default:\n        console.warn(\n          `Unexpected pdftron::PDF::VerificationOptions::TimeMode: ${timeOfTrustVerificationEnum}`\n        );\n    }\n    return (\n      <div className=\"trust-verification-result\">\n        <p>\n          {\n            translate(\n              trustVerificationResultBoolean\n                ? 'digitalSignatureVerification.trustVerification.verifiedTrust'\n                : 'digitalSignatureVerification.trustVerification.noTrustVerification'\n            )\n          }\n        </p>\n        {\n          /**\n           * @todo Chat with @rastko when he is available to determine what\n           * content from `trustVerificationResultString` could potentially\n           * be important to show to users\n           *\n           * <div>\n           *   <p className='bold'>Trust verification result:</p>\n           *   {\n           *     trustVerificationResultString.split('\\n').map((line, idx) => {\n           *       return (\n           *         <p\n           *           key={`trustVerificationResultString-${idx}`}\n           *           className={line[0] === '\\t' ? '' : 'bold'}\n           *         >\n           *           {line}\n           *         </p>\n           *       );\n           *     })\n           *   }\n           * </div>\n           */\n        }\n        <p>{trustVerificationTime}</p>\n        <p>{verificationTimeMessage}</p>\n      </div>\n    );\n  };\n\n  const renderSignatureDetails = () => {\n    // No additional signature details to render\n    if (!contactInfo && !location && !reason) {\n      return null;\n    }\n    return (\n      <div>\n        <div\n          className=\"title dropdown\"\n          onClick={\n            () => setSignatureDetailsExpanded(!signatureDetailsExpanded)\n          }\n          onKeyPress={\n            () => setSignatureDetailsExpanded(!signatureDetailsExpanded)\n          }\n          role=\"button\"\n          tabIndex={0}\n        >\n          <div\n            className={classNames({\n              arrow: true,\n              expanded: signatureDetailsExpanded,\n            })}\n          >\n            <Icon glyph=\"ic_chevron_right_black_24px\" />\n          </div>\n          <p>\n            {\n              translate(\n                'digitalSignatureVerification.signatureDetails.signatureDetails'\n              )\n            }\n          </p>\n        </div>\n        {\n          signatureDetailsExpanded\n          && (\n            <div className=\"body\">\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.contactInformation')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    contactInfo\n                    || translate('digitalSignatureVerification.signatureDetails.noContactInformation')\n                  }\n                </p>\n              </div>\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.location')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    location\n                    || translate('digitalSignatureVerification.signatureDetails.noLocation')\n                  }\n                </p>\n              </div>\n              <div>\n                <p className=\"bold\">\n                  {\n                    `${translate('digitalSignatureVerification.signatureDetails.reason')}:`\n                  }\n                </p>\n                <p className=\"result-for-header\">\n                  {\n                    reason\n                    || translate('digitalSignatureVerification.signatureDetails.noReason')\n                  }\n                </p>\n              </div>\n              {\n                signTime && (\n                  <div>\n                    <p className=\"bold\">\n                      {\n                        `${translate('digitalSignatureVerification.signatureDetails.signingTime')}:`\n                      }\n                    </p>\n                    <p className=\"result-for-header\">\n                      {\n                        signTime\n                        || translate('digitalSignatureVerification.signatureDetails.noSigningTime')\n                      }\n                    </p>\n                  </div>\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    );\n  };\n\n  const openSignatureModal = () => {\n    dispatch(actions.setSignatureValidationModalWidgetName(name));\n    dispatch(actions.openElement('signatureValidationModal'));\n  };\n\n  /**\n   * Renders a link to open the signature modal\n   */\n  const renderSignaturePropertiesLink = () => {\n    return (\n      <div\n        onClick={openSignatureModal}\n        onKeyPress={openSignatureModal}\n        role=\"button\"\n        tabIndex={0}\n        className=\"link\"\n      >\n        <p className=\"bold underline\">{translate('digitalSignatureVerification.signatureProperties')}</p>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className=\"signature-widget-info\"\n    >\n      {signed ? (\n        <React.Fragment>\n          {renderTitle()}\n          {isExpanded && (\n            <div>\n              <div className=\"header\">\n                {\n                  renderVerificationStatus({\n                    isCertification,\n                    verificationStatus,\n                  })\n                }\n                <div className=\"body\">\n                  {\n                    renderPermissionStatus({\n                      isCertification,\n                      ModificationPermissionsStatus,\n                      permissionStatus,\n                      translate,\n                    })\n                  }\n                  {renderDisallowedChanges()}\n                  {renderTrustVerification()}\n                  {renderSignaturePropertiesLink()}\n                </div>\n              </div>\n              <div className=\"header header-with-arrow\">\n                {renderSignatureDetails()}\n              </div>\n            </div>\n          )}\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <div\n            className=\"title link\"\n            tabIndex={0}\n            onClick={() => jumpToWidget(field)}\n            onKeyPress={() => jumpToWidget(field)}\n          >\n            <SignatureIcon />\n            <p>{translate('digitalSignatureVerification.unsignedSignatureField', { fieldName: field.name })}</p>\n          </div>\n        </React.Fragment>\n      )}\n      <WidgetLocator rect={locatorRect} />\n    </div>\n  );\n};\n\nWidgetInfo.propTypes = propTypes;\n\nexport default WidgetInfo;\n","import WidgetInfo, { renderPermissionStatus } from './WidgetInfo';\n\nexport default WidgetInfo;\nexport {\n  renderPermissionStatus\n};\n","import React, { useCallback, useEffect, useState, } from 'react';\nimport { useDispatch, useSelector, } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport actions from 'actions';\nimport core from 'core';\nimport selectors from 'selectors';\nimport setVerificationResult from 'helpers/setVerificationResult';\n\nimport Spinner from './Spinner';\nimport WidgetInfo from './WidgetInfo';\n\nimport './SignaturePanel.scss';\nimport Icon from 'components/Icon';\nimport { panelData, panelNames } from 'constants/panel';\n\nconst SignaturePanel = () => {\n  const dispatch = useDispatch();\n  const [fields, setFields] = useState([]);\n  const [showSpinner, setShowSpinner] = useState(false);\n  const [certificateErrorMessage, setCertificateErrorMessage] = useState('');\n  const [document, setDocument] = useState(core.getDocument());\n  const [\n    isDisabled,\n    certificate,\n    trustLists,\n    currentLanguage,\n    revocationChecking,\n    revocationProxyPrefix,\n  ] = useSelector((state) => [\n    selectors.isElementDisabled(state, 'signaturePanel'),\n    selectors.getCertificates(state),\n    selectors.getTrustLists(state),\n    selectors.getCurrentLanguage(state),\n    selectors.getIsRevocationCheckingEnabled(state),\n    selectors.getRevocationProxyPrefix(state),\n  ]);\n  const [translate] = useTranslation();\n\n  const onDocumentLoaded = async () => {\n    setDocument(core.getDocument());\n  };\n\n  const onDocumentUnloaded = useCallback(() => {\n    setShowSpinner(true);\n    dispatch(actions.setVerificationResult({}));\n  }, [setShowSpinner, dispatch]);\n\n  const onAnnotationChanged = ((annotations, action) => {\n    const isInFormCreationMode = core.getAnnotationManager().getFormFieldCreationManager().isInFormFieldCreationMode();\n\n    if (action === 'add') {\n      addSignatureWidgetAnnotations(core.getAnnotationManager().getAnnotationsList());\n    } else if (action === 'delete' && isInFormCreationMode) {\n      removeAnnotations(annotations);\n    }\n  });\n\n  const addNonSignedFields = () => {\n    const currentAnnotations = core.getAnnotationManager().getAnnotationsList();\n    addSignatureWidgetAnnotations(currentAnnotations);\n  };\n\n  const addSignatureWidgetAnnotations = (annotations) => {\n    const currentFields = [];\n    annotations.forEach((annotation) => {\n      if (annotation instanceof window.Core.Annotations.SignatureWidgetAnnotation) {\n        currentFields.push(annotation.getField());\n      }\n    });\n    const newSet = new Set(currentFields);\n    setFields([...newSet]);\n  };\n\n  const removeAnnotations = (annotations) => {\n    annotations.forEach((annotation) => {\n      removeMatchingWidget(annotation);\n    });\n\n    addNonSignedFields();\n  };\n\n  const removeMatchingWidget = (annotation) => {\n    const annot = annotation;\n    const widgetFieldName = annot.getCustomData('trn-form-field-name');\n    const isRectanglePlaceholder = annotation instanceof window.Core.Annotations.RectangleAnnotation && widgetFieldName;\n    if (isRectanglePlaceholder) {\n      const annotationManager = core.getAnnotationManager();\n      const annotationList = annotationManager.getAnnotationsList();\n      const widgetToDelete = annotationList.filter((annotation) => {\n        return annotation.getCustomData('trn-editing-rectangle-id') === annot.Id;\n      });\n      annotationManager.deleteAnnotations(widgetToDelete);\n    }\n  };\n\n  const resetFields = () => {\n    setFields([]);\n    addNonSignedFields();\n  };\n\n  useEffect(() => {\n    // This ensures that when the document loads, the state of this component is\n    // updated accordingly\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('documentUnloaded', onDocumentUnloaded);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('formFieldCreationModeStarted', resetFields);\n    core.addEventListener('formFieldCreationModeEnded', resetFields);\n    return () => {\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('documentUnloaded', onDocumentUnloaded);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('formFieldCreationModeStarted', resetFields);\n      core.removeEventListener('formFieldCreationModeEnded', resetFields);\n    };\n  }, [onDocumentUnloaded]);\n\n  useEffect(() => {\n    // Need certificates for PDFNet to verify against, and for the document\n    // to be loaded in order to iterate through the signature fields in the\n    // document\n    if (document) {\n      // We need to wait for the annotationsLoaded event, otherwise the\n      // Field will not exist in the document\n      core.getAnnotationsLoadedPromise().then(() => {\n        setShowSpinner(true);\n        setVerificationResult(document, certificate, trustLists, currentLanguage, revocationChecking, revocationProxyPrefix, dispatch)\n          .then(async (verificationResult) => {\n            const fieldManager = core.getAnnotationManager().getFieldManager();\n            setFields(Object.keys(verificationResult).map((fieldName) => fieldManager.getField(fieldName)));\n            setCertificateErrorMessage('');\n          })\n          .catch((e) => {\n            if (e && e.message) {\n              setCertificateErrorMessage(e.message);\n            } else {\n              console.error(e);\n            }\n          })\n          .then(() => {\n            addNonSignedFields();\n          })\n          .finally(() => {\n            setShowSpinner(false);\n          });\n      });\n    } else {\n      setShowSpinner(true);\n    }\n  }, [certificate, document, dispatch, currentLanguage]);\n\n  if (isDisabled) {\n    return null;\n  }\n\n  /**\n   * Returns a JSX element if document loading is not complete, or an error\n   * occurs, otherwise nothing is returned, indicating that information about\n   * one or more signature will be returned from this component\n   */\n  const renderLoadingOrErrors = () => {\n    let result;\n    if (showSpinner) {\n      result = <Spinner />;\n    } else if (certificateErrorMessage === 'Error reading the local certificate') {\n      result = translate('digitalSignatureVerification.panelMessages.localCertificateError');\n    } else if (certificateErrorMessage === 'Download Failed') {\n      result = translate('digitalSignatureVerification.panelMessages.certificateDownloadError');\n    } else if (!fields.length) {\n      result = translate('digitalSignatureVerification.panelMessages.noSignatureFields');\n    } else {\n      /**\n       * If document has completed loading, there are no errors, and there are\n       * signature fields, this function does not need to return anything\n       */\n      return null;\n    }\n\n    return (\n      <div className=\"empty-panel-container\">\n        <Icon className=\"empty-icon\" glyph={panelData[panelNames.SIGNATURE].icon}/>\n        <div className=\"empty-message\">{result}</div>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className=\"Panel SignaturePanel\"\n      data-element=\"signaturePanel\"\n    >\n      {renderLoadingOrErrors()}\n      {\n        !showSpinner && fields.length > 0 && (\n          fields.map((field, index) => {\n            return (\n              <WidgetInfo\n                key={index}\n                name={field.name}\n                collapsible\n                field={field}\n              />\n            );\n          })\n        )\n      }\n    </div>\n  );\n};\n\nexport default SignaturePanel;\n","import SignaturePanel from './SignaturePanel';\nimport Spinner from './Spinner';\nimport { renderPermissionStatus } from './WidgetInfo';\n\nexport default SignaturePanel;\n\nexport {\n  renderPermissionStatus,\n  SignaturePanel,\n  Spinner\n};\n","export var ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));","// Used for MouseEvent.buttons (note the s on the end).\nvar MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nvar MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nexport function eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nexport function isTouchEvent(e) {\n  return !!e.targetTouches;\n}","import { isTouchEvent } from './predicates';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n}\nexport function getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}","var supportsPassive = function () {\n  // simular to jQuery's test\n  var supported = false;\n\n  try {\n    addEventListener('test', function () {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return true;\n      }\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n}();\n\nexport default supportsPassive;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader =\n/*#__PURE__*/\nfunction () {\n  function OptionsReader(incoming, context) {\n    var _this = this;\n\n    _classCallCheck(this, OptionsReader);\n\n    this.enableTouchEvents = true;\n    this.enableMouseEvents = false;\n    this.enableKeyboardEvents = false;\n    this.ignoreContextMenu = false;\n    this.enableHoverOutsideTarget = false;\n    this.touchSlop = 0;\n    this.scrollAngleRanges = undefined;\n    this.context = context;\n    this.delayTouchStart = incoming.delayTouchStart || incoming.delay || 0;\n    this.delayMouseStart = incoming.delayMouseStart || incoming.delay || 0;\n    Object.keys(incoming).forEach(function (key) {\n      if (incoming[key] != null) {\n        ;\n        _this[key] = incoming[key];\n      }\n    });\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.context && this.context.window) {\n        return this.context.window;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","var _eventNames;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { ListenerType } from './interfaces';\nimport { eventShouldStartDrag, eventShouldEndDrag, isTouchEvent } from './utils/predicates';\nimport { getEventClientOffset, getNodeClientOffset } from './utils/offsets';\nimport { distance, inAngleRanges } from './utils/math';\nimport supportsPassive from './utils/supportsPassive';\nimport { OptionsReader } from './OptionsReader';\nvar eventNames = (_eventNames = {}, _defineProperty(_eventNames, ListenerType.mouse, {\n  start: 'mousedown',\n  move: 'mousemove',\n  end: 'mouseup',\n  contextmenu: 'contextmenu'\n}), _defineProperty(_eventNames, ListenerType.touch, {\n  start: 'touchstart',\n  move: 'touchmove',\n  end: 'touchend'\n}), _defineProperty(_eventNames, ListenerType.keyboard, {\n  keydown: 'keydown'\n}), _eventNames);\n\nvar TouchBackend =\n/*#__PURE__*/\nfunction () {\n  function TouchBackend(manager, context, options) {\n    var _this = this;\n\n    _classCallCheck(this, TouchBackend);\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes[sourceId]);\n    };\n\n    this.handleTopMoveStartCapture = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      _this.moveStartSourceIds = [];\n    };\n\n    this.handleMoveStart = function (sourceId) {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(_this.moveStartSourceIds)) {\n        _this.moveStartSourceIds.unshift(sourceId);\n      }\n    };\n\n    this.handleTopMoveStart = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      var clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          _this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        _this._mouseClientOffset = clientOffset;\n      }\n\n      _this.waitingForDelay = false;\n    };\n\n    this.handleTopMoveStartDelay = function (e) {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      var delay = e.type === eventNames.touch.start ? _this.options.delayTouchStart : _this.options.delayMouseStart;\n      _this.timeout = setTimeout(_this.handleTopMoveStart.bind(_this, e), delay);\n      _this.waitingForDelay = true;\n    };\n\n    this.handleTopMoveCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleMove = function (_, targetId) {\n      if (_this.dragOverTargetIds) {\n        _this.dragOverTargetIds.unshift(targetId);\n      }\n    };\n\n    this.handleTopMove = function (e) {\n      if (_this.timeout) {\n        clearTimeout(_this.timeout);\n      }\n\n      if (!_this.document || _this.waitingForDelay) {\n        return;\n      }\n\n      var moveStartSourceIds = _this.moveStartSourceIds,\n          dragOverTargetIds = _this.dragOverTargetIds;\n      var enableHoverOutsideTarget = _this.options.enableHoverOutsideTarget;\n      var clientOffset = getEventClientOffset(e, _this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (_this._isScrolling || !_this.monitor.isDragging() && inAngleRanges(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, _this.options.scrollAngleRanges)) {\n        _this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!_this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      _this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(_this._mouseClientOffset.x || 0, _this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (_this.options.touchSlop ? _this.options.touchSlop : 0)) {\n        _this.moveStartSourceIds = undefined;\n\n        _this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: _this._mouseClientOffset,\n          getSourceClientOffset: _this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!_this.monitor.isDragging()) {\n        return;\n      }\n\n      var sourceNode = _this.sourceNodes[_this.monitor.getSourceId()];\n\n      _this.installSourceNodeRemovalObserver(sourceNode);\n\n      _this.actions.publishDragSource();\n\n      e.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      var dragOverTargetNodes = (dragOverTargetIds || []).map(function (key) {\n        return _this.targetNodes[key];\n      }); // Get the a ordered list of nodes that are touched by\n\n      var elementsAtPoint = _this.options.getDropTargetElementsAtPoint ? _this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : _this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      var elementsAtPointExtended = [];\n\n      for (var nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        var currentNode = elementsAtPoint[nodeId];\n        elementsAtPointExtended.push(currentNode);\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      var orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(function (node) {\n        return dragOverTargetNodes.indexOf(node) > -1;\n      }) // Map back the nodes elements to targetIds\n      .map(function (node) {\n        for (var targetId in _this.targetNodes) {\n          if (node === _this.targetNodes[targetId]) {\n            return targetId;\n          }\n        }\n\n        return undefined;\n      }) // Filter off possible null rows\n      .filter(function (node) {\n        return !!node;\n      }).filter(function (id, index, ids) {\n        return ids.indexOf(id) === index;\n      }); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (var targetId in _this.targetNodes) {\n          if (_this.targetNodes[targetId] && _this.targetNodes[targetId].contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n\n      _this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    };\n\n    this.handleTopMoveEndCapture = function (e) {\n      _this._isScrolling = false;\n      _this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!_this.monitor.isDragging() || _this.monitor.didDrop()) {\n        _this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      e.preventDefault();\n      _this._mouseClientOffset = {};\n\n      _this.uninstallSourceNodeRemovalObserver();\n\n      _this.actions.drop();\n\n      _this.actions.endDrag();\n    };\n\n    this.handleCancelOnEscape = function (e) {\n      if (e.key === 'Escape' && _this.monitor.isDragging()) {\n        _this._mouseClientOffset = {};\n\n        _this.uninstallSourceNodeRemovalObserver();\n\n        _this.actions.endDrag();\n      }\n    };\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = {};\n    this.sourcePreviewNodes = {};\n    this.sourcePreviewNodeOptions = {};\n    this.targetNodes = {};\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  } // public for test\n\n\n  _createClass(TouchBackend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (!this.window) {\n        return;\n      }\n\n      invariant(!TouchBackend.isSetUp, 'Cannot have two Touch backends at the same time.');\n      TouchBackend.isSetUp = true;\n      this.addEventListener(this.window, 'start', this.getTopMoveStartHandler());\n      this.addEventListener(this.window, 'start', this.handleTopMoveStartCapture, true);\n      this.addEventListener(this.window, 'move', this.handleTopMove);\n      this.addEventListener(this.window, 'move', this.handleTopMoveCapture, true);\n      this.addEventListener(this.window, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.addEventListener(this.window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.addEventListener(this.window, 'keydown', this.handleCancelOnEscape, true);\n      }\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (!this.window) {\n        return;\n      }\n\n      TouchBackend.isSetUp = false;\n      this._mouseClientOffset = {};\n      this.removeEventListener(this.window, 'start', this.handleTopMoveStartCapture, true);\n      this.removeEventListener(this.window, 'start', this.handleTopMoveStart);\n      this.removeEventListener(this.window, 'move', this.handleTopMoveCapture, true);\n      this.removeEventListener(this.window, 'move', this.handleTopMove);\n      this.removeEventListener(this.window, 'end', this.handleTopMoveEndCapture, true);\n\n      if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n        this.removeEventListener(this.window, 'contextmenu', this.handleTopMoveEndCapture);\n      }\n\n      if (this.options.enableKeyboardEvents) {\n        this.removeEventListener(this.window, 'keydown', this.handleCancelOnEscape, true);\n      }\n\n      this.uninstallSourceNodeRemovalObserver();\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.addEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(subject, event, handler, capture) {\n      var options = supportsPassive ? {\n        capture: capture,\n        passive: false\n      } : capture;\n      this.listenerTypes.forEach(function (listenerType) {\n        var evt = eventNames[listenerType][event];\n\n        if (evt) {\n          subject.removeEventListener(evt, handler, options);\n        }\n      });\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node) {\n      var _this2 = this;\n\n      var handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n      this.sourceNodes[sourceId] = node;\n      this.addEventListener(node, 'start', handleMoveStart);\n      return function () {\n        delete _this2.sourceNodes[sourceId];\n\n        _this2.removeEventListener(node, 'start', handleMoveStart);\n      };\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourcePreviewNodeOptions[sourceId] = options;\n      this.sourcePreviewNodes[sourceId] = node;\n      return function () {\n        delete _this3.sourcePreviewNodes[sourceId];\n        delete _this3.sourcePreviewNodeOptions[sourceId];\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      if (!this.document) {\n        return function () {\n          return null;\n        };\n      }\n\n      var handleMove = function handleMove(e) {\n        if (!_this4.document || !_this4.monitor.isDragging()) {\n          return;\n        }\n\n        var coords;\n        /**\n         * Grab the coordinates for the current mouse/touch position\n         */\n\n        switch (e.type) {\n          case eventNames.mouse.move:\n            coords = {\n              x: e.clientX,\n              y: e.clientY\n            };\n            break;\n\n          case eventNames.touch.move:\n            coords = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY\n            };\n            break;\n        }\n        /**\n         * Use the coordinates to grab the element the drag ended on.\n         * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n         */\n\n\n        var droppedOn = coords != null ? _this4.document.elementFromPoint(coords.x, coords.y) : undefined;\n        var childMatch = droppedOn && node.contains(droppedOn);\n\n        if (droppedOn === node || childMatch) {\n          return _this4.handleMove(e, targetId);\n        }\n      };\n      /**\n       * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n       */\n\n\n      this.addEventListener(this.document.body, 'move', handleMove);\n      this.targetNodes[targetId] = node;\n      return function () {\n        if (_this4.document) {\n          delete _this4.targetNodes[targetId];\n\n          _this4.removeEventListener(_this4.document.body, 'move', handleMove);\n        }\n      };\n    }\n  }, {\n    key: \"getTopMoveStartHandler\",\n    value: function getTopMoveStartHandler() {\n      if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n        return this.handleTopMoveStart;\n      }\n\n      return this.handleTopMoveStartDelay;\n    }\n  }, {\n    key: \"installSourceNodeRemovalObserver\",\n    value: function installSourceNodeRemovalObserver(node) {\n      var _this5 = this;\n\n      this.uninstallSourceNodeRemovalObserver();\n      this.draggedSourceNode = node;\n      this.draggedSourceNodeRemovalObserver = new MutationObserver(function () {\n        if (node && !node.parentElement) {\n          _this5.resurrectSourceNode();\n\n          _this5.uninstallSourceNodeRemovalObserver();\n        }\n      });\n\n      if (!node || !node.parentElement) {\n        return;\n      }\n\n      this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"resurrectSourceNode\",\n    value: function resurrectSourceNode() {\n      if (this.document && this.draggedSourceNode) {\n        this.draggedSourceNode.style.display = 'none';\n        this.draggedSourceNode.removeAttribute('data-reactid');\n        this.document.body.appendChild(this.draggedSourceNode);\n      }\n    }\n  }, {\n    key: \"uninstallSourceNodeRemovalObserver\",\n    value: function uninstallSourceNodeRemovalObserver() {\n      if (this.draggedSourceNodeRemovalObserver) {\n        this.draggedSourceNodeRemovalObserver.disconnect();\n      }\n\n      this.draggedSourceNodeRemovalObserver = undefined;\n      this.draggedSourceNode = undefined;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    } // public for test\n\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return TouchBackend;\n}();\n\nexport { TouchBackend as default };","export function distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nexport function inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (var i = 0; i < angleRanges.length; ++i) {\n    if ((angleRanges[i].start == null || angle >= angleRanges[i].start) && (angleRanges[i].end == null || angle <= angleRanges[i].end)) {\n      return true;\n    }\n  }\n\n  return false;\n}","import TouchBackend from './TouchBackend';\n\nvar createBackend = function createBackend(manager, context) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new TouchBackend(manager, context, options);\n};\n\nexport default createBackend;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Element.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OutlineControls{display:flex;justify-content:center;align-items:center;margin-left:var(--padding);margin-right:var(--padding);border-bottom:1px solid var(--border);padding-top:4px;padding-bottom:4px;color:var(--faded-text)}.OutlineControls .Button{height:30px;padding:0;width:30px;margin:0 4px}.OutlineControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.OutlineControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./MoreOptionsContextMenuPopup.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".more-options-context-menu-popup{padding-top:var(--padding-small);padding-bottom:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--document-box-shadow);border-radius:4px}.more-options-context-menu-popup .option-button{justify-content:flex-start;width:100%;padding:var(--padding-small) var(--padding-medium);border-radius:0}.more-options-context-menu-popup .option-button:not(:first-child){margin-top:var(--padding-small)}.more-options-context-menu-popup .option-button:hover{background-color:var(--tools-header-background)}.more-options-context-menu-popup .option-button .Icon{width:20px;height:auto;margin-right:10px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".outline-destination,.outline-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.outline-destination{flex-basis:100%;font-size:10px;color:var(--faded-text);margin-top:var(--padding-small)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Outline.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.outline-drag-container{border-radius:4px}.outline-drag-container.isNesting>.bookmark-outline-single-container{background-color:var(--popup-button-active);border-color:var(--focus-border)}.outline-treeview-toggle{flex-grow:0;flex-shrink:0;margin-right:var(--padding-small);min-width:14px;transition:transform .1s ease}.outline-treeview-toggle.expanded{transform:rotate(90deg)}.outline-treeview-toggle .Button{width:auto;height:auto}.outline-treeview-toggle .Button .Icon{width:14px;height:auto}.outline-drag-line{margin-left:var(--padding);margin-right:var(--padding);border-top:1px solid var(--focus-border);position:relative}.outline-drag-line:before{content:\\\"\\\";display:block;position:absolute;width:5px;height:5px;top:-3px;left:0;background-color:var(--focus-border);border-radius:50%}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bookmark-outline-panel{display:flex;padding-left:var(--padding);padding-right:var(--padding-small)}.bookmark-outline-control-button{width:auto}.bookmark-outline-control-button span{color:inherit}.bookmark-outline-control-button,.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{color:var(--secondary-button-text)}.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{opacity:.5}.bookmark-outline-control-button.disabled span,.bookmark-outline-control-button[disabled] span{color:inherit}.bookmark-outline-control-button:not(.disabled):active,.bookmark-outline-control-button:not(.disabled):focus,.bookmark-outline-control-button:not(.disabled):hover,.bookmark-outline-control-button:not([disabled]):active,.bookmark-outline-control-button:not([disabled]):focus,.bookmark-outline-control-button:not([disabled]):hover{color:var(--secondary-button-hover)}.bookmark-outline-panel-header{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;padding-bottom:var(--padding-tiny);border-bottom:1px solid var(--border)}.bookmark-outline-panel-header .header-title{font-size:16px}.bookmark-outline-row{flex-grow:1;overflow-y:auto}.msg-no-bookmark-outline{color:var(--placeholder-text);text-align:center}.bookmark-outline-single-container{display:flex;flex-flow:row nowrap;align-items:flex-start;border-radius:4px}.bookmark-outline-single-container.default{padding:var(--padding-small) var(--padding-tiny);border:1px solid transparent}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default:hover{cursor:pointer}.bookmark-outline-single-container.default.hover .bookmark-outline-more-button,.bookmark-outline-single-container.default:hover .bookmark-outline-more-button{display:flex}.bookmark-outline-single-container.default:hover{background-color:var(--outline-selected)}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default.selected{background-color:var(--popup-button-active)}.bookmark-outline-single-container.default .bookmark-outline-label-row{overflow:hidden}.bookmark-outline-single-container.editing{background-color:var(--faded-component-background);padding:var(--padding-medium) 20px}.bookmark-outline-single-container.preview{display:inline-flex;margin-top:0;padding:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--note-box-shadow)}.bookmark-outline-single-container .bookmark-outline-checkbox{flex-grow:0;flex-shrink:0;margin-top:1px;margin-bottom:0;margin-right:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-label-row{flex-grow:1;flex-shrink:1;display:flex;flex-flow:row wrap;align-items:flex-start;position:relative;overflow:hidden}.bookmark-outline-single-container .bookmark-outline-label{font-weight:600;flex-grow:1;flex-shrink:1;margin-bottom:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-input,.bookmark-outline-single-container .bookmark-outline-text{flex-grow:1;flex-shrink:1;flex-basis:calc(100% - 18px)}.bookmark-outline-single-container .bookmark-text-input{margin-left:var(--padding-large)}.bookmark-outline-single-container .bookmark-outline-input{color:var(--text-color);width:calc(100% - var(--padding-large));padding:var(--padding-small);border:1px solid var(--border)}.bookmark-outline-single-container .bookmark-outline-input:focus{border-color:var(--outline-color)}.bookmark-outline-single-container .bookmark-outline-input::-moz-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input:-ms-input-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input::placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-more-button{display:none;flex-grow:0;flex-shrink:0;width:auto;height:auto;margin-left:var(--padding-tiny);margin-right:0}.bookmark-outline-single-container .bookmark-outline-more-button .Icon{width:14px;height:14px}.bookmark-outline-single-container .bookmark-outline-editing-controls{flex-basis:100%;display:flex;flex-flow:row wrap;justify-content:flex-end;align-items:center;margin-top:var(--padding-medium)}.bookmark-outline-single-container .bookmark-outline-cancel-button,.bookmark-outline-single-container .bookmark-outline-save-button{width:auto;padding:6px var(--padding)}.bookmark-outline-single-container .bookmark-outline-cancel-button{color:var(--secondary-button-text)}.bookmark-outline-single-container .bookmark-outline-cancel-button:hover{color:var(--secondary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button{color:var(--primary-button-text);background-color:var(--primary-button);margin-left:var(--padding-tiny);border-radius:4px}.bookmark-outline-single-container .bookmark-outline-save-button:hover{background-color:var(--primary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button.disabled,.bookmark-outline-single-container .bookmark-outline-save-button:disabled{background-color:var(--primary-button)!important;opacity:.5}.bookmark-outline-footer{border-top:1.5px solid var(--border);padding-top:var(--padding-medium);padding-bottom:var(--padding-medium);display:flex;justify-content:center;align-items:center}.bookmark-outline-footer .add-new-button .Icon{width:14px;height:14px;margin-right:var(--padding-tiny);color:inherit;fill:currentColor}.bookmark-outline-footer .add-new-button.disabled .Icon.disabled,.bookmark-outline-footer .add-new-button.disabled .Icon.disabled path,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled path{color:inherit;fill:currentColor}.bookmark-outline-footer .multi-selection-button{width:auto;padding:7px}.bookmark-outline-footer .multi-selection-button .Icon{width:18px;height:18px}.bookmark-outline-footer .multi-selection-button:not(:first-child){margin-left:var(--padding-tiny)}.bookmark-outline-footer .multi-selection-button:hover{background-color:var(--view-header-button-hover)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./BookmarksPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.BookmarksPanel{display:flex;flex-direction:column;flex:1}.BookmarksPanel .bookmark-switch{-webkit-font-smoothing:antialiased;margin-top:var(--padding-medium);padding-left:4px}.BookmarksPanel .bookmark-switch label{font-size:11px}.BookmarksPanel .bookmark-outline-single-container{margin-top:var(--padding-medium)}.BookmarksPanel .msg-no-bookmark-outline{margin-top:var(--padding)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./FileAttachmentPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.fileAttachmentPanel{z-index:65;display:flex;flex-direction:column;transition:transform .3s ease,visibility 0s ease .3s}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .fileAttachmentPanel{top:0;width:100%;height:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .fileAttachmentPanel{top:0;width:100%;height:100%}}.open.fileAttachmentPanel{transform:none;visibility:visible;transition:transform .3s ease,visibility 0s ease 0s}.fileAttachmentPanel .empty-panel-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%;padding:36px;grid-gap:8px;gap:8px}.fileAttachmentPanel .empty-panel-container .empty-icon{width:60px;height:60px;color:var(--gray-6);fill:var(--gray-6)}.fileAttachmentPanel .empty-panel-container .empty-icon svg{width:60px;height:60px}.fileAttachmentPanel .empty-panel-container .empty-message{text-align:center;max-width:131px;font-size:14px}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .fileAttachmentPanel .empty-panel-container .empty-message{line-height:15px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .fileAttachmentPanel .empty-panel-container .empty-message{line-height:15px}}.fileAttachmentPanel{display:block}.fileAttachmentPanel .section{margin-bottom:10px}.fileAttachmentPanel .section p.title{margin-left:16px}.fileAttachmentPanel .section ul.downloadable>li{cursor:pointer;color:var(--secondary-button-text);width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.fileAttachmentPanel .section ul.downloadable .embedSpinner{display:flex;flex-direction:row;justify-content:space-between}.fileAttachmentPanel .section ul.downloadable .embedSpinner .spinner{margin:0}.fileAttachmentPanel .section ul ul{padding-left:10px;list-style-type:none}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnailControls-overlay{display:grid;text-align:center;z-index:2;margin-top:5px;grid-template-areas:\\\"rotate delete . more\\\";grid-template-columns:repeat(3,1fr)}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.thumbnailControls-overlay{display:flex}}.thumbnailControls-overlay .Button{height:32px;padding:0;width:32px}.thumbnailControls-overlay .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls-overlay .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnailControls-overlay .Button.active{background:var(--view-header-button-active)}.thumbnailControls-overlay .Button.active .Icon{color:var(--selected-icon-color)}.thumbnailControls-overlay .rotate-button{grid-area:rotate}.thumbnailControls-overlay .delete-button{grid-area:delete}.thumbnailControls-overlay .more-options{grid-area:more}.thumbnailControls-overlay.custom-buttons .Button{grid-area:auto}.thumbnailControls{display:flex;flex-direction:row;text-align:center;z-index:2;margin-top:5px}.thumbnailControls .Button{height:32px;padding:0;width:32px;margin:0 4px}.thumbnailControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Thumbnail.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Thumbnail{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer}.Thumbnail.active .container .page-image{border:2px solid var(--focus-border);box-shadow:none;box-sizing:content-box}.Thumbnail .container{position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer}.Thumbnail .container .page-image{box-shadow:0 0 3px 0 var(--box-shadow)}.Thumbnail .container .annotation-image,.Thumbnail .container .page-image{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.Thumbnail .container .checkbox{position:absolute;border-radius:4px;z-index:4}.Thumbnail .container .default{top:3%;right:15%}.Thumbnail .container .rotated{top:15%;right:3%}.Thumbnail .page-label{margin-top:11px}.Thumbnail.selected .container .thumbnail:before{color:#fff;background:var(--focus-border);width:16px;height:16px;position:absolute;z-index:10}.Thumbnail.selected .container canvas{background:hsla(0,0%,100%,.6)}.Thumbnail.active .page-label{color:var(--focus-border)!important}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControlsContainer .PageControlContainer{display:flex;background-color:var(--gray-2);justify-content:center;align-content:center;margin:0 8px 0 16px;border-radius:4px}.documentControlsContainer .PageControlContainer .dropdown-menu{position:relative}.documentControlsContainer .PageControlContainer .dropdown-menu .indicator{position:absolute;bottom:1px;right:1px;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #c4c4c4;transform:rotateY(0deg) rotate(315deg)}.documentControlsContainer .PageControlContainer button .Icon{height:21px;width:21px;color:var(--icon-color)}.documentControlsContainer .PageControlContainer .button-hover:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControlsContainer .PageControlContainer .divider{height:20px;width:1px;background:var(--divider);margin:6px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./DocumentControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControls{display:flex;flex-direction:column}.documentControls .divider{height:1px;background:var(--divider);margin:16px 8px 8px 16px}.documentControls .documentControlsInput{display:flex;flex-direction:row;padding:8px 8px 16px 16px}.documentControls .documentControlsInput .pagesInput{width:100%;height:30px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 8px}.documentControls .documentControlsInput .pagesInput:focus{outline:none;border:1px solid var(--focus-border)}.documentControls .documentControlsInput .pagesInput::-moz-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput:-ms-input-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput::placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .documentControlsButton{display:flex;flex-direction:row;padding-left:2px}.documentControls .documentControlsInput .documentControlsButton .Button{height:30px;padding:0;width:30px;margin:0 4px}.documentControls .documentControlsInput .documentControlsButton .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.documentControls .documentControlsInput .documentControlsButton .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailsPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnail-slider-container{display:flex;align-items:center;width:230px;margin:0 auto}.thumbnail-slider-container .thumbnail-slider{width:100%;height:20px;padding:0;color:transparent;background-color:transparent;border:0 transparent}.thumbnail-slider-container input[type=range]{-webkit-appearance:none;margin:10px 0;width:100%}.thumbnail-slider-container input[type=range]:focus{outline:none;box-shadow:0 0 5px var(--focus-border)}.thumbnail-slider-container input[type=range]::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-webkit-slider-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer;-webkit-appearance:none;margin-top:-5px}.thumbnail-slider-container input[type=range]:focus::-webkit-slider-runnable-track{background:var(--slider-filled)}.thumbnail-slider-container input[type=range]::-moz-range-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-moz-range-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]::-ms-track{padding:5px 0 0;width:100%;height:3px;background:transparent;border-color:transparent;color:transparent;cursor:pointer;border-width:6px 0;animate:.2s}.thumbnail-slider-container input[type=range]::-ms-fill-lower,.thumbnail-slider-container input[type=range]::-ms-fill-upper{background:var(--slider-filled);border:0 solid #000;border-radius:10px;box-shadow:0 0 0 #000}.thumbnail-slider-container input[type=range]::-ms-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50%;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]:focus::-ms-fill-lower,.thumbnail-slider-container input[type=range]:focus::-ms-fill-upper{background:var(--slider-filled)}.thumbnail-slider-container Button{width:15px;height:15px;margin:2.5px;padding-top:6px}.thumbnail-slider-container Button:hover{background:var(--view-header-button-hover);border-radius:4px}.ThumbnailsPanel{overflow:hidden!important;display:flex;height:100%}.ThumbnailsPanel #virtualized-thumbnails-container{flex:1}.ThumbnailsPanel .row{display:flex;justify-content:space-around;align-items:center;flex-direction:column}.ThumbnailsPanel .thumbnailPlaceholder{width:150px;margin:2px;border:1px solid var(--focus-border)}.ThumbnailsPanel .columnsOfThumbnails.row{display:flex;justify-content:left;align-items:center;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .cellThumbContainer{display:flex;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .Thumbnail{display:inline-flex}.ThumbnailsPanel .columnsOfThumbnails .thumbnailPlaceholder{width:116px;min-width:116px;height:150px;margin-bottom:30px}.thumbnailAutoScrollArea{position:absolute;width:calc(100% - 55px);z-index:10;background:hsla(0,0%,100%,0)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport selectors from 'selectors';\n\nimport './Element.scss';\n\nclass Element extends React.PureComponent {\n  static propTypes = {\n    isDisabled: PropTypes.bool,\n    className: PropTypes.string.isRequired,\n    dataElement: PropTypes.string.isRequired,\n    children: PropTypes.node,\n  }\n\n  render() {\n    const { isDisabled, className, dataElement, children } = this.props;\n\n    if (isDisabled) {\n      return null;\n    }\n\n    return (\n      <div className={className} data-element={dataElement}>\n        {children}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  isDisabled: selectors.isElementDisabled(state, ownProps.dataElement),\n});\n\nexport default connect(mapStateToProps)(Element);","import Element from './Element';\n\nexport default Element;","import React, { useContext, useState, useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport OutlineContext from 'components/Outline/Context';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport selectors from 'selectors';\n\nimport './OutlineControls.scss';\nimport DataElements from 'src/constants/dataElement';\n\nconst OutlineControls = () => {\n  const outlines = useSelector((state) => selectors.getOutlines(state));\n  const {\n    activeOutlinePath,\n    setActiveOutlinePath,\n    updateOutlines\n  } = useContext(OutlineContext);\n  const [canMove, setCanMove] = useState({ up: false, down: false, outward: false, inward: false });\n  const nextIndexRef = useRef(null);\n  const [t] = useTranslation();\n\n  useEffect(() => {\n    if (!core.isFullPDFEnabled()) {\n      return;\n    }\n\n    const setCanMoveState = async () => {\n      setCanMove(await outlineUtils.getCanMoveState(activeOutlinePath));\n    };\n\n    setCanMoveState();\n  }, [activeOutlinePath]);\n\n  useEffect(() => {\n    if (nextIndexRef.current !== null) {\n      setActiveOutlinePath(nextIndexRef.current);\n      nextIndexRef.current = null;\n    }\n  }, [outlines, setActiveOutlinePath]);\n\n  const moveOutlineUp = async () => {\n    const nextIndex = await outlineUtils.moveOutlineUp(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineDown = async () => {\n    const nextIndex = await outlineUtils.moveOutlineDown(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineOutward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineOutward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineInward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineInward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  return (\n    <DataElementWrapper\n      className=\"OutlineControls\"\n      dataElement={DataElements.OUTLINE_CONTROLS}\n    >\n      <span className=\"reorderText\">\n        {t('option.bookmarkOutlineControls.reorder')}\n      </span>\n      <Button\n        img=\"icon-arrow-up\"\n        disabled={!canMove.up}\n        onClick={moveOutlineUp}\n        dataElement={DataElements.OUTLINE_MOVE_UP_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-down\"\n        disabled={!canMove.down}\n        onClick={moveOutlineDown}\n        dataElement={DataElements.OUTLINE_MOVE_DOWN_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-left\"\n        disabled={!canMove.outward}\n        onClick={moveOutlineOutward}\n        dataElement={DataElements.OUTLINE_MOVE_OUTWARD_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-right\"\n        disabled={!canMove.inward}\n        onClick={moveOutlineInward}\n        dataElement={DataElements.OUTLINE_MOVE_INWARD_BUTTON}\n      />\n    </DataElementWrapper>\n  );\n};\n\nexport default OutlineControls;\n","import OutlineControls from './OutlineControls';\n\nexport default OutlineControls;","import React, { useState, useCallback, useContext, useEffect, useLayoutEffect, forwardRef, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { ItemTypes, DropLocation, BUFFER_ROOM } from 'constants/dnd';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport Events from 'constants/events';\nimport fireEvent from 'helpers/fireEvent';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport { isMobile, isIE } from 'helpers/device';\nimport OutlineContext from './Context';\nimport OutlineContent from 'src/components/OutlineContent';\nimport DataElementWrapper from '../DataElementWrapper';\nimport Choice from '../Choice';\nimport Button from '../Button';\n\nimport './Outline.scss';\n\nconst propTypes = {\n  outline: PropTypes.object.isRequired,\n  setMultiSelected: PropTypes.func,\n  moveOutlineInward: PropTypes.func.isRequired,\n  moveOutlineBeforeTarget: PropTypes.func.isRequired,\n  moveOutlineAfterTarget: PropTypes.func.isRequired,\n  connectDragSource: PropTypes.func,\n  connectDragPreview: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  isDragging: PropTypes.bool,\n  isDraggedUpwards: PropTypes.bool,\n  isDraggedDownwards: PropTypes.bool,\n};\n\nconst Outline = forwardRef(\n  function Outline(\n    {\n      outline,\n      setMultiSelected,\n      isDragging,\n      isDraggedUpwards,\n      isDraggedDownwards,\n      connectDragSource,\n      connectDragPreview,\n      connectDropTarget,\n      moveOutlineInward,\n      moveOutlineBeforeTarget,\n      moveOutlineAfterTarget\n    },\n    ref\n  ) {\n    const outlines = useSelector((state) => selectors.getOutlines(state));\n    const {\n      setActiveOutlinePath,\n      activeOutlinePath,\n      isOutlineActive,\n      setAddingNewOutline,\n      isAddingNewOutline,\n      isAnyOutlineRenaming,\n      isMultiSelectMode,\n      shouldAutoExpandOutlines,\n      isOutlineEditable,\n      selectedOutlines,\n      updateOutlines,\n    } = useContext(OutlineContext);\n\n    const outlinePath = outlineUtils.getPath(outline);\n\n    const [isExpanded, setIsExpanded] = useState(shouldAutoExpandOutlines);\n    const [isSelected, setIsSelected] = useState(selectedOutlines.includes(outlinePath));\n    const [isRenaming, setIsRenaming] = useState(false);\n    const [isChangingDest, setChangingDest] = useState(false);\n    const [isHovered, setHovered] = useState(false); // when the popup menu is open, the container will have a background\n    const [clearSingleClick, setClearSingleClick] = useState(undefined);\n\n    const dispatch = useDispatch();\n\n    const elementRef = useRef(null);\n    connectDragSource(elementRef);\n    connectDragPreview(getEmptyImage(), { captureDraggingState: true });\n    connectDropTarget(elementRef);\n    const opacity = isDragging ? 0.5 : 1;\n    useImperativeHandle(ref, () => ({\n      getNode: () => elementRef.current,\n    }));\n\n    useEffect(() => {\n      const shouldExpandOutline =\n        activeOutlinePath !== null\n        && activeOutlinePath !== outlinePath\n        && activeOutlinePath.startsWith(outlinePath);\n      if (shouldExpandOutline) {\n        setIsExpanded(true);\n      }\n    }, [activeOutlinePath, isAddingNewOutline, outline]);\n\n    useLayoutEffect(() => {\n      setIsExpanded(shouldAutoExpandOutlines);\n    }, [shouldAutoExpandOutlines]);\n\n    useLayoutEffect(() => {\n      setIsRenaming(false);\n      setChangingDest(false);\n    }, [outlines]);\n\n    useEffect(() => {\n      setIsSelected(selectedOutlines.includes(outlinePath));\n    }, [selectedOutlines]);\n\n    const toggleOutline = useCallback(() => {\n      setIsExpanded((expand) => !expand);\n    }, []);\n\n    const onSingleClick = useCallback(() => {\n      core.goToOutline(outline);\n\n      outlinePath === activeOutlinePath\n        ? setActiveOutlinePath(null)\n        : setActiveOutlinePath(outlinePath);\n\n\n      if (isAddingNewOutline) {\n        setAddingNewOutline(false);\n        updateOutlines();\n      }\n\n      if (isMobile()) {\n        dispatch(actions.closeElement('leftPanel'));\n      }\n    }, [dispatch, setActiveOutlinePath, activeOutlinePath, isAddingNewOutline, outline]);\n\n    const isActive = isOutlineActive(outline);\n\n    const convertRgbObjectToRgbString = (rgbObject) => {\n      const rValue = rgbObject['r'] * 255;\n      const gValue = rgbObject['g'] * 255;\n      const bValue = rgbObject['b'] * 255;\n      return `rgb(${rValue}, ${gValue}, ${bValue})`;\n    };\n\n    return (\n      <div\n        ref={(!isAddingNewOutline && !isAnyOutlineRenaming && isMultiSelectMode && isOutlineEditable) ? elementRef : null}\n        className=\"outline-drag-container\"\n        style={{ opacity }}\n      >\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedUpwards ? 1 : 0 }} />\n        <DataElementWrapper\n          className={classNames({\n            'bookmark-outline-single-container': true,\n            'editing': isRenaming || isChangingDest,\n            'default': !isRenaming && !isChangingDest,\n            'selected': isActive,\n            'hover': isHovered && !isActive,\n          })}\n          tabIndex={0}\n          onKeyDown={(e) => e.key === 'Enter' && onSingleClick()}\n          onClick={(e) => {\n            if (!isRenaming && !isChangingDest && e.detail === 1) {\n              setClearSingleClick(setTimeout(onSingleClick, 300));\n            }\n          }}\n          onDoubleClick={() => {\n            if (!isRenaming && !isChangingDest) {\n              clearTimeout(clearSingleClick);\n            }\n          }}\n        >\n          {isMultiSelectMode &&\n            <Choice\n              type=\"checkbox\"\n              className=\"bookmark-outline-checkbox\"\n              id={`outline-checkbox-${outlinePath}`}\n              checked={isSelected}\n              onClick={(e) => e.stopPropagation()}\n              onChange={(e) => {\n                setIsSelected(e.target.checked);\n                setMultiSelected(outlinePath, e.target.checked);\n              }}\n            />\n          }\n\n          <div\n            className={classNames({\n              'outline-treeview-toggle': true,\n              expanded: isExpanded,\n            })}\n            style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n          >\n            {outline.getChildren().length > 0 &&\n              <Button\n                img=\"icon-chevron-right\"\n                tabIndex={0}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  toggleOutline();\n                }}\n              />\n            }\n          </div>\n\n          <OutlineContent\n            text={outline.getName()}\n            outlinePath={outlinePath}\n            isOutlineRenaming={isRenaming}\n            setOutlineRenaming={setIsRenaming}\n            isOutlineChangingDest={isChangingDest}\n            setOutlineChangingDest={setChangingDest}\n            setIsHovered={setHovered}\n            textColor={outline.color ? convertRgbObjectToRgbString(outline.color) : null}\n          />\n        </DataElementWrapper>\n\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedDownwards ? 1 : 0 }} />\n\n        {isExpanded &&\n          outline.getChildren().map((child) => (\n            <OutlineNested\n              outline={child}\n              key={outlineUtils.getOutlineId(child)}\n              setMultiSelected={setMultiSelected}\n              moveOutlineInward={moveOutlineInward}\n              moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n              moveOutlineAfterTarget={moveOutlineAfterTarget}\n            />\n          ))\n        }\n        {isAddingNewOutline && isActive && (\n          <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n            <div\n              className=\"outline-treeview-toggle\"\n              style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n            ></div>\n            <OutlineContent\n              isAdding={true}\n              text={''}\n              onCancel={() => setAddingNewOutline(false)}\n            />\n          </DataElementWrapper>\n        )}\n      </div>\n    );\n  }\n);\n\nOutline.propTypes = propTypes;\n\nconst OutlineNested = DropTarget(\n  ItemTypes.OUTLINE,\n  {\n    hover(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n\n      const dragObject = dropTargetMonitor.getItem();\n      if (!dragObject) {\n        return;\n      }\n\n      const { dragOutline, dragSourceNode } = dragObject;\n      const { outline: dropOutline } = props;\n\n      const dropTargetNode = dropTargetContainer.getNode();\n      if (!dragSourceNode || !dropTargetNode) {\n        return;\n      }\n\n      const outlineIsBeingDraggedIntoDescendant = dragSourceNode.contains(dropTargetNode);\n      if (outlineIsBeingDraggedIntoDescendant) {\n        dragObject.dropTargetNode = undefined;\n        dragObject.dropLocation = DropLocation.INITIAL;\n        return;\n      }\n\n      dragObject.dropTargetNode = dropTargetNode;\n      const dragIndex = dragOutline.index;\n      const hoverIndex = dropOutline.index;\n      if (dragOutline.parent === dropOutline.parent && dragIndex === hoverIndex) {\n        return;\n      }\n\n      const dropTargetBoundingRect = dropTargetNode.getBoundingClientRect();\n      const dropTargetVerticalMiddlePoint = (dropTargetBoundingRect.bottom - dropTargetBoundingRect.top) / 2;\n      const clientOffset = dropTargetMonitor.getClientOffset();\n      const dropTargetClientY = clientOffset.y - dropTargetBoundingRect.top;\n      switch (true) {\n        case dropTargetClientY <= dropTargetVerticalMiddlePoint + BUFFER_ROOM && dropTargetClientY >= dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT;\n          if (dropTargetMonitor.isOver({ shallow: true })) {\n            dropTargetNode.classList.add('isNesting');\n          }\n          setTimeout(() => {\n            if (dragObject?.dropTargetNode !== dropTargetNode) {\n              dropTargetNode.classList.remove('isNesting');\n            }\n          }, 100);\n          break;\n        case dropTargetClientY > dropTargetVerticalMiddlePoint + BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.BELOW_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        case dropTargetClientY < dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ABOVE_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        default:\n          dragObject.dropLocation = DropLocation.INITIAL;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n      }\n      fireEvent(Events.DRAG_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragObject.dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n    },\n    drop(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n      const dragObject = dropTargetMonitor.getItem();\n      const { dragOutline, dropTargetNode } = dragObject;\n      const { outline: dropOutline, moveOutlineInward, moveOutlineBeforeTarget, moveOutlineAfterTarget } = props;\n\n      if (!dropTargetNode) {\n        return;\n      }\n\n      switch (dragObject.dropLocation) {\n        case DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT:\n          moveOutlineInward(dragOutline, dropOutline);\n          break;\n        case DropLocation.ABOVE_TARGET:\n          moveOutlineBeforeTarget(dragOutline, dropOutline);\n          break;\n        case DropLocation.BELOW_TARGET:\n          moveOutlineAfterTarget(dragOutline, dropOutline);\n          break;\n        default:\n          break;\n      }\n      dropTargetNode.classList.remove('isNesting');\n      fireEvent(Events.DROP_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n      dragObject.dropLocation = DropLocation.INITIAL;\n    }\n  },\n  (connect, dropTargetState) => ({\n    connectDropTarget: connect.dropTarget(),\n    isDraggedUpwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.ABOVE_TARGET),\n    isDraggedDownwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.BELOW_TARGET),\n  })\n)(DragSource(\n  ItemTypes.OUTLINE,\n  {\n    beginDrag: (props, dragSourceMonitor, dragSourceContainer) => ({\n      sourceId: dragSourceMonitor.sourceId,\n      dragOutline: props.outline,\n      dragSourceNode: dragSourceContainer.getNode(),\n      dropLocation: DropLocation.INITIAL,\n    }),\n    canDrag() {\n      if (isIE) {\n        console.warn('Drag and drop outlines for IE11 is not supported');\n        return false;\n      }\n      if (!core.isFullPDFEnabled()) {\n        console.warn('Full API must be enabled to drag and drop outlines');\n        return false;\n      }\n      return true;\n    }\n  },\n  (connect, dragSourceState) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: dragSourceState.isDragging(),\n  })\n)(Outline));\n\nOutlineNested.propTypes = propTypes;\n\nexport default OutlineNested;\n","import Outline from './Outline';\n\nexport default Outline;\n","import React from 'react';\nimport ToggleElementButton from '../ToggleElementButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport DataElements from 'constants/dataElement';\n\nfunction PageManipulationOverlayButtonContainer(props) {\n  const { className, pageIndex } = props;\n\n  const dispatch = useDispatch();\n  const selectedPageIndexes = useSelector((state) => selectors.getSelectedThumbnailPageIndexes(state));\n\n  const onClickPageManipulationOverlayButton = () => {\n    if (selectedPageIndexes.indexOf(pageIndex) === -1) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={onClickPageManipulationOverlayButton}\n    >\n      <ToggleElementButton\n        dataElement={DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON}\n        element={DataElements.PAGE_MANIPULATION_OVERLAY}\n        img=\"icon-tool-more\"\n        title=\"option.thumbnailPanel.moreOptions\"\n      />\n    </div>\n  );\n}\n\nexport default PageManipulationOverlayButtonContainer;","import PageManipulationOverlayButton from './PageManipulationOverlayButtonContainer';\n\nexport default PageManipulationOverlayButton;","import React from 'react';\nimport { useDispatch, shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { deletePages, rotateClockwise, rotateCounterClockwise } from 'helpers/pageManipulationFunctions';\nimport Button from 'components/Button';\nimport selectors from 'selectors';\nimport './ThumbnailControls.scss';\nimport PageManipulationOverlayButton from 'components/PageManipulationOverlayButton';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport DataElements from 'constants/dataElement';\nimport { useTranslation } from 'react-i18next';\n\nconst propTypes = {\n  index: PropTypes.number.isRequired,\n};\n\nconst dataElementName = 'thumbnailControl';\n\nconst ThumbnailControls = ({ index }) => {\n  const { t } = useTranslation();\n  const [isElementDisabled] = useSelector((state) => [selectors.isElementDisabled(state, dataElementName)]);\n  const [isMoreOptionDisabled] = useSelector((state) => [selectors.isElementDisabled(state, DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON)]);\n  const [isPageDeletionConfirmationModalEnabled, selectedIndexes] = useSelector((state) => [\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getSelectedThumbnailPageIndexes(state),\n  ]);\n  const dispatch = useDispatch();\n\n  const [\n    currentPage,\n    pageThumbnailControlMenuItems,\n  ] = useSelector((state) => [\n    selectors.getCurrentPage(state),\n    selectors.getThumbnailControlMenuItems(state),\n  ], shallowEqual);\n\n  let pageNumbers = selectedIndexes.length > 0 ? selectedIndexes.map((i) => i + 1) : [index + 1];\n\n  const isCurrentPageInTheSelection = pageNumbers.includes(currentPage);\n\n  if (!isCurrentPageInTheSelection) {\n    pageNumbers = [currentPage];\n  }\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  const BUTTONS_MAP = {\n    'thumbRotateClockwise': <Button\n      className=\"rotate-button\"\n      img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n      onClick={() => rotateClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageClockwise\"\n      dataElement=\"thumbRotateClockwise\"\n    />,\n    'thumbRotateCounterClockwise': <Button\n      img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n      onClick={() => rotateCounterClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n      dataElement=\"thumbRotateCounterClockwise\"\n    />,\n    'thumbDelete': <Button\n      className=\"delete-button\"\n      img=\"icon-delete-line\"\n      onClick={() => deletePages(pageNumbers, dispatch, isPageDeletionConfirmationModalEnabled)}\n      title=\"option.thumbnailPanel.delete\"\n      dataElement=\"thumbDelete\"\n      onClickAnnouncement={`${t('action.delete')} ${t('action.modal')} ${t('action.isOpen')}`}\n    />,\n  };\n  let isCustomized = false;\n  const occurredButtons = [];\n  const buttons = pageThumbnailControlMenuItems.map((item) => {\n    const { dataElement } = item;\n    const key = dataElement;\n    let component = BUTTONS_MAP[dataElement];\n    if (occurredButtons.indexOf(dataElement) > -1) {\n      return null;\n    }\n    occurredButtons.push(dataElement);\n\n    /* Example button object:\n    {\n      title: 'Alert me',\n      img: '/path-to-image',\n      onClick: (selectedPageNumbers) => alert(``),\n      dataElement: 'alertMeDataElement',\n    } */\n    if (!component) {\n      isCustomized = true;\n      const { img, onClick, title } = item;\n      component = <Button\n        className={`${dataElement}-button`}\n        img={img}\n        onClick={() => onClick(currentPage)}\n        title={title}\n        dataElement={dataElement}\n      />;\n    }\n\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n\n  if (isElementDisabled) {\n    return null;\n  } if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className=\"thumbnailControls-overlay\" data-element={dataElementName}\n        style={{ display: 'flex' }}\n      >\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n          onClick={() => rotateCounterClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n          dataElement=\"thumbRotateCounterClockwise\"\n        />\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n          onClick={() => rotateClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageClockwise\"\n          dataElement=\"thumbRotateClockwise\"\n        />\n      </div>\n    );\n  }\n  return (\n    <div className={classNames({\n      'thumbnailControls-overlay': true,\n      'custom-buttons': isCustomized,\n    })}\n    data-element={dataElementName}\n    >\n      {buttons}\n      {\n        (isMoreOptionDisabled) ? null : <PageManipulationOverlayButton\n          className={'more-options'}\n          pageIndex={index}\n        />\n      }\n\n    </div>\n  );\n};\n\n\nThumbnailControls.propTypes = propTypes;\n\nexport default ThumbnailControls;\n","import ThumbnailControls from './ThumbnailControls';\n\nexport default ThumbnailControls;\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport core from 'core';\nimport ThumbnailControls from 'components/ThumbnailControls';\nimport thumbnailSelectionModes from 'constants/thumbnailSelectionModes';\n\nimport './Thumbnail.scss';\nimport { Choice } from '@pdftron/webviewer-react-toolkit';\nimport getRootNode from 'helpers/getRootNode';\n\n// adds a delay in ms so thumbs that are only on the screen briefly are not loaded.\nconst THUMBNAIL_LOAD_DELAY = 50;\n\nconst Thumbnail = ({\n  index,\n  isSelected,\n  updateAnnotations,\n  shiftKeyThumbnailPivotIndex,\n  onFinishLoading,\n  onLoad,\n  onRemove = () => { },\n  onDragStart,\n  onDragOver,\n  isDraggable,\n  shouldShowControls,\n  thumbnailSize,\n  currentPage,\n  pageLabels = [],\n  selectedPageIndexes,\n  isThumbnailMultiselectEnabled,\n  isReaderModeOrReadOnly,\n  dispatch,\n  actions,\n  isMobile,\n  canLoad,\n  onCancel,\n  isThumbnailSelectingPages,\n  thumbnailSelectionMode,\n  activeDocumentViewerKey,\n  panelSelector\n}) => {\n  const thumbSize = thumbnailSize ? Number(thumbnailSize) : 150;\n\n  const [dimensions, setDimensions] = useState({ width: thumbSize, height: thumbSize });\n  // To ensure checkmark loads after thumbnail\n  const [loaded, setLoaded] = useState(false);\n\n  let loadTimeout = null;\n\n  const loadThumbnailAsync = () => {\n    loadTimeout = setTimeout(() => {\n      const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n\n      const pageNum = index + 1;\n      const viewerRotation = core.getRotation(pageNum);\n\n      const doc = core.getDocument(activeDocumentViewerKey);\n      // Possible race condition can happen where we try to render a thumbnail for a page that has\n      // been deleted. Prevent that by checking if pageInfo exists\n\n      if (doc && doc.getPageInfo(pageNum)) {\n        const id = doc.loadCanvas({\n          pageNumber: pageNum,\n          width: thumbSize,\n          height: thumbSize,\n          drawComplete: async (thumb) => {\n            const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n            if (thumbnailContainer) {\n              const childElement = thumbnailContainer.querySelector('.page-image');\n              if (childElement) {\n                thumbnailContainer.removeChild(childElement);\n              }\n\n              thumb.className = 'page-image';\n\n              const ratio = Math.min(thumbSize / thumb.width, thumbSize / thumb.height);\n              thumb.style.width = `${thumb.width * ratio}px`;\n              thumb.style.height = `${thumb.height * ratio}px`;\n              setDimensions({ width: Number(thumb.width), height: Number(thumb.height) });\n\n              if (Math.abs(viewerRotation)) {\n                const cssTransform = `rotate(${viewerRotation * 90}deg) translate(-50%,-50%)`;\n                const cssTransformOrigin = 'top left';\n                thumb.style['transform'] = cssTransform;\n                thumb.style['transform-origin'] = cssTransformOrigin;\n                thumb.style['ms-transform'] = cssTransform;\n                thumb.style['ms-transform-origin'] = cssTransformOrigin;\n                thumb.style['-moz-transform'] = cssTransform;\n                thumb.style['-moz-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform'] = cssTransform;\n                thumb.style['-o-transform'] = cssTransform;\n                thumb.style['-o-transform-origin'] = cssTransformOrigin;\n              }\n\n              thumbnailContainer.appendChild(thumb);\n            }\n\n            if (updateAnnotations) {\n              updateAnnotations(index);\n            }\n\n            onFinishLoading(index);\n            setLoaded(true);\n          },\n          allowUseOfOptimizedThumbnail: true,\n        });\n        onLoad(index, thumbnailContainer, id);\n      }\n    }, THUMBNAIL_LOAD_DELAY);\n  };\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      const { contentChanged, moved, added, removed } = changes;\n\n      const currentPage = index + 1;\n\n      const isPageAdded = added.includes(currentPage);\n      const didPageChange = contentChanged.some((changedPage) => currentPage === changedPage);\n      const didPageMove = Object.keys(moved).some((movedPage) => currentPage === parseInt(movedPage));\n      const isPageRemoved = removed.includes(currentPage);\n      const newPageCount = core.getTotalPages();\n\n      if (removed.length > 0 && index + 1 > newPageCount) {\n        return;\n      }\n\n      if (isPageAdded || didPageChange || didPageMove || isPageRemoved) {\n        loadThumbnailAsync();\n      }\n    };\n\n    const onRotationUpdated = () => {\n      setLoaded(false);\n      loadThumbnailAsync();\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n    core.addEventListener('rotationUpdated', onRotationUpdated);\n    if (canLoad) {\n      loadThumbnailAsync();\n    }\n    return () => {\n      core.removeEventListener('pagesUpdated', onPagesUpdated);\n      core.removeEventListener('rotationUpdated', onRotationUpdated);\n      clearTimeout(loadTimeout);\n      onRemove(index);\n    };\n  }, []);\n\n  useDidUpdate(() => {\n    if (canLoad) {\n      loadThumbnailAsync();\n      updateAnnotations(index);\n    } else {\n      onCancel(index);\n    }\n  }, [canLoad, activeDocumentViewerKey]);\n\n  const handleClick = (e) => {\n    const checkboxToggled = e.target.type && e.target.type === 'checkbox';\n    if (isThumbnailMultiselectEnabled && !isReaderModeOrReadOnly) {\n      const multiSelectionKeyPressed = e.ctrlKey || e.metaKey;\n      const shiftKeyPressed = e.shiftKey;\n      let updatedSelectedPages = [...selectedPageIndexes];\n\n      if (shiftKeyPressed) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Include current page as part of selection if we just started shift-selecting\n        let shiftKeyPivot = shiftKeyThumbnailPivotIndex;\n        if (shiftKeyPivot === null) {\n          shiftKeyPivot = currentPage - 1;\n          dispatch(actions.setShiftKeyThumbnailsPivotIndex(shiftKeyPivot));\n        }\n        // get the range of the selected index and update selected page\n        const currSelectMinIndex = Math.min(shiftKeyPivot, index);\n        const currSelectMaxIndex = Math.max(shiftKeyPivot, index);\n        updatedSelectedPages = [...new Set([...Array.from(\n          { length: currSelectMaxIndex - currSelectMinIndex + 1 },\n          (_, i) => i + currSelectMinIndex,\n        )])];\n      } else if (multiSelectionKeyPressed || isThumbnailSelectingPages) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Only select a page if multiSelectionKeyPressed or if checkbox is checked unless in 'thumbnail' mode\n        if (multiSelectionKeyPressed || checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n          // Include current page as part of selection if we just started multi-selecting\n          if (selectedPageIndexes.length === 0 && !isThumbnailSelectingPages) {\n            updatedSelectedPages.push(currentPage - 1);\n          } else if (selectedPageIndexes.includes(index)) {\n            updatedSelectedPages = selectedPageIndexes.filter((pageIndex) => index !== pageIndex);\n          } else {\n            updatedSelectedPages.push(index);\n          }\n        }\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(index));\n      } else {\n        updatedSelectedPages = [index];\n      }\n      // set shiftKeyPivot when press ctr key or single key\n      const lastSelectedPageIndex = updatedSelectedPages[updatedSelectedPages.length - 1];\n      const shouldUpdateShiftKeyPivotIndex = !isThumbnailSelectingPages && !shiftKeyPressed;\n\n      if (shouldUpdateShiftKeyPivotIndex) {\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(lastSelectedPageIndex));\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedSelectedPages));\n    } else if (isMobile()) {\n      dispatch(actions.closeElement('leftPanel'));\n    }\n\n    // due to the race condition, we need a settimeout here\n    // otherwise, sometimes the current page will not be visible in left panel\n    setTimeout(() => {\n      // If user clicks on checkbox, it should not automatically jump to that page,\n      // only if the user clicks on thumbnail then go to page and view it, unless in 'thumbnail' mode\n      if (!checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n        core.setCurrentPage(index + 1);\n      }\n    }, 0);\n  };\n\n  const isActive = currentPage === index + 1;\n  const pageLabel = pageLabels[index];\n  let checkboxRotateClass = 'default';\n  const rotation = core.getRotation(index + 1);\n  if ((!rotation || rotation === 2) && dimensions.width > dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  } else if ((rotation === 1 || rotation === 3) && dimensions.width < dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  }\n\n  return (\n    <div\n      className={classNames({\n        Thumbnail: true,\n        active: isActive,\n        selected: isSelected && isThumbnailSelectingPages,\n      })}\n      onDragOver={(e) => onDragOver(e, index)}\n      id=\"Thumbnail-container\"\n    >\n      <div\n        className=\"container\"\n        style={{\n          width: thumbSize,\n          height: thumbSize,\n        }}\n        onDragStart={(e) => onDragStart(e, index)}\n        draggable={isDraggable}\n        onClick={handleClick}\n      >\n        <div id={`pageThumb${index}`} className=\"thumbnail\" />\n        {isThumbnailSelectingPages && loaded && (\n          <Choice className={`checkbox ${checkboxRotateClass}`} checked={selectedPageIndexes.includes(index)} />\n        )}\n      </div>\n      <div className=\"page-label\">{pageLabel}</div>\n      {!isThumbnailSelectingPages && isActive && shouldShowControls && <ThumbnailControls index={index} />}\n    </div>\n  );\n};\n\nexport default Thumbnail;\n","import React from 'react';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\n\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { isMobile } from 'helpers/device';\n\nimport Thumbnail from './Thumbnail';\n\nconst ThumbnailRedux = (props) => {\n  const [\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    activeDocumentViewerKey,\n    selectionModes\n  ] = useSelector(\n    (state) => [\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.isThumbnailMultiselectEnabled(state),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getShiftKeyThumbnailPivotIndex(state),\n      selectors.isThumbnailSelectingPages(state),\n      selectors.getThumbnailSelectionMode(state),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n\n  return <Thumbnail {...props} {...{\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderModeOrReadOnly: isReaderMode || isDocumentReadOnly,\n    dispatch,\n    actions,\n    isMobile,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    selectionModes,\n    activeDocumentViewerKey,\n  }}\n  />;\n};\n\nexport default ThumbnailRedux;\n","import Thumbnail from './ThumbnailRedux';\n\nexport default Thumbnail;","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMoreSmall() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMoreSmall;\n","import React from 'react';\n\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsertSmall() {\n  return (\n    <div className={'dropdown-menu'}>\n      <ToggleElementButton\n        title=\"action.PageInsertion\"\n        className={'dropdown-menu'}\n        element=\"thumbnailsControlInsertPopup\"\n        dataElement=\"thumbnailsControlInsertPopupTrigger\"\n        img=\"icon-header-page-manipulation-insert-above\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsInsertSmall;\n","import React from 'react';\nimport Button from 'components/Button';\n\nfunction CustomLeftPanelOperations({ pageNumbers, operations }) {\n  return (\n    <>\n      {operations.map((operation, index) => {\n        return (\n          <Button\n            key={index}\n            className={'button-hover'}\n            dataElement={operation.dataElement}\n            img={operation.img}\n            onClick={() => operation.onClick(pageNumbers)}\n            title={operation.title}\n          />);\n      })\n      }\n    </>\n  );\n}\n\nexport default CustomLeftPanelOperations;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsRotate({ onRotateClockwise, onRotateCounterClockwise }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateCounterClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n        onClick={onRotateCounterClockwise}\n        title=\"action.rotateCounterClockwise\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n        onClick={onRotateClockwise}\n        title=\"action.rotateClockwise\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsRotate;\n","import React from 'react';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport LeftPanelPageTabsMoreSmall from '../LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall';\nimport LeftPanelPageTabsInsertSmall from '../LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\n\nfunction InitialLeftPanelPageTabsSmall({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsSmall(props) {\n  const { pageNumbers, multiPageManipulationControlsItemsSmall, onRotateClockwise, onRotateCounterClockwise } = props;\n  return (\n    <div className={'PageControlContainer root small'}>\n      <InitialLeftPanelPageTabsSmall pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItemsSmall}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise}\n          onRotateCounterClockwise={onRotateCounterClockwise}\n          dataElement=\"leftPanelPageTabsRotate\"/>\n        <LeftPanelPageTabsInsertSmall dataElement=\"leftPanelPageTabsInsertSmall\" />\n        <LeftPanelPageTabsMoreSmall dataElement=\"leftPanelPageTabsMoreSmall\" />\n      </InitialLeftPanelPageTabsSmall>\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsSmall;\n","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMore() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMore;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsMove({ moveToTop, moveToBottom }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToTop\"\n        img=\"icon-page-move-up\"\n        onClick={moveToTop}\n        title=\"action.moveToTop\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToBottom\"\n        img=\"icon-page-move-down\"\n        onClick={moveToBottom}\n        title=\"action.moveToBottom\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsMove;\n","import React from 'react';\n\nimport LeftPanelPageTabsMore from '../LeftPanelPageTabsMore/LeftPanelPageTabsMore';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from 'components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabs(props) {\n  const {\n    pageNumbers,\n    onRotateClockwise,\n    onRotateCounterClockwise,\n    multiPageManipulationControlsItems,\n    moveToTop,\n    moveToBottom\n  } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\"/>\n        <LeftPanelPageTabsMore dataElement=\"leftPanelPageTabsMore\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabs;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsert({ onInsert }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsInsert;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsOperations({ onInsert, onReplace, onExtractPages, onDeletePages }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlReplace\"\n        img=\"icon-page-replacement\"\n        onClick={onReplace}\n        title=\"action.replace\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlExtract\"\n        img=\"icon-page-manipulation-extract\"\n        onClick={onExtractPages}\n        title=\"action.extract\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlDelete\"\n        img=\"icon-delete-line\"\n        onClick={onDeletePages}\n        title=\"action.delete\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsOperations;\n","import React from 'react';\n\nimport LeftPanelPageTabsInsert from '../LeftPanelPageTabsInsert/LeftPanelPageTabsInsert';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsOperations from '../LeftPanelPageTabsOperations/LeftPanelPageTabsOperations';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from '../LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsLarge(props) {\n  const { pageNumbers, onRotateClockwise, onRotateCounterClockwise, onInsert, onReplace, onExtractPages, onDeletePages, moveToTop, moveToBottom, multiPageManipulationControlsItems } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsInsert onInsert={onInsert} dataElement=\"leftPanelPageTabsInsert\" />\n        <LeftPanelPageTabsOperations onReplace={onReplace} onExtractPages={onExtractPages} onDeletePages={onDeletePages} dataElement=\"leftPanelPageTabsOperations\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabsLarge;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport {\n  deletePages,\n  extractPages,\n  noPagesSelectedWarning,\n  replace,\n  rotateClockwise,\n  rotateCounterClockwise,\n  movePagesToBottom,\n  movePagesToTop\n} from 'helpers/pageManipulationFunctions';\nimport LeftPanelPageTabsSmall from 'src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport LeftPanelPageTabsRotate from 'components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsLarge from './LeftPanelPageTabsLarge/LeftPanelPageTabsLarge';\nimport DataElements from 'constants/dataElement';\nimport { panelMinWidth } from 'constants/panel';\nimport { isMobile as isInMobile } from 'helpers/device';\nimport getRootNode from 'helpers/getRootNode';\n\n// Values come from the CSS\nconst WIDTH_MARGINS = 16 + 8 + 16 + 16 + 16 + 16;\n\nfunction LeftPanelPageTabsContainer({ parentElement }) {\n  const dispatch = useDispatch();\n  const isMobile = isInMobile();\n  const [\n    selectedPageIndexes,\n    panelWidth,\n    deleteModalEnabled,\n    multiPageManipulationControlsItems,\n    multiPageManipulationControlsSmall,\n    multiPageManipulationControlsLarge,\n    isDesktopOnlyMode,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    !parentElement || parentElement === 'leftPanel' ? selectors.getLeftPanelWidth(state) : selectors.getPanelWidth(state, parentElement),\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getMultiPageManipulationControlsItems(state),\n    selectors.getMultiPageManipulationControlsItemsSmall(state),\n    selectors.getMultiPageManipulationControlsItemsLarge(state),\n    selectors.isInDesktopOnlyMode(state),\n  ]);\n\n  const pageNumbers = selectedPageIndexes.map((index) => index + 1);\n\n  const openInsertPageModal = () => {\n    dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n    dispatch(actions.openElement('insertPageModal'));\n  };\n\n  const onReplace = () => !noPagesSelectedWarning(pageNumbers, dispatch) && replace(dispatch);\n  const onExtractPages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && extractPages(pageNumbers, dispatch);\n  const onDeletePages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && deletePages(pageNumbers, dispatch, deleteModalEnabled);\n  const onRotateClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateClockwise(pageNumbers);\n  const onRotateCounterClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateCounterClockwise(pageNumbers);\n  const onInsert = () => !noPagesSelectedWarning(pageNumbers, dispatch) && openInsertPageModal();\n  const moveToTop = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToTop(pageNumbers);\n  const moveToBottom = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToBottom(pageNumbers);\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className={'PageControlContainer root small'}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} />\n      </div>\n    );\n  }\n\n  const smallBreakPoint = 190;\n  const largeBreakPoint = 290;\n  let widthMinusMargins;\n  if (!isDesktopOnlyMode && isMobile) {\n    try {\n      const appRect = getRootNode().querySelector('.App').getBoundingClientRect();\n      widthMinusMargins = appRect.width - WIDTH_MARGINS;\n    } catch (e) {\n      widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n    }\n  } else {\n    widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n  }\n  const isPanelSmall = widthMinusMargins < smallBreakPoint;\n  const isPanelLarge = widthMinusMargins > largeBreakPoint;\n\n  const childProps = {\n    onReplace,\n    onExtractPages,\n    onDeletePages,\n    onRotateCounterClockwise,\n    onRotateClockwise,\n    onInsert,\n    moveToTop,\n    moveToBottom,\n    pageNumbers,\n  };\n\n  if (isPanelSmall) {\n    return <LeftPanelPageTabsSmall\n      {...childProps}\n      multiPageManipulationControlsItemsSmall={multiPageManipulationControlsSmall}\n    />;\n  }\n\n  if (isPanelLarge) {\n    return <LeftPanelPageTabsLarge\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsLarge}\n    />;\n  }\n\n\n  return (\n    <LeftPanelPageTabs\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsItems}\n    />\n  );\n}\n\nexport default LeftPanelPageTabsContainer;\n","import LeftPanelPageTabsContainer from './LeftPanelPageTabsContainer';\n\nexport default LeftPanelPageTabsContainer;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from 'components/Button';\nimport getPageArrayFromString from 'helpers/getPageArrayFromString';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport pageNumberPlaceholder from 'constants/pageNumberPlaceholder';\nimport core from 'src/core';\nimport { useTranslation } from 'react-i18next';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs';\nimport './DocumentControls.scss';\n\nfunction getPageString(selectedPageArray, pageLabels) {\n  let pagesToPrint = '';\n  const sortedPages = selectedPageArray.sort((a, b) => a - b);\n  let prevIndex = null;\n\n  for (let i = 0; sortedPages.length > i; i++) {\n    if (sortedPages[i + 1] === sortedPages[i] + 1) {\n      prevIndex = prevIndex !== null ? prevIndex : sortedPages[i];\n    } else if (prevIndex !== null) {\n      pagesToPrint = `${pagesToPrint}${pageLabels[prevIndex]}-${pageLabels[sortedPages[i]]}, `;\n      prevIndex = null;\n    } else {\n      pagesToPrint = `${pagesToPrint}${pageLabels[sortedPages[i]]}, `;\n    }\n  }\n\n  return pagesToPrint.slice(0, -2);\n}\n\nconst DocumentControls = ({ shouldShowControls, parentElement }) => {\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  const [\n    selectedPageIndexes,\n    isDisabled,\n    pageLabels,\n    isThumbnailSelectingPages,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    selectors.isElementDisabled(state, 'documentControl'),\n    selectors.getPageLabels(state),\n    selectors.isThumbnailSelectingPages(state),\n  ]);\n\n  const initialPagesString = getPageString(selectedPageIndexes, pageLabels);\n\n  const [pageString, setPageString] = useState(initialPagesString);\n  const [previousPageString, setPreviousPageString] = useState(initialPagesString);\n\n  useEffect(() => {\n    setPageString(getPageString(selectedPageIndexes, pageLabels));\n  }, [setPageString, selectedPageIndexes, shouldShowControls, pageLabels]);\n\n  const onBlur = (e) => {\n    const selectedPagesString = e.target.value.replace(/ /g, '');\n    const pages = !selectedPagesString ? [] : getPageArrayFromString(selectedPagesString, pageLabels);\n    const pageIndexes = pages.map((page) => page - 1);\n\n    if (pages.length || !selectedPagesString) {\n      dispatch(actions.setSelectedPageThumbnails(pageIndexes));\n\n      const updatedString = getPageString(selectedPageIndexes, pageLabels);\n\n      setPageString(updatedString);\n      setPreviousPageString(updatedString);\n    } else {\n      setPageString(previousPageString);\n    }\n\n    if (selectedPageIndexes.length > 0 && !isThumbnailSelectingPages) {\n      // set a short timeout due to race condition caused by onBlur and\n      // changing the documentControlsButton based on isThumbnailSelectingPages\n      setTimeout(() => {\n        enableThumbnailSelectingPages();\n      }, 100);\n    }\n  };\n\n  const pageStringUpdate = (e) => {\n    setPageString(e.target.value);\n  };\n\n  const disableThumbnailSelectingPages = () => {\n    dispatch(actions.setSelectedPageThumbnails([core.getCurrentPage() - 1]));\n    dispatch(actions.setThumbnailSelectingPages(false));\n  };\n\n  const enableThumbnailSelectingPages = () => {\n    dispatch(actions.setThumbnailSelectingPages(true));\n  };\n\n  return isDisabled ? null : (\n    <div className={'documentControlsContainer'} data-element={'documentControl'}>\n      {shouldShowControls ? (\n        <div className={'documentControls'}>\n          <div className={'divider'}></div>\n          {isThumbnailSelectingPages && <LeftPanelPageTabs parentElement={parentElement}/>}\n          <div className={'documentControlsInput'}>\n            <input\n              onBlur={onBlur}\n              onChange={pageStringUpdate}\n              value={pageString}\n              placeholder={pageNumberPlaceholder}\n              aria-label={t('option.thumbnailPanel.enterPageNumbers')}\n              className=\"pagesInput\"\n              type=\"text\"\n            />\n            <div className={'documentControlsButton'}>\n              {!isThumbnailSelectingPages ? (\n                <Button\n                  img={'icon-tool-select-pages'}\n                  title={'option.documentControls.selectTooltip'}\n                  onClick={enableThumbnailSelectingPages}\n                  dataElement={'thumbMultiSelect'}\n                />\n              ) : (\n                <Button\n                  img={'icon-close'}\n                  title={'option.documentControls.closeTooltip'}\n                  onClick={disableThumbnailSelectingPages}\n                  dataElement={'thumbCloseMultiSelect'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nDocumentControls.propTypes = {\n  isDisabled: PropTypes.bool,\n  pageLabels: PropTypes.arrayOf(PropTypes.string),\n  toggleDocumentControl: PropTypes.func,\n  shouldShowControls: PropTypes.bool,\n};\n\nexport default DocumentControls;\n","import DocumentControls from './DocumentControls';\n\nexport default DocumentControls;","import core from 'core';\nimport actions from 'actions';\nimport extractPagesWithAnnotations from './extractPagesWithAnnotations';\nimport fireEvent from './fireEvent';\nimport Events from 'constants/events';\nimport DataElements from 'src/constants/dataElement';\n\nexport const extractPagesToMerge = (pageNumbers) => {\n  // extract pages and put the data on the iFrame window element for another instance of WebViewer to access\n  window.extractedDataPromise = extractPagesWithAnnotations(pageNumbers);\n  window.pagesExtracted = pageNumbers;\n};\n\nexport const mergeDocument = (srcToMerge, mergeToPage, shouldFireEvent = true) => (dispatch) => {\n  dispatch(actions.openElement(DataElements.LOADING_MODAL));\n\n  return new Promise((resolve, reject) => {\n    core.mergeDocument(srcToMerge, mergeToPage).then((mergeResults) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      core.setCurrentPage(mergeToPage);\n\n      if (shouldFireEvent) {\n        fireEvent(Events.DOCUMENT_MERGED, mergeResults);\n      }\n\n      resolve(mergeResults);\n    }).catch((err) => {\n      reject(err);\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n    });\n  });\n};\n\nexport const mergeExternalWebViewerDocument = (viewerID, mergeToPage) => (dispatch) => {\n  return new Promise((resolve, reject) => {\n    const otherWebViewerIframe = window.parent.document.querySelector(`#${viewerID}`);\n    if (!otherWebViewerIframe) {\n      console.warn('Could not find other instance of WebViewer');\n      reject();\n    }\n\n    const extractedDataPromise = otherWebViewerIframe.contentWindow.extractedDataPromise;\n    if (!extractedDataPromise) {\n      console.warn('Could not retrieve data from other instance of WebViewer');\n      reject();\n    }\n\n    dispatch(actions.openElement(DataElements.LOADING_MODAL));\n    extractedDataPromise.then((docToMerge) => {\n      dispatch(mergeDocument(docToMerge, mergeToPage, false)).then(({ filename, pages }) => {\n        fireEvent(Events.DOCUMENT_MERGED, { filename, pages: otherWebViewerIframe.contentWindow.pagesExtracted });\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n        resolve({ filename, pages });\n      });\n    }).catch((err) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      reject(err);\n    });\n  });\n};","import debounce from 'lodash/debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { List } from 'react-virtualized';\nimport Measure from 'react-measure';\nimport classNames from 'classnames';\nimport { isIE11 } from 'helpers/device';\n\nimport Thumbnail from 'components/Thumbnail';\nimport DocumentControls from 'components/DocumentControls';\nimport Button from 'components/Button';\n\nimport core from 'core';\nimport { extractPagesToMerge, mergeDocument, mergeExternalWebViewerDocument } from 'helpers/pageManipulation';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport Events from 'constants/events';\nimport DataElements from 'constants/dataElement';\nimport fireEvent from 'helpers/fireEvent';\n\nimport './ThumbnailsPanel.scss';\nimport getRootNode from 'helpers/getRootNode';\nimport { useTranslation } from 'react-i18next';\n\nconst dataTransferWebViewerFrameKey = 'dataTransferWebViewerFrame';\n\nconst ZOOM_RANGE_MIN = '100';\nconst ZOOM_RANGE_MAX = '1000';\nconst ZOOM_RANGE_STEP = '50';\nconst MAX_COLUMNS = 16;\n\nconst hoverAreaHeight = 25;\n\nconst ThumbnailsPanel = ({ panelSelector, parentDataElement }) => {\n  const [\n    isLeftPanelOpen,\n    isDisabled,\n    totalPages,\n    currentPage,\n    selectedPageIndexes,\n    isThumbnailMergingEnabled,\n    isThumbnailReorderingEnabled,\n    isMultipleViewerMerging,\n    isThumbnailControlDisabled,\n    isThumbnailSliderDisabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    totalPagesFromSecondaryDocumentViewer,\n    activeDocumentViewerKey,\n    isRightClickEnabled,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, 'leftPanel'),\n      selectors.isElementDisabled(state, 'thumbnailsPanel'),\n      selectors.getTotalPages(state),\n      selectors.getCurrentPage(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.getIsThumbnailMergingEnabled(state),\n      selectors.getIsThumbnailReorderingEnabled(state),\n      selectors.getIsMultipleViewerMerging(state),\n      selectors.isElementDisabled(state, 'thumbnailControl'),\n      selectors.isElementDisabled(state, 'thumbnailsSizeSlider'),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getTotalPages(state, 2),\n      selectors.getActiveDocumentViewerKey(state),\n      selectors.openingPageManipulationOverlayByRightClickEnabled(state),\n    ],\n    shallowEqual,\n  );\n\n  const [t] = useTranslation();\n\n  const listRef = useRef();\n  const pendingThumbs = useRef([]);\n  const thumbs = useRef([]);\n  const afterMovePageNumber = useRef(null);\n\n  const [isOfficeEditor, setIsOfficeEditor] = useState(false);\n  const [canLoad, setCanLoad] = useState(true);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [draggingOverPageIndex, setDraggingOverPageIndex] = useState(null);\n  const [isDraggingToPreviousPage, setDraggingToPreviousPage] = useState(false);\n  const [numberOfColumns, setNumberOfColumns] = useState(1);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const [thumbnailSize, setThumbnailSize] = useState(150);\n  const [lastTimeTriggered, setLastTimeTriggered] = useState(0);\n  const [globalIndex, setGlobalIndex] = useState(0);\n  const pageCount = activeDocumentViewerKey === 2 ? totalPagesFromSecondaryDocumentViewer : totalPages;\n\n  const dispatch = useDispatch();\n\n  // If memory becomes an issue, change this to use pageNumbers.\n  // Instead of a debounced drawAnnotations function, perhaps use\n  // a function that first checks for the pageNumber in this map\n  // before calling drawAnnotations on a page.\n  let activeThumbRenders = {};\n\n  const getThumbnailSize = (pageWidth, pageHeight) => {\n    let width;\n    let height;\n    let ratio;\n\n    if (pageWidth > pageHeight) {\n      ratio = pageWidth / thumbnailSize;\n      width = thumbnailSize;\n      height = Math.round(pageHeight / ratio);\n    } else {\n      ratio = pageHeight / thumbnailSize;\n      width = Math.round(pageWidth / ratio); // Chrome has trouble displaying borders of non integer width canvases.\n      height = thumbnailSize;\n    }\n\n    return {\n      width,\n      height,\n    };\n  };\n\n  const updateAnnotations = (pageIndex) => {\n    const thumbContainer = thumbs.current && thumbs.current[pageIndex] && thumbs.current[pageIndex].element;\n    if (!thumbContainer) {\n      return;\n    }\n\n    const pageNumber = pageIndex + 1;\n    const pageWidth = core.getPageWidth(pageNumber);\n    const pageHeight = core.getPageHeight(pageNumber);\n\n    const { width, height } = getThumbnailSize(pageWidth, pageHeight);\n\n    const annotCanvas = thumbContainer.querySelector('.annotation-image') || document.createElement('canvas');\n    annotCanvas.className = 'annotation-image';\n    annotCanvas.style.maxWidth = `${thumbnailSize}px`;\n    annotCanvas.style.maxHeight = `${thumbnailSize}px`;\n    const ctx = annotCanvas.getContext('2d');\n\n    let zoom = 1;\n    let rotation = core.getCompleteRotation(pageNumber);\n    if (rotation < 0) {\n      rotation += 4;\n    }\n    const multiplier = window.Core.getCanvasMultiplier();\n\n    if (rotation % 2 === 0) {\n      annotCanvas.width = width;\n      annotCanvas.height = height;\n      zoom = annotCanvas.width / pageWidth;\n      zoom /= multiplier;\n    } else {\n      annotCanvas.width = height;\n      annotCanvas.height = width;\n\n      zoom = annotCanvas.height / pageWidth;\n      zoom /= multiplier;\n    }\n\n    thumbContainer.appendChild(annotCanvas);\n    core.setAnnotationCanvasTransform(ctx, zoom, rotation);\n\n    let options = {\n      pageNumber,\n      overrideCanvas: annotCanvas,\n    };\n\n    const thumb = thumbContainer.querySelector('.page-image');\n\n    if (thumb) {\n      options = {\n        ...options,\n        overridePageRotation: rotation,\n        overridePageCanvas: thumb,\n      };\n    } else {\n      return;\n    }\n\n    if (!activeThumbRenders[pageNumber]) {\n      activeThumbRenders[pageNumber] = debounce(core.drawAnnotations, 112);\n    }\n    const debouncedDraw = activeThumbRenders[pageNumber];\n    debouncedDraw(options);\n  };\n\n  useEffect(() => {\n    const onBeginRendering = () => {\n      setCanLoad(false);\n    };\n\n    const onFinishedRendering = (needsMoreRendering) => {\n      if (!needsMoreRendering) {\n        setCanLoad(true);\n      }\n    };\n\n    const onDocumentLoaded = () => {\n      if (core.getDocument()?.getType() === 'officeEditor') {\n        setIsOfficeEditor(true);\n      } else {\n        setIsOfficeEditor(false);\n      }\n      activeThumbRenders = {};\n      dispatch(actions.setSelectedPageThumbnails([]));\n    };\n\n    const onPageComplete = () => {\n      if (afterMovePageNumber.current) {\n        core.setCurrentPage(afterMovePageNumber.current);\n        afterMovePageNumber.current = null;\n      }\n    };\n\n    core.addEventListener('beginRendering', onBeginRendering);\n    core.addEventListener('finishedRendering', onFinishedRendering);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('pageComplete', onPageComplete);\n\n\n    // The document might have already been loaded before this component is mounted.\n    // If document is already loaded, call 'onDocumentLoaded()' manually to update the state properly.\n    if (core.getDocument()) {\n      onDocumentLoaded();\n    }\n\n    return () => {\n      core.removeEventListener('beginRendering', onBeginRendering);\n      core.removeEventListener('finishedRendering', onFinishedRendering);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('pageComplete', onPageComplete);\n    };\n  }, []);\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      if (!changes) {\n        return;\n      }\n      let updatedPagesIndexes = Array.from(selectedPageIndexes);\n\n      if (changes.removed) {\n        updatedPagesIndexes = updatedPagesIndexes.filter((pageIndex) => changes.removed.indexOf(pageIndex + 1) === -1);\n      }\n\n      if (changes.moved) {\n        updatedPagesIndexes = updatedPagesIndexes.map((pageIndex) => (changes.moved[pageIndex + 1] ? changes.moved[pageIndex + 1] - 1 : pageIndex),\n        );\n      }\n\n      const isPageAddedBefore = changes.added && (changes.added[0] - 1) <= updatedPagesIndexes[0];\n      if (updatedPagesIndexes.length === 1 && isPageAddedBefore) {\n        updatedPagesIndexes = changes.added.map((pageNumber) => pageNumber - 1);\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedPagesIndexes));\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n\n    return () => core.removeEventListener('pagesUpdated', onPagesUpdated);\n  }, [selectedPageIndexes]);\n\n  useEffect(() => {\n    listRef.current?.scrollToRow(Math.floor((currentPage - 1) / numberOfColumns));\n    const onAnnotationChanged = (annots) => {\n      const indices = [];\n\n      annots.forEach((annot) => {\n        const pageIndex = annot.PageNumber - 1;\n        if (!annot.Listable || indices.indexOf(pageIndex) > -1) {\n          return;\n        }\n        indices.push(pageIndex);\n\n        updateAnnotations(pageIndex);\n      });\n    };\n\n    const onPageNumberUpdated = (pageNumber) => {\n      const pageIndex = pageNumber - 1;\n      listRef.current?.scrollToRow(Math.floor(pageIndex / numberOfColumns));\n    };\n\n    core.addEventListener('pageNumberUpdated', onPageNumberUpdated);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('annotationHidden', onAnnotationChanged);\n\n    return () => {\n      core.removeEventListener('pageNumberUpdated', onPageNumberUpdated);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('annotationHidden', onAnnotationChanged);\n    };\n  }, [thumbnailSize, numberOfColumns]);\n\n  useEffect(() => {\n    if (isReaderMode || isDocumentReadOnly) {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setThumbnailSelectingPages(false));\n    }\n  }, [isReaderMode, isDocumentReadOnly]);\n\n  // if disabled, or is office editor or left panel is not open when we are not in customize mode, return\n  if (isDisabled || isOfficeEditor || (!isLeftPanelOpen && !panelSelector)) {\n    return null;\n  }\n  const onDragEnd = () => {\n    setIsDragging(false);\n    setDraggingOverPageIndex(null);\n  };\n\n  const scrollToRowHelper = (index, change, time) => {\n    const now = new Date().getTime();\n    if (index < pageCount - 1 && index > 0 && now - lastTimeTriggered >= time) {\n      listRef.current?.scrollToRow(Math.floor((index + change) / numberOfColumns));\n      setLastTimeTriggered(now);\n      return index + change;\n    }\n    return index;\n  };\n\n  const onDragOver = (e, index) => {\n    // 'preventDefault' to prevent opening pdf dropped in and 'stopPropagation' to keep parent from opening pdf\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isThumbnailReorderingEnabled && !isThumbnailMergingEnabled) {\n      return;\n    }\n\n    const thumbnail = e.target.getBoundingClientRect();\n    if (numberOfColumns > 1) {\n      // row with more than 1 thumbnail so user are dragging to the left and right\n      setDraggingToPreviousPage(!(e.pageX > thumbnail.x + thumbnail.width / 2));\n    } else {\n      setDraggingToPreviousPage(!(e.pageY > thumbnail.y + thumbnail.height / 2));\n    }\n\n    setDraggingOverPageIndex(index);\n    const virtualizedThumbnailContainerElement = getRootNode().querySelector('#virtualized-thumbnails-container');\n    const { y, bottom } = virtualizedThumbnailContainerElement.getBoundingClientRect();\n\n    if (e.pageY < y + hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, -1, 400));\n    } else if (e.pageY > bottom - hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, 1, 400));\n    }\n  };\n\n  const scrollDown = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, 1, 200));\n  };\n  const scrollUp = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, -1, 200));\n  };\n\n  const onDragStart = (e, index) => {\n    setGlobalIndex(index);\n    setIsDragging(true);\n    const draggingSelectedPage = selectedPageIndexes.some((i) => i === index);\n    const pagesToMove = draggingSelectedPage ? selectedPageIndexes.map((index) => index + 1) : [index + 1];\n    fireEvent(Events.THUMBNAIL_DRAGGED);\n    // need to set 'text' to empty for drag to work in FireFox and mobile\n    e.dataTransfer.setData('text', '');\n\n    if (pagesToMove.length > 1) {\n      // can't set to null so set to new instance of an image\n      e.dataTransfer.setDragImage(new Image(), 0, 0);\n    }\n\n    if (isThumbnailMergingEnabled && isMultipleViewerMerging) {\n      e.dataTransfer.dropEffect = 'move';\n      e.dataTransfer.effectAllowed = 'all';\n      e.dataTransfer.setData(dataTransferWebViewerFrameKey, window.frameElement.id);\n      extractPagesToMerge(pagesToMove);\n    }\n\n    if (!draggingSelectedPage) {\n      dispatch(actions.setSelectedPageThumbnails([index]));\n    }\n\n    core.setCurrentPage(index + 1);\n  };\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n    const insertTo = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n    let externalPageWebViewerFrameId;\n    if (!isIE11) {\n      // at this time of writing, IE11 does not really have support for getData\n      externalPageWebViewerFrameId = e.dataTransfer.getData(dataTransferWebViewerFrameKey);\n    }\n    const mergingDocument =\n      (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) || files.length;\n    const currentPageIndex = currentPage - 1;\n\n    if (isThumbnailMergingEnabled && mergingDocument) {\n      if (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) {\n        dispatch(mergeExternalWebViewerDocument(externalPageWebViewerFrameId, insertTo));\n      } else if (files.length) {\n        Array.from(files).forEach((file) => {\n          dispatch(mergeDocument(file, insertTo));\n        });\n      }\n    } else if (isThumbnailReorderingEnabled && !mergingDocument) {\n      if (draggingOverPageIndex !== null) {\n        const targetPageNumber = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n        const draggingSelectedPage = selectedPageIndexes.some((i) => i === currentPageIndex);\n        const pageNumbersToMove = draggingSelectedPage ? selectedPageIndexes.map((i) => i + 1) : [currentPage];\n        afterMovePageNumber.current = targetPageNumber - pageNumbersToMove.filter((p) => p < targetPageNumber).length;\n        core.movePages(pageNumbersToMove, targetPageNumber);\n        const updatedPagesNumbers = [];\n        for (let offset = 0; offset < pageNumbersToMove.length; offset++) {\n          updatedPagesNumbers.push(afterMovePageNumber.current + offset);\n        }\n        fireEvent(Events.THUMBNAIL_DROPPED, { pageNumbersBeforeMove: pageNumbersToMove, pagesNumbersAfterMove: updatedPagesNumbers, numberOfPagesMoved: updatedPagesNumbers.length });\n      }\n    }\n    setDraggingOverPageIndex(null);\n    setIsDragging(false);\n  };\n\n  const onLoad = (pageIndex, element, id) => {\n    if (!thumbIsLoaded(pageIndex) && !thumbIsPending(pageIndex)) {\n      thumbs.current[pageIndex] = {\n        element,\n        loaded: false,\n      };\n\n      pendingThumbs.current.push({\n        pageIndex,\n        id,\n      });\n    }\n  };\n\n  const removeFromPendingThumbs = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const thumbIsLoaded = (pageIndex) => thumbs.current[pageIndex]?.loaded;\n\n  const thumbIsPending = (pageIndex) => getPendingThumbIndex(pageIndex) !== -1;\n\n  const onCancel = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      core.cancelLoadThumbnail(pendingThumbs.current[index].id);\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const onRightClick = (event, pageIndex) => {\n    event.preventDefault();\n    core.setCurrentPage(pageIndex + 1);\n    if (!selectedPageIndexes.includes(pageIndex)) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n\n    if (isReaderMode || isDocumentReadOnly) {\n      return;\n    }\n\n    dispatch(actions.setPageManipulationOverlayAlternativePosition({ left: event.pageX, right: 'auto', top: event.pageY }));\n    dispatch(actions.openElements([DataElements.PAGE_MANIPULATION_OVERLAY]));\n  };\n\n  const getPendingThumbIndex = (pageIndex) => pendingThumbs.current.findIndex((thumbStatus) => thumbStatus.pageIndex === pageIndex);\n\n  const onRemove = (pageIndex) => {\n    onCancel(pageIndex);\n    const canvases = thumbs.current[pageIndex]?.element?.querySelectorAll('canvas');\n    if (canvases?.length) {\n      canvases.forEach((c) => {\n        c.height = 0;\n        c.width = 0;\n      });\n    }\n\n    if (activeThumbRenders[pageIndex]) {\n      activeThumbRenders[pageIndex].cancel();\n    }\n    thumbs.current[pageIndex] = null;\n  };\n\n  const renderThumbnails = ({ index, key, style }) => {\n    const className = classNames({\n      columnsOfThumbnails: numberOfColumns > 1,\n      row: true,\n    });\n    const allowPageOperationsUI = !(isReaderMode || isDocumentReadOnly);\n\n    return (\n      <div role=\"row\" aria-label=\"row\" className={className} key={key} style={style}>\n        {new Array(numberOfColumns).fill().map((_, columnIndex) => {\n          const thumbIndex = index * numberOfColumns + columnIndex;\n          const allowDragAndDrop = allowPageOperationsUI && (isThumbnailMergingEnabled || isThumbnailReorderingEnabled);\n          const showPlaceHolder = allowDragAndDrop && draggingOverPageIndex === thumbIndex;\n\n          return thumbIndex < pageCount ? (\n            <React.Fragment key={thumbIndex}>\n              {(numberOfColumns > 1 || thumbIndex === 0) && showPlaceHolder && isDraggingToPreviousPage && <div key={`placeholder1-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n              <div key={thumbIndex} role=\"cell\" onDragEnd={onDragEnd} className=\"cellThumbContainer\" onContextMenu={(e) => isRightClickEnabled && onRightClick(e, thumbIndex)}>\n                <Thumbnail\n                  isDraggable={allowDragAndDrop}\n                  isSelected={selectedPageIndexes.includes(thumbIndex)}\n                  index={thumbIndex}\n                  canLoad={canLoad}\n                  onLoad={onLoad}\n                  onCancel={onCancel}\n                  onRemove={onRemove}\n                  onDragStart={onDragStart}\n                  onDragOver={onDragOver}\n                  onFinishLoading={removeFromPendingThumbs}\n                  updateAnnotations={updateAnnotations}\n                  shouldShowControls={allowPageOperationsUI}\n                  thumbnailSize={thumbnailSize}\n                  panelSelector={panelSelector}\n                />\n              </div>\n              {showPlaceHolder && !isDraggingToPreviousPage && <div key={`placeholder2-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n            </React.Fragment>\n          ) : null;\n        })}\n      </div>\n    );\n  };\n\n  const onPanelResize = ({ bounds }) => {\n    setHeight(bounds.height);\n    setWidth(bounds.width);\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(bounds.width / thumbnailSize))));\n  };\n\n  const updateNumberOfColumns = () => {\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(width / thumbnailSize))));\n  };\n\n  const thumbnailHeight = isThumbnailControlDisabled ? Number(thumbnailSize) + 50 : Number(thumbnailSize) + 80;\n  const shouldShowControls = !(isReaderMode || isDocumentReadOnly);\n  const thumbnailAutoScrollAreaStyle = {\n    'height': `${hoverAreaHeight}px`,\n  };\n\n  return (\n    <React.Fragment>\n      {!isThumbnailSliderDisabled && <div data-element=\"thumbnailsSizeSlider\" className=\"thumbnail-slider-container\">\n        <Button\n          img=\"icon-zoom-thumb-out\"\n          title=\"action.zoomOut\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize - Number(ZOOM_RANGE_STEP) > Number(ZOOM_RANGE_STEP)) {\n              setThumbnailSize(thumbnailSize - Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbOutButton\"\n        />\n        <input\n          role='slider'\n          type=\"range\"\n          aria-label='thumbnail size slider'\n          min={ZOOM_RANGE_MIN}\n          max={ZOOM_RANGE_MAX}\n          value={thumbnailSize}\n          aria-valuemin={ZOOM_RANGE_MIN}\n          aria-valuemax={ZOOM_RANGE_MAX}\n          aria-valuenow={thumbnailSize}\n          onChange={(e) => {\n            setThumbnailSize(Number(e.target.value));\n            updateNumberOfColumns();\n          }}\n          step={ZOOM_RANGE_STEP}\n          className=\"thumbnail-slider\"\n          id=\"thumbnailSize\"\n        />\n        <Button\n          img=\"icon-zoom-thumb-in\"\n          title=\"action.zoomIn\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize + Number(ZOOM_RANGE_STEP) < 1001) {\n              setThumbnailSize(thumbnailSize + Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbInButton\"\n        />\n      </div>}\n      <Measure bounds onResize={onPanelResize} key={thumbnailSize}>\n        {({ measureRef }) => (\n          <div className={`Panel ThumbnailsPanel ${panelSelector}`} id=\"virtualized-thumbnails-container\" data-element=\"thumbnailsPanel\" onDrop={onDrop} ref={measureRef}>\n            <div className=\"virtualized-thumbnails-container\">\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollUp} style={thumbnailAutoScrollAreaStyle}></div> : ''\n              }\n              <List\n                ref={listRef}\n                height={height}\n                width={width}\n                rowHeight={thumbnailHeight}\n                // Round it to a whole number because React-Virtualized list library doesn't round it for us and throws errors when rendering non whole number rows\n                // use ceiling rather than floor so that an extra row can be created in case the items can't be evenly distributed between rows\n                rowCount={Math.ceil(pageCount / numberOfColumns)}\n                rowRenderer={renderThumbnails}\n                overscanRowCount={3}\n                className={'thumbnailsList'}\n                style={{ outline: 'none' }}\n                // Ensure we show the current page in the thumbnails when we open the panel\n                scrollToIndex={Math.floor((currentPage - 1) / numberOfColumns)}\n                role='grid'\n                aria-label={t('component.thumbnailsPanel')}\n              />\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollDown} style={{ ...thumbnailAutoScrollAreaStyle, 'bottom': '70px' }}></div> : ''\n              }\n            </div>\n          </div>\n        )}\n      </Measure>\n      <DocumentControls shouldShowControls={shouldShowControls} parentElement={parentDataElement || panelSelector}/>\n    </React.Fragment>\n  );\n};\n\nexport default ThumbnailsPanel;\n","import ThumbnailsPanel from './ThumbnailsPanel';\n\nexport default ThumbnailsPanel;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport core from 'core';\nimport PropTypes from 'prop-types';\n\nimport Button from '../Button';\nimport DataElementWrapper from '../DataElementWrapper';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport Choice from 'components/Choice';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  defaultLabel: PropTypes.string,\n  pageIndex: PropTypes.number.isRequired,\n  isAdding: PropTypes.bool,\n  isMultiSelectionMode: PropTypes.bool,\n  setSelected: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  onRemove: PropTypes.func,\n  onCancel: PropTypes.func,\n  panelSelector: PropTypes.string,\n};\n\nconst Bookmark = ({\n  text,\n  label,\n  defaultLabel,\n  pageIndex,\n  isAdding,\n  isMultiSelectionMode,\n  setSelected,\n  onSave,\n  onRemove,\n  onCancel,\n  panelSelector,\n}) => {\n  const [t] = useTranslation();\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [isDefault, setIsDefault] = useState(false);\n  const [bookmarkText, setBookmarkText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const [clearSingleClick, setClearSingleClick] = useState(undefined);\n  const inputRef = useRef();\n\n  const isRenameButtonDisabled = () => {\n    return !bookmarkText || text === bookmarkText;\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding || (isEditing && !isRenameButtonDisabled())) {\n        onSaveBookmark();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelBookmark();\n    }\n  };\n\n  const onSaveBookmark = () => {\n    setIsEditing(false);\n    onSave(bookmarkText.trim() === '' ? t('message.untitled') : bookmarkText);\n  };\n\n  const onCancelBookmark = () => {\n    setIsEditing(false);\n    // on cancel reset local bookmark text\n    isEditing && setBookmarkText(text);\n    isAdding && onCancel();\n  };\n\n  const setCurrentPage = (pageIndex) => {\n    core.setCurrentPage(pageIndex + 1);\n  };\n\n  useEffect(() => {\n    if (bookmarkText !== text) {\n      setBookmarkText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isEditing) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    if (!isAdding && !isEditing) {\n      setIsDefault(true);\n    } else {\n      setIsDefault(false);\n    }\n  }, [isEditing]);\n\n  return (\n    <DataElementWrapper\n      className={classNames({\n        'bookmark-outline-single-container': true,\n        'editing': isAdding || isEditing,\n        'default': isDefault,\n        'hover': isContextMenuOpen,\n      })}\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          setCurrentPage(pageIndex);\n        }\n      }}\n      onClick={(e) => {\n        if (isDefault && e.detail === 1) {\n          setClearSingleClick(setTimeout(() => {\n            setCurrentPage(pageIndex);\n          }, 300));\n        }\n      }}\n      onDoubleClick={() => {\n        if (isDefault) {\n          clearTimeout(clearSingleClick);\n        }\n      }}\n    >\n      {isMultiSelectionMode &&\n        <Choice\n          type=\"checkbox\"\n          className=\"bookmark-outline-checkbox\"\n          id={`bookmark-checkbox-${pageIndex + 1}`}\n          onClick={(e) => e.stopPropagation()}\n          onChange={(e) => setSelected(pageIndex, e.target.checked)}\n        />\n      }\n\n      <div className=\"bookmark-outline-label-row\">\n        <div className=\"bookmark-outline-label\">{(isAdding || isEditing) ? label : defaultLabel}</div>\n\n        {isDefault &&\n          <>\n            {isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${pageIndex}`}\n                img=\"icon-pencil-line\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setIsEditing(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {!isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                img=\"icon-tool-more\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setContextMenuOpen(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {isContextMenuOpen && (\n              <MoreOptionsContextMenuPopup\n                type={'bookmark'}\n                anchorButton={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                shouldDisplayDeleteButton={true}\n                onClosePopup={() => setContextMenuOpen(false)}\n                onRenameClick={() => {\n                  setContextMenuOpen(false);\n                  setIsEditing(true);\n                }}\n                onDeleteClick={() => {\n                  setContextMenuOpen(false);\n                  onRemove(pageIndex);\n                }}\n              />\n            )}\n\n            <div\n              className=\"bookmark-outline-text bookmark-text-input\"\n              onDoubleClick={() => setIsEditing(true)}\n            >\n              {text}\n            </div>\n          </>\n        }\n\n        {(isAdding || isEditing) &&\n          <>\n            <input\n              type=\"text\"\n              name=\"bookmark\"\n              ref={inputRef}\n              className=\"bookmark-outline-input bookmark-text-input\"\n              placeholder={t('component.bookmarkTitle')}\n              aria-label={t('action.name')}\n              value={bookmarkText}\n              onKeyDown={handleKeyDown}\n              onChange={(e) => setBookmarkText(e.target.value)}\n            />\n\n            <div className=\"bookmark-outline-editing-controls\">\n              <Button\n                className=\"bookmark-outline-cancel-button\"\n                label={t('action.cancel')}\n                onClick={onCancelBookmark}\n              />\n              {isAdding &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.add')}\n                  isSubmitType\n                  onClick={onSaveBookmark}\n                />\n              }\n              {isEditing &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.save')}\n                  isSubmitType\n                  disabled={isRenameButtonDisabled()}\n                  onClick={onSaveBookmark}\n                />\n              }\n            </div>\n          </>\n        }\n      </div>\n    </DataElementWrapper>\n  );\n};\n\nBookmark.propTypes = propTypes;\n\nexport default Bookmark;\n","import Bookmark from './Bookmark';\n\nexport default Bookmark;\n","import React, { useEffect, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Bookmark from 'components/Bookmark';\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport Choice from 'components/Choice';\n\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './BookmarksPanel.scss';\n\nconst BookmarksPanel = ({ panelSelector }) => {\n  const [\n    isDisabled,\n    bookmarks,\n    currentPageIndex,\n    pageLabels,\n    isBookmarkIconShortcutVisible\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.BOOKMARK_PANEL),\n      selectors.getBookmarks(state),\n      selectors.getCurrentPage(state) - 1,\n      selectors.getPageLabels(state),\n      selectors.isBookmarkIconShortcutVisible(state),\n    ],\n    shallowEqual,\n  );\n\n  const [isAddingNewBookmark, setAddingNewBookmark] = useState(false);\n  const [isMultiSelectionMode, setMultiSelectionMode] = useState(false);\n  const [selectingBookmarks, setSelectingBookmarks] = useState([]);\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isBookmarkIconShortcutVisible && !isDisabled) {\n      core.setBookmarkIconShortcutVisibility(true);\n    } else {\n      core.setBookmarkIconShortcutVisibility(false);\n    }\n  }, [isDisabled, isBookmarkIconShortcutVisible]);\n\n  const pageIndexes = Object.keys(bookmarks).map((pageIndex) => parseInt(pageIndex, 10));\n\n  useEffect(() => {\n    // if bookmark is deleted from the shortcut, should also remove from selectingBookmarks\n    selectingBookmarks.forEach((index) => {\n      if (!pageIndexes.includes(index)) {\n        setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n      }\n    });\n\n    const shouldResetMultiSelectMode = pageIndexes.length === 0;\n    if (shouldResetMultiSelectMode) {\n      setMultiSelectionMode(false);\n    }\n  }, [bookmarks]);\n\n  const onRemoveBookmarks = (pageIndexes) => {\n    const title = t('warning.deleteBookmark.title');\n    const message = t('warning.deleteBookmark.message');\n    const confirmationWarning = {\n      message,\n      title,\n      onConfirm: () => {\n        pageIndexes.forEach((pageIndex) => dispatch(actions.removeBookmark(pageIndex)));\n        setSelectingBookmarks([]);\n      },\n      confirmBtnText: t('action.delete'),\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={`Panel BookmarksPanel bookmark-outline-panel ${panelSelector}`}\n      data-element={DataElements.BOOKMARK_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.bookmarksPanel')}\n        </div>\n        {!isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('action.edit')}\n            disabled={isAddingNewBookmark || pageIndexes.length === 0}\n            onClick={() => setMultiSelectionMode(true)}\n          />\n        }\n        {isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('option.bookmarkOutlineControls.done')}\n            disabled={isAddingNewBookmark}\n            onClick={() => {\n              setMultiSelectionMode(false);\n              setSelectingBookmarks([]);\n            }}\n          />\n        }\n      </div>\n\n      <Choice\n        dataElement={DataElements.BOOKMARK_SHORTCUT_OPTION}\n        type=\"checkbox\"\n        isSwitch\n        id=\"bookmark-view-option\"\n        className=\"bookmark-switch\"\n        label={t('message.viewBookmark')}\n        checked={isBookmarkIconShortcutVisible}\n        onChange={(e) => dispatch(actions.setBookmarkIconShortcutVisibility(e.target.checked))}\n      />\n\n      {!isAddingNewBookmark && pageIndexes.length === 0 && (\n        <div className=\"msg msg-no-bookmark-outline\">{t('message.noBookmarks')}</div>\n      )}\n\n      <div className=\"bookmark-outline-row\">\n        {isAddingNewBookmark &&\n          <Bookmark\n            isAdding\n            label={`${t('component.bookmarkPage')} ${pageLabels[currentPageIndex]} - ${t('component.bookmarkTitle')}`}\n            text={bookmarks[currentPageIndex] ?? ''}\n            pageIndex={currentPageIndex}\n            onSave={(newText) => {\n              dispatch(actions.addBookmark(currentPageIndex, newText));\n              setAddingNewBookmark(false);\n            }}\n            onCancel={() => setAddingNewBookmark(false)}\n            panelSelector={panelSelector}\n          />\n        }\n\n        {pageIndexes.map((pageIndex) => (\n          <Bookmark\n            key={pageIndex}\n            panelSelector={panelSelector}\n            isMultiSelectionMode={isMultiSelectionMode}\n            label={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]} - ${t('component.bookmarkTitle')}`}\n            defaultLabel={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]}`}\n            text={bookmarks[pageIndex]}\n            pageIndex={pageIndex}\n            onSave={(newText) => dispatch(actions.editBookmark(pageIndex, newText))}\n            onRemove={(index) => onRemoveBookmarks([index])}\n            setSelected={(index, val) => {\n              if (selectingBookmarks.find((bm) => bm === index)) {\n                if (!val) {\n                  setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n                }\n              } else {\n                if (val) {\n                  setSelectingBookmarks([...selectingBookmarks, index]);\n                }\n              }\n            }}\n          />\n        ))}\n      </div>\n\n      <DataElementWrapper\n        className=\"bookmark-outline-footer\"\n        dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON_CONTAINER}\n      >\n        {isMultiSelectionMode ?\n          <>\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-menu-add\"\n              disabled={selectingBookmarks.length > 0 || !!bookmarks[currentPageIndex] || isAddingNewBookmark}\n              onClick={() => setAddingNewBookmark(true)}\n            />\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-delete-line\"\n              disabled={selectingBookmarks.length === 0}\n              onClick={() => onRemoveBookmarks(selectingBookmarks)}\n            />\n          </>\n          :\n          <Button\n            className=\"bookmark-outline-control-button add-new-button\"\n            img=\"icon-menu-add\"\n            dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON}\n            label={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n            disabled={isAddingNewBookmark || !!bookmarks[currentPageIndex]}\n            onClick={() => setAddingNewBookmark(true)}\n          />\n        }\n      </DataElementWrapper>\n    </div>\n  );\n};\n\nexport default BookmarksPanel;\n","import BookmarksPanel from './BookmarksPanel';\n\nexport default BookmarksPanel;\n","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { getFileAttachments, getEmbeddedFileData } from 'helpers/getFileAttachments';\r\nimport Spinner from '../Spinner';\r\nimport { saveAs } from 'file-saver';\r\nimport Icon from 'components/Icon';\r\nimport core from 'core';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport selectors from 'selectors';\r\nimport actions from 'actions';\r\nimport DataElements from 'constants/dataElement';\r\n\r\nimport './FileAttachmentPanel.scss';\r\nimport { panelData, panelNames } from 'constants/panel';\r\n\r\nconst getActualFileName = (filename) => {\r\n  const fileNameRegex = /[^\\\\\\/]+$/g;\r\n  return filename.match(fileNameRegex)[0];\r\n};\r\n\r\nconst renderAttachment = (filename, onClickCallback, key, showFileIdProcessSpinner) => {\r\n  filename = getActualFileName(filename);\r\n  const fileExtension = filename.split('.').pop().toUpperCase();\r\n  if (showFileIdProcessSpinner === key) {\r\n    return (\r\n      <li onClick={onClickCallback} key={key}>\r\n        <div className='embedSpinner'>{`[${fileExtension}] ${filename}`}<Spinner height={15} width={15}/></div>\r\n      </li>\r\n    );\r\n  }\r\n  return (\r\n    <li onClick={onClickCallback} key={key}>\r\n      {`[${fileExtension}] ${filename}`}\r\n    </li>\r\n  );\r\n};\r\n\r\nconst initialFilesDefault = { embeddedFiles: [], fileAttachmentAnnotations: [] };\r\n\r\nconst FileAttachmentPanel = ({ initialFiles = initialFilesDefault }) => {\r\n  const [t] = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const [fileAttachments, setFileAttachments] = useState(initialFiles);\r\n  const isMultiTab = useSelector(selectors.getIsMultiTab);\r\n  const tabManager = useSelector(selectors.getTabManager);\r\n  const [showFileIdProcessSpinner, setFileIdProcessSpinner] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const updateFileAttachments = async () => {\r\n      const attachments = await getFileAttachments();\r\n      setFileAttachments(attachments);\r\n    };\r\n    core.addEventListener('annotationChanged', updateFileAttachments);\r\n    core.addEventListener('documentLoaded', updateFileAttachments);\r\n    updateFileAttachments();\r\n    return () => {\r\n      core.removeEventListener('annotationChanged', updateFileAttachments);\r\n      core.removeEventListener('documentLoaded', updateFileAttachments);\r\n    };\r\n  }, []);\r\n\r\n  if (\r\n    fileAttachments.embeddedFiles.length === 0 &&\r\n    Object.entries(fileAttachments.fileAttachmentAnnotations).length === 0\r\n  ) {\r\n    return (\r\n      <div className=\"fileAttachmentPanel\">\r\n        <div className=\"empty-panel-container\">\r\n          <Icon className=\"empty-icon\" glyph={panelData[panelNames.FILE_ATTACHMENT].icon}/>\r\n          <div className=\"empty-message\">{t('message.noAttachments')}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const attachmentPanelItemOnClick = async (fileAttachmentAnnot) => {\r\n    if (isMultiTab) {\r\n      dispatch(actions.openElement(DataElements.LOADING_MODAL));\r\n      setTimeout(async () => {\r\n        const blob = await fileAttachmentAnnot.getFileData();\r\n        const filename = getActualFileName(fileAttachmentAnnot.filename);\r\n        const newTabId = await tabManager.addTab(blob, { filename });\r\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\r\n        dispatch(actions.closeElement(DataElements.LEFT_PANEL));\r\n        await tabManager.setActiveTab(newTabId);\r\n      }, 100);\r\n    } else {\r\n      return core.getAnnotationManager().trigger('annotationDoubleClicked', fileAttachmentAnnot);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fileAttachmentPanel\">\r\n      <div className=\"section\">\r\n        {fileAttachments.embeddedFiles.length ? <p className=\"title\">{t('message.embeddedFiles')}</p> : null}\r\n        <ul className=\"downloadable\">\r\n          {fileAttachments.embeddedFiles.map((file, idx) => renderAttachment(\r\n            getActualFileName(file.filename),\r\n            () => {\r\n              setFileIdProcessSpinner(`embeddedFile_${idx}`);\r\n              getEmbeddedFileData(file.fileObject).then((blob) => {\r\n                saveAs(blob, getActualFileName(file.filename));\r\n              }).finally(() => {\r\n                setFileIdProcessSpinner(null);\r\n              });\r\n            },\r\n            `embeddedFile_${idx}`,\r\n            showFileIdProcessSpinner\r\n          )\r\n          )}\r\n        </ul>\r\n      </div>\r\n\r\n      {Object.entries(fileAttachments.fileAttachmentAnnotations).map(([pageNumber, fileAttachmentAnnotsPerPage]) => {\r\n        return (\r\n          <div key={pageNumber} className=\"section\">\r\n            <p className=\"title\">\r\n              {t('message.pageNum')}: {pageNumber}\r\n            </p>\r\n            <ul className=\"downloadable\">\r\n              {fileAttachmentAnnotsPerPage.map((fileAttachmentAnnot, idx) => renderAttachment(\r\n                getActualFileName(fileAttachmentAnnot.filename),\r\n                async () => {\r\n                  core.setCurrentPage(fileAttachmentAnnot['PageNumber']);\r\n                  core.selectAnnotation(fileAttachmentAnnot);\r\n                  await attachmentPanelItemOnClick(fileAttachmentAnnot);\r\n                },\r\n                `fileAttachmentAnnotation_${idx}`,\r\n              ),\r\n              )}\r\n            </ul>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileAttachmentPanel;\r\n","import FileAttachmentPanel from './FileAttachmentPanel';\r\n\r\nexport default FileAttachmentPanel;\r\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { TargetConnector, DropTargetMonitorImpl, registerTarget } from '../internals';\nimport { isPlainObject, isValidType } from './utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\n/**\n * @param type The accepted target type\n * @param spec The DropTarget specification\n * @param collect The props collector function\n * @param options Options\n */\n\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"beginDrag\", function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    });\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { registerSource, DragSourceMonitorImpl, SourceConnector } from '../internals';\nimport { checkDecoratorArguments, isPlainObject, isValidType } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","import { __assign, __rest } from \"tslib\";\nimport classnames from 'classnames';\nimport React, { forwardRef, useMemo } from 'react';\nimport { useFocus } from '../../hooks';\nimport { Icon } from '../Icon';\nexport var Input = forwardRef(function (_a, ref) {\n    var _b = _a.message, message = _b === void 0 ? 'default' : _b, messageText = _a.messageText, fillWidth = _a.fillWidth, wrapperClassName = _a.wrapperClassName, padMessageText = _a.padMessageText, className = _a.className, onFocus = _a.onFocus, onBlur = _a.onBlur, rightElement = _a.rightElement, leftElement = _a.leftElement, _c = _a.type, type = _c === void 0 ? 'text' : _c, props = __rest(_a, [\"message\", \"messageText\", \"fillWidth\", \"wrapperClassName\", \"padMessageText\", \"className\", \"onFocus\", \"onBlur\", \"rightElement\", \"leftElement\", \"type\"]);\n    var _d = useFocus(onFocus, onBlur), focused = _d.focused, handleOnFocus = _d.handleOnFocus, handleOnBlur = _d.handleOnBlur;\n    var rightIcon = useMemo(function () {\n        if (rightElement)\n            return rightElement;\n        var icon = undefined;\n        switch (message) {\n            case 'warning':\n                icon = 'Warning';\n                break;\n            case 'error':\n                icon = 'Error';\n                break;\n        }\n        return icon ? React.createElement(Icon, { className: \"ui__input__icon\", icon: icon }) : undefined;\n    }, [message, rightElement]);\n    var wrapperClass = classnames('ui__base ui__input__wrapper', {\n        'ui__input__wrapper--fill': fillWidth,\n        'ui__input__wrapper--pad': padMessageText && !messageText,\n    }, wrapperClassName);\n    var mainClass = classnames('ui__input', \"ui__input--message-\" + message, { 'ui__input--focused': focused });\n    var inputClass = classnames('ui__input__input', { 'ui__input__input--disabled': props.disabled }, className);\n    return (React.createElement(\"div\", { className: wrapperClass },\n        React.createElement(\"div\", { className: mainClass },\n            leftElement,\n            React.createElement(\"input\", __assign({}, props, { type: type, onFocus: handleOnFocus, onBlur: handleOnBlur, className: inputClass, ref: ref })),\n            rightIcon),\n        messageText ? React.createElement(\"div\", { className: \"ui__input__messageText\" }, messageText) : undefined));\n});\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanelTabs.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.LeftPanelTabs{display:flex;flex:1;border-radius:4px;border:1px solid var(--border)}.LeftPanelTabs .Button{flex-grow:1;height:26px;margin:0;border-radius:0}.LeftPanelTabs .Button:not(:last-child){border-right:1px solid var(--divider)}.LeftPanelTabs .Button:first-child{border-bottom-left-radius:4px;border-top-left-radius:4px}.LeftPanelTabs .Button:last-child{border-bottom-right-radius:4px;border-top-right-radius:4px}.LeftPanelTabs .Button .Icon{width:19px;height:19px}.LeftPanelTabs .Button:hover{background:var(--popup-button-hover)}.LeftPanelTabs .Button.active{background:var(--popup-button-active)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PortfolioItemContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".PortfolioPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-label-row{align-items:center}.PortfolioPanel .bookmark-outline-single-container .bookmark-outline-text{flex-basis:calc(100% - 38px)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input{-webkit-font-smoothing:antialiased}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input{border-color:var(--border)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-error{border-color:var(--error-border-color)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-error.ui__input--focused{box-shadow:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-error .ui__input__icon{display:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input.ui__input--message-default.ui__input--focused{border-color:var(--outline-color);box-shadow:none}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input{padding:var(--padding-small);color:var(--text-color);height:auto;overflow:auto;line-height:normal}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input::-moz-placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input:-ms-input-placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input .ui__input__input::placeholder{color:var(--placeholder-text)}.PortfolioPanel .bookmark-outline-single-container .portfolio-input .ui__input__messageText{color:var(--error-text-color);margin-top:var(--padding-small);font-size:inherit}.PortfolioPanel .bookmark-outline-single-container .portfolio-item-icon{margin-right:5px}.PortfolioPanel .bookmark-outline-single-container .portfolio-item-icon .Icon{width:15px;height:15px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PortfolioItem.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PortfolioPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PortfolioPanel .portfolio-panel-control{display:flex}.PortfolioPanel .bookmark-outline-row{padding-top:6px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlinesPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".OutlinesPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.OutlinesPanel .bookmark-outline-row{padding-top:6px}.OutlinesPanel .msg-no-bookmark-outline{margin-top:6px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.LeftPanel .Panel{overflow:auto;-webkit-overflow-scrolling:touch;flex:1;flex-direction:column}.LeftPanel{z-index:65;display:flex!important;flex-direction:column;background-color:var(--panel-background);display:flex;flex-direction:row;justify-content:flex-end;overflow:hidden;position:fixed;left:0;transition:transform .3s ease-in-out;max-width:calc(100% - 16px);height:calc(100% - 40px)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{max-width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{max-width:100%}}.LeftPanel.logo-bar-enabled{height:calc(100% - 24px)}.LeftPanel.tools-header-open{height:calc(100% - 80px)}.LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 104px)}.LeftPanel.multi-tab-active{height:calc(100% - 120px)}.LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 144px)}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active{height:calc(100% - 140px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active{height:calc(100% - 140px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@media(min-width:901px){.App:not(.is-web-component) .LeftPanel{height:calc(100% - 40px)}.App:not(.is-web-component) .LeftPanel.logo-bar-enabled{height:calc(100% - 64px)}.App:not(.is-web-component) .LeftPanel.tools-header-open{height:calc(100% - 74px)}.App:not(.is-web-component) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 98px)}.App:not(.is-web-component) .LeftPanel.multi-tab-active{height:calc(100% - 120px)}.App:not(.is-web-component) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 144px)}}@container (min-width: 901px){.LeftPanel{height:calc(100% - 40px)}.LeftPanel.logo-bar-enabled{height:calc(100% - 64px)}.LeftPanel.tools-header-open{height:calc(100% - 74px)}.LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 98px)}.LeftPanel.multi-tab-active{height:calc(100% - 120px)}.LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 144px)}}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{height:calc(100% - 37px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.logo-bar-enabled{height:calc(100% - 61px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open{height:calc(100% - 76px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 100px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active{height:calc(100% - 115px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 139px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden{height:100%}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden.logo-bar-enabled{height:calc(100% - 24px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden.multi-tab-active{height:calc(100% - 140px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-and-header-hidden.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{height:calc(100% - 37px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.logo-bar-enabled{height:calc(100% - 61px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open{height:calc(100% - 76px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 100px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active{height:calc(100% - 115px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.multi-tab-active.logo-bar-enabled{height:calc(100% - 139px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden{height:100%}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden.logo-bar-enabled{height:calc(100% - 24px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden.multi-tab-active{height:calc(100% - 140px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-and-header-hidden.multi-tab-active.logo-bar-enabled{height:calc(100% - 164px)}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{height:calc(100% - 53px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.logo-bar-enabled{height:calc(100% - 77px)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{height:calc(100% - 53px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.logo-bar-enabled{height:calc(100% - 77px)}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open{height:calc(100% - 104px)}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 128px)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open{height:calc(100% - 104px)}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel.tools-header-open.logo-bar-enabled{height:calc(100% - 128px)}}.LeftPanel.closed{transform:translateX(-100%)}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{border-right:1px solid var(--side-panel-border)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{border-right:1px solid var(--side-panel-border)}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel{position:fixed;top:0;left:0;height:100%;width:100%;z-index:95}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel{position:fixed;top:0;left:0;height:100%;width:100%;z-index:95}}.LeftPanel .left-panel-container{display:flex;flex-direction:column;padding:16px 16px 0}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container{padding-top:0;width:100%;min-width:100%}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container .close-container{display:flex;align-items:center;justify-content:flex-end;height:64px;width:100%;padding-right:5px;top:0}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container .close-container .close-icon-container{cursor:pointer}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .LeftPanel .left-panel-container .close-container .close-icon-container .close-icon{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container{padding-top:0;width:100%;min-width:100%}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container .close-container{display:flex;align-items:center;justify-content:flex-end;height:64px;width:100%;padding-right:5px;top:0}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container .close-container .close-icon-container{cursor:pointer}.App.is-web-component:not(.is-in-desktop-only-mode) .LeftPanel .left-panel-container .close-container .close-icon-container .close-icon{width:24px;height:24px}}.LeftPanel .left-panel-header{display:flex;align-items:center;margin:0 8px 16px 16px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\n\nimport Button from 'components/Button';\nimport Element from 'components/Element';\n\nimport DataElements from 'constants/dataElement';\n\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport './LeftPanelTabs.scss';\n\nclass LeftPanelTabs extends React.Component {\n  static propTypes = {\n    isLeftPanelOpen: PropTypes.bool,\n    showPortfolio: PropTypes.bool,\n    activePanel: PropTypes.string.isRequired,\n    disabledCustomPanelTabs: PropTypes.array.isRequired,\n    customPanels: PropTypes.array.isRequired,\n    isLeftPanelTabsDisabled: PropTypes.bool,\n    setActiveLeftPanel: PropTypes.func.isRequired,\n    t: PropTypes.func.isRequired,\n  };\n\n  isActive = (panel) => this.props.activePanel === panel;\n\n  render() {\n    const {\n      isLeftPanelOpen,\n      showPortfolio,\n      customPanels,\n      isLeftPanelTabsDisabled,\n      setActiveLeftPanel,\n      notesInLeftPanel,\n      openElement,\n    } = this.props;\n\n    if (isLeftPanelTabsDisabled) {\n      return null;\n    }\n\n    return (\n      <Element className=\"LeftPanelTabs\" dataElement=\"leftPanelTabs\">\n        {showPortfolio &&\n          <Button\n            isActive={this.isActive(DataElements.PORTFOLIO_PANEL)}\n            dataElement={DataElements.PORTFOLIO_PANEL_BUTTON}\n            img=\"icon-compare-change\"\n            onClick={() => setActiveLeftPanel(DataElements.PORTFOLIO_PANEL)}\n            title=\"portfolio.portfolioPanelTitle\"\n            tabIndex={isLeftPanelOpen ? 0 : -1}\n          />}\n        <Button\n          isActive={this.isActive('thumbnailsPanel')}\n          dataElement=\"thumbnailsPanelButton\"\n          img=\"icon-panel-thumbnail-line\"\n          onClick={() => setActiveLeftPanel('thumbnailsPanel')}\n          title=\"component.thumbnailsPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('outlinesPanel')}\n          dataElement=\"outlinesPanelButton\"\n          img=\"icon-panel-outlines\"\n          onClick={() => setActiveLeftPanel('outlinesPanel')}\n          title=\"component.outlinesPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('layersPanel')}\n          dataElement=\"layersPanelButton\"\n          img=\"ic_layers_24px\"\n          onClick={() => setActiveLeftPanel('layersPanel')}\n          title=\"component.layersPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('bookmarksPanel')}\n          dataElement=\"bookmarksPanelButton\"\n          img=\"ic_bookmarks_black_24px\"\n          onClick={() => setActiveLeftPanel('bookmarksPanel')}\n          title=\"component.bookmarksPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('signaturePanel')}\n          dataElement=\"signaturePanelButton\"\n          img=\"icon-tool-signature\"\n          onClick={() => setActiveLeftPanel('signaturePanel')}\n          title=\"component.signaturePanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        <Button\n          isActive={this.isActive('attachmentPanel')}\n          dataElement=\"attachmentPanelButton\"\n          img=\"ic_fileattachment_24px\"\n          onClick={() => setActiveLeftPanel('attachmentPanel')}\n          title=\"component.attachmentPanel\"\n          tabIndex={isLeftPanelOpen ? 0 : -1}\n        />\n        {notesInLeftPanel &&\n          <Button\n            isActive={this.isActive(DataElements.NOTES_PANEL)}\n            dataElement=\"notesPanelButton\"\n            img=\"icon-header-chat-line\"\n            onClick={() => {\n              openElement(DataElements.NOTES_PANEL);\n              setActiveLeftPanel(DataElements.NOTES_PANEL);\n            }}\n            title=\"component.notesPanel\"\n          />}\n        {customPanels.map(({ panel, tab }, index) => <React.Fragment key={index}>\n          <Button\n            key={tab.dataElement || index}\n            isActive={this.isActive(panel.dataElement)}\n            dataElement={tab.dataElement}\n            img={tab.img}\n            onClick={() => setActiveLeftPanel(panel.dataElement)}\n            title={tab.title}\n          />\n          {index < customPanels.length - 1 && <div className=\"divider\" />}\n        </React.Fragment>,\n        )}\n      </Element>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isLeftPanelOpen: selectors.isElementOpen(state, 'leftPanel'),\n  activePanel: selectors.getActiveLeftPanel(state),\n  customPanels: selectors.getCustomPanels(state),\n  disabledCustomPanelTabs: selectors.getDisabledCustomPanelTabs(state),\n  isLeftPanelTabsDisabled: selectors.isElementDisabled(state, 'leftPanelTabs'),\n  notesInLeftPanel: selectors.getNotesInLeftPanel(state),\n});\n\nconst mapDispatchToProps = {\n  setActiveLeftPanel: actions.setActiveLeftPanel,\n  openElement: actions.openElement,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withTranslation()(LeftPanelTabs));\n","import LeftPanelTabs from './LeftPanelTabs';\n\nexport default LeftPanelTabs;","import React from 'react';\n\nconst PortfolioContext = React.createContext();\n\nexport default PortfolioContext;","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\n\nimport { Input } from '@pdftron/webviewer-react-toolkit';\nimport Button from 'components/Button';\nimport Icon from 'components/Icon';\nimport PortfolioContext from 'components/PortfolioPanel/PortfolioContext';\nimport MoreOptionsContextMenuPopup from 'components/MoreOptionsContextMenuPopup';\nimport { isOpenableFile } from 'helpers/portfolio';\n\nimport './PortfolioItemContent.scss';\n\nconst propTypes = {\n  portfolioItem: PropTypes.object.isRequired,\n  isAdding: PropTypes.bool,\n  isPortfolioRenaming: PropTypes.bool,\n  setPortfolioRenaming: PropTypes.func,\n  setIsHovered: PropTypes.func,\n};\n\nconst PortfolioItemContent = ({\n  portfolioItem,\n  isAdding,\n  isPortfolioRenaming,\n  setPortfolioRenaming,\n  setIsHovered,\n}) => {\n  const {\n    setAddingNewFolder,\n    addNewFolder,\n    refreshPortfolio,\n    renamePortfolioItem,\n    removePortfolioItem,\n    openPortfolioItem,\n    downloadPortfolioItem,\n    isNameDuplicated,\n  } = useContext(PortfolioContext);\n\n  const { name, nameWithoutExtension, extension, id, isFolder } = portfolioItem;\n\n  const [t] = useTranslation();\n  const inputRef = useRef();\n  const [isDefault, setIsDefault] = useState(false);\n  const [portfolioEditName, setPortfolioEditName] = useState(nameWithoutExtension);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n\n  const getIcon = () => {\n    return isFolder ? 'icon-folder' : 'icon-header-page-manipulation-page-layout-single-page-line';\n  };\n\n  const isRenameButtonDisabled = () => {\n    return !portfolioEditName || nameWithoutExtension === portfolioEditName || isNameDuplicated(`${portfolioEditName}.${extension}`, id);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding) {\n        onAddFolder();\n      }\n      if (isPortfolioRenaming && !isRenameButtonDisabled()) {\n        onRenamePortfolioItem();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelPortfolio();\n    }\n  };\n\n  const onAddFolder = () => {\n    addNewFolder(portfolioEditName.trim() === '' ? '' : portfolioEditName);\n  };\n\n  const onRenamePortfolioItem = () => {\n    setPortfolioRenaming(false);\n    renamePortfolioItem(id, `${portfolioEditName}.${extension}`);\n  };\n\n  const onCancelPortfolio = () => {\n    if (isPortfolioRenaming) {\n      setPortfolioRenaming(false);\n      setPortfolioEditName(nameWithoutExtension);\n    }\n    if (isAdding) {\n      setAddingNewFolder(false);\n    }\n    refreshPortfolio();\n  };\n\n  const duplicatedMessage = () => {\n    if (!isNameDuplicated(`${portfolioEditName}.${extension}`, id)) {\n      return '';\n    }\n    return isFolder ? t('portfolio.folderNameAlreadyExists') : t('portfolio.fileNameAlreadyExists');\n  };\n\n  useEffect(() => {\n    // when in adding or renaming mode, input is automatically focused\n    if (isAdding || isPortfolioRenaming) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    setIsDefault(!isAdding && !isPortfolioRenaming);\n  }, [isAdding, isPortfolioRenaming]);\n\n  useEffect(() => {\n    if (!isAdding) {\n      setIsHovered(isContextMenuOpen);\n    }\n  }, [isContextMenuOpen]);\n\n  return (\n    <div className=\"bookmark-outline-label-row\">\n      {isAdding &&\n        <div className=\"bookmark-outline-label\">\n          {t('portfolio.portfolioNewFolder')}\n        </div>\n      }\n\n      {isDefault &&\n        <>\n          <span className=\"portfolio-item-icon\">\n            <Icon glyph={getIcon()} color={'inherit'} />\n          </span>\n          <div\n            className=\"bookmark-outline-text outline-text\"\n          >\n            {name}\n          </div>\n\n          <Button\n            className=\"bookmark-outline-more-button\"\n            dataElement={`portfolio-item-more-button-${id}`}\n            img=\"icon-tool-more\"\n            tabIndex={-1}\n            onClick={(e) => {\n              e.stopPropagation(); // click on this button won't select the file/folder\n              setContextMenuOpen(true);\n            }}\n          />\n\n          {isContextMenuOpen &&\n            <MoreOptionsContextMenuPopup\n              type={'portfolio'}\n              anchorButton={`portfolio-item-more-button-${id}`}\n              onClosePopup={() => setContextMenuOpen(false)}\n              onRenameClick={() => {\n                setContextMenuOpen(false);\n                setPortfolioRenaming(true);\n              }}\n              onDownloadClick={() => {\n                setContextMenuOpen(false);\n                downloadPortfolioItem(portfolioItem);\n              }}\n              shouldDisplayDeleteButton={true}\n              onDeleteClick={() => {\n                setContextMenuOpen(false);\n                removePortfolioItem(id);\n              }}\n              onOpenClick={isOpenableFile(extension) ? () => {\n                setContextMenuOpen(false);\n                openPortfolioItem(portfolioItem);\n              } : null}\n            />\n          }\n        </>\n      }\n\n      {(isAdding || isPortfolioRenaming) &&\n        <>\n          <Input\n            type=\"text\"\n            name=\"outline\"\n            ref={inputRef}\n            wrapperClassName=\"portfolio-input\"\n            placeholder={isFolder ? t('portfolio.portfolioFolderPlaceholder') : t('portfolio.portfolioFilePlaceholder')}\n            aria-label={t('action.name')}\n            value={portfolioEditName}\n            onKeyDown={handleKeyDown}\n            onChange={(e) => setPortfolioEditName(e.target.value)}\n            fillWidth\n            messageText={duplicatedMessage()}\n            message={isNameDuplicated(`${portfolioEditName}.${extension}`, id) ? 'error' : 'default'}\n          />\n\n          <div className=\"bookmark-outline-editing-controls\">\n            <Button\n              className=\"bookmark-outline-cancel-button\"\n              label={t('action.cancel')}\n              onClick={onCancelPortfolio}\n            />\n            {isAdding &&\n              <Button\n                className=\"bookmark-outline-save-button\"\n                label={t('action.add')}\n                isSubmitType={true}\n                onClick={onAddFolder}\n              />\n            }\n            {isPortfolioRenaming &&\n              <Button\n                className=\"bookmark-outline-save-button\"\n                label={t('action.save')}\n                isSubmitType={true}\n                disabled={isRenameButtonDisabled()}\n                onClick={onRenamePortfolioItem}\n              />\n            }\n          </div>\n        </>\n      }\n    </div>\n  );\n};\n\nPortfolioItemContent.propTypes = propTypes;\n\nexport default PortfolioItemContent;\n","import PortfolioItemContent from './PortfolioItemContent';\n\nexport default PortfolioItemContent;\n","import React, { forwardRef, useCallback, useContext, useImperativeHandle, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { ItemTypes, DropLocation, BUFFER_ROOM } from 'constants/dnd';\n\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport PortfolioContext from 'components/PortfolioPanel/PortfolioContext';\nimport PortfolioItemContent from 'components/PortfolioItemContent';\nimport { hasChildren } from 'helpers/portfolio';\n\nimport './PortfolioItem.scss';\n\nconst propTypes = {\n  portfolioItem: PropTypes.object.isRequired,\n  movePortfolioInward: PropTypes.func,\n  movePortfolioBeforeTarget: PropTypes.func,\n  movePortfolioAfterTarget: PropTypes.func,\n  connectDragSource: PropTypes.func,\n  connectDragPreview: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  isDragging: PropTypes.bool,\n  isDraggedUpwards: PropTypes.bool,\n  isDraggedDownwards: PropTypes.bool,\n};\n\nconst PortfolioItem = forwardRef(({\n  portfolioItem,\n  movePortfolioInward,\n  movePortfolioBeforeTarget,\n  movePortfolioAfterTarget,\n  connectDragSource,\n  connectDragPreview,\n  connectDropTarget,\n  isDragging,\n  isDraggedUpwards,\n  isDraggedDownwards,\n}, ref) => {\n  const {\n    setActivePortfolioItem,\n    isPortfolioItemActive,\n    isAddingNewFolder,\n    setAddingNewFolder,\n    openPortfolioItem,\n  } = useContext(PortfolioContext);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isRenaming, setIsRenaming] = useState(false);\n  const [isHovered, setHovered] = useState(false); // when the popup menu is open, the container will have a background\n  const isActive = isPortfolioItemActive(portfolioItem);\n\n  const elementRef = useRef(null);\n  connectDragSource(elementRef);\n  connectDragPreview(getEmptyImage(), { captureDraggingState: true });\n  connectDropTarget(elementRef);\n  const opacity = isDragging ? 0.5 : 1;\n  useImperativeHandle(ref, () => ({\n    getNode: () => elementRef.current,\n  }));\n\n  const togglePortfolioItem = useCallback(() => {\n    setIsExpanded((expand) => !expand);\n  }, []);\n\n  const onDoubleClick = useCallback(() => {\n    // If the item is in renaming-mode, double-clicking on it won't do anything\n    if (isRenaming) {\n      return;\n    }\n\n    openPortfolioItem(portfolioItem);\n    setActivePortfolioItem(portfolioItem.id);\n\n    // If the panel is in add-folder-mode, reset it when double-clicking on other items\n    if (isAddingNewFolder) {\n      setAddingNewFolder(false);\n    }\n  }, [isRenaming, portfolioItem, openPortfolioItem, setActivePortfolioItem, isAddingNewFolder, setAddingNewFolder]);\n\n  return (\n    <div\n      ref={(!isAddingNewFolder) ? elementRef : null}\n      className=\"outline-drag-container\"\n      style={{ opacity }}\n    >\n      <div className=\"outline-drag-line\" style={{ opacity: isDraggedUpwards ? 1 : 0 }} />\n      <DataElementWrapper\n        className={classNames({\n          'bookmark-outline-single-container': true,\n          'editing': isRenaming,\n          'default': !isRenaming,\n          'selected': isActive,\n          'hover': isHovered && !isActive,\n        })}\n        tabIndex={0}\n        onDoubleClick={onDoubleClick}\n      >\n        <div\n          className={classNames({\n            'outline-treeview-toggle': true,\n            expanded: isExpanded,\n          })}\n          style={{ marginLeft: portfolioItem.getNestedLevel() * 12 }}\n        >\n          {hasChildren(portfolioItem) &&\n            <Button\n              img=\"icon-chevron-right\"\n              tabIndex={0}\n              onClick={(e) => {\n                e.stopPropagation();\n                togglePortfolioItem();\n              }}\n            />\n          }\n        </div>\n\n        <PortfolioItemContent\n          portfolioItem={portfolioItem}\n          isPortfolioRenaming={isRenaming}\n          setPortfolioRenaming={setIsRenaming}\n          setIsHovered={setHovered}\n        />\n      </DataElementWrapper>\n\n      <div className=\"outline-drag-line\" style={{ opacity: isDraggedDownwards ? 1 : 0 }} />\n\n      {isExpanded &&\n        portfolioItem?.children.map((child) => (\n          <PortfolioItemNested\n            portfolioItem={child}\n            key={child.id}\n            movePortfolioInward={movePortfolioInward}\n            movePortfolioBeforeTarget={movePortfolioBeforeTarget}\n            movePortfolioAfterTarget={movePortfolioAfterTarget}\n          />\n        ))\n      }\n    </div>\n  );\n});\n\nPortfolioItem.propTypes = propTypes;\nPortfolioItem.displayName = 'PortfolioItem';\n\nconst PortfolioItemNested = DropTarget(\n  ItemTypes.PORTFOLIO,\n  {\n    hover(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n\n      const dragObject = dropTargetMonitor.getItem();\n      if (!dragObject) {\n        return;\n      }\n\n      const { dragPortfolioItem, dragSourceNode } = dragObject;\n      const { portfolioItem: dropPortfolioItem } = props;\n\n      const dropTargetNode = dropTargetContainer.getNode();\n      if (!dragSourceNode || !dropTargetNode) {\n        return;\n      }\n\n      const portfolioItemIsBeingDraggedIntoDescendant = dragSourceNode.contains(dropTargetNode);\n      if (portfolioItemIsBeingDraggedIntoDescendant) {\n        dragObject.dropTargetNode = undefined;\n        dragObject.dropLocation = DropLocation.INITIAL;\n        return;\n      }\n\n      dragObject.dropTargetNode = dropTargetNode;\n      const dragId = dragPortfolioItem.id;\n      const hoverId = dropPortfolioItem.id;\n      // do nothing if drag object and drop object are the same item\n      // depends on the data structure, could have more conditions here\n      if (dragId === hoverId) {\n        return;\n      }\n\n      const dropTargetBoundingRect = dropTargetNode.getBoundingClientRect();\n      const dropTargetVerticalMiddlePoint = (dropTargetBoundingRect.height / 2) + dropTargetBoundingRect.top;\n      const clientOffset = dropTargetMonitor.getClientOffset();\n      const dropTargetClientY = clientOffset.y;\n      switch (true) {\n        case dropPortfolioItem.isFolder && dropTargetClientY <= dropTargetVerticalMiddlePoint + BUFFER_ROOM && dropTargetClientY >= dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT;\n          if (dropTargetMonitor.isOver({ shallow: true })) {\n            dropTargetNode.classList.add('isNesting');\n          }\n          setTimeout(() => {\n            if (dragObject?.dropTargetNode !== dropTargetNode) {\n              dropTargetNode.classList.remove('isNesting');\n            }\n          }, 100);\n          break;\n        case dropTargetClientY > dropTargetVerticalMiddlePoint:\n          dragObject.dropLocation = DropLocation.BELOW_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        case dropTargetClientY < dropTargetVerticalMiddlePoint:\n          dragObject.dropLocation = DropLocation.ABOVE_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        default:\n          dragObject.dropLocation = DropLocation.INITIAL;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n      }\n    },\n    drop(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n      const dragObject = dropTargetMonitor.getItem();\n      const { dragPortfolioItem, dropTargetNode } = dragObject;\n      const { portfolioItem: dropPortfolioItem, movePortfolioInward, movePortfolioBeforeTarget, movePortfolioAfterTarget } = props;\n\n      if (!dropTargetNode) {\n        return;\n      }\n\n      switch (dragObject.dropLocation) {\n        case DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT:\n          movePortfolioInward(dragPortfolioItem, dropPortfolioItem);\n          break;\n        case DropLocation.ABOVE_TARGET:\n          movePortfolioBeforeTarget(dragPortfolioItem.id, dropPortfolioItem.id);\n          break;\n        case DropLocation.BELOW_TARGET:\n          movePortfolioAfterTarget(dragPortfolioItem.id, dropPortfolioItem.id);\n          break;\n        default:\n          break;\n      }\n      dropTargetNode.classList.remove('isNesting');\n      dragObject.dropLocation = DropLocation.INITIAL;\n    }\n  },\n  (connect, dropTargetState) => ({\n    connectDropTarget: connect.dropTarget(),\n    isDraggedUpwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.ABOVE_TARGET),\n    isDraggedDownwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.BELOW_TARGET),\n  })\n)(DragSource(\n  ItemTypes.PORTFOLIO,\n  {\n    beginDrag: (props, dragSourceMonitor, dragSourceContainer) => ({\n      sourceId: dragSourceMonitor.sourceId,\n      dragPortfolioItem: props.portfolioItem,\n      dragSourceNode: dragSourceContainer.getNode(),\n      dropLocation: DropLocation.INITIAL,\n    }),\n    canDrag: () => true,\n  },\n  (connect, dragSourceState) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: dragSourceState.isDragging(),\n  })\n)(PortfolioItem));\n\nPortfolioItemNested.propTypes = propTypes;\n\nexport default PortfolioItemNested;\n","import PortfolioItem from './PortfolioItem';\n\nexport default PortfolioItem;\n","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { ItemTypes } from 'constants/dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 99999,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nconst getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n  const { x, y } = currentOffset;\n  const transform = `translate(calc(${x}px - 50%), calc(${y}px - 100%))`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n};\n\nexport const PortfolioDragLayer = () => {\n  const {\n    itemType,\n    item,\n    isDragging,\n    initialOffset,\n    currentOffset\n  } = useDragLayer((dragLayerState) => ({\n    itemType: dragLayerState.getItemType(),\n    item: dragLayerState.getItem(),\n    isDragging: dragLayerState.isDragging(),\n    initialOffset: dragLayerState.getInitialSourceClientOffset(),\n    currentOffset: dragLayerState.getClientOffset(),\n  }));\n\n  const renderDragItemPreview = () => {\n    if (!item) {\n      return null;\n    }\n\n    const { dragPortfolioItem } = item;\n\n    if (itemType === ItemTypes.PORTFOLIO) {\n      return (\n        <>\n          {dragPortfolioItem.name}\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div\n        className=\"bookmark-outline-single-container preview\"\n        style={getItemStyles(initialOffset, currentOffset)}\n      >\n        {renderDragItemPreview()}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useRef, useCallback } from 'react';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DndProvider } from 'react-dnd';\nimport TouchBackEnd from 'react-dnd-touch-backend';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport selectors from 'selectors';\nimport actions from 'actions';\n\nimport Button from 'components/Button';\nimport PortfolioContext from './PortfolioContext';\nimport PortfolioItem from 'components/PortfolioItem';\nimport PortfolioItemContent from 'components/PortfolioItemContent';\nimport { PortfolioDragLayer } from './PortfolioDragLayer';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport { DropLocation as MoveDirection } from 'constants/dnd';\nimport { isMobileDevice } from 'helpers/device';\nimport { enableMultiTab } from 'helpers/TabManager';\nimport { addFile, deletePortfolioFile, downloadPortfolioFile, getPortfolioFiles, isOpenableFile, renamePortfolioFile, reorderPortfolioFile } from 'helpers/portfolio';\nimport core from 'core';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './PortfolioPanel.scss';\n\nconst PortfolioPanel = () => {\n  const [\n    isDisabled,\n    tabManager,\n    portfolioFiles,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.PORTFOLIO_PANEL),\n      selectors.getTabManager(state),\n      selectors.getPortfolio(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n\n  const [activePortfolioItem, setActivePortfolioItem] = useState(null);\n  const [isAddingNewFolder, setAddingNewFolder] = useState(false);\n\n  const fileInputRef = useRef(null);\n\n  const onAddFile = () => {\n    fileInputRef?.current?.click();\n  };\n\n  const addNewFile = async (e) => {\n    const files = e.target.files;\n    if (files.length === 1) {\n      const file = files[0];\n      const isNameConflicted = portfolioFiles.some((item) => item.name === file.name);\n      if (isNameConflicted) {\n        const message = t('portfolio.fileAlreadyExistsMessage', { fileName: file.name });\n        const title = t('portfolio.fileAlreadyExists');\n        const confirmBtnText = t('portfolio.reselect');\n        const warning = {\n          message,\n          title,\n          confirmBtnText,\n          onConfirm: () => onAddFile()\n        };\n        dispatch(actions.showWarningMessage(warning));\n      } else {\n        const doc = core.getDocument();\n        if (doc) {\n          const pdfDoc = await doc.getPDFDoc();\n          if (pdfDoc) {\n            await addFile(pdfDoc, file);\n            refreshPortfolio();\n          }\n        }\n      }\n    }\n  };\n\n  const addNewFolder = (name) => {\n    if (!name) {\n      name = t('message.untitled');\n    }\n    // TODO: add new folder to portfolio here\n    refreshPortfolio();\n  };\n\n  const renamePortfolioItem = async (id, newName) => {\n    await renamePortfolioFile(id, newName);\n    refreshPortfolio();\n  };\n\n  const refreshPortfolio = async () => {\n    dispatch(actions.setPortfolio(await getPortfolioFiles()));\n    setAddingNewFolder(false);\n  };\n\n  const removePortfolioItem = (id) => {\n    const fileToRemove = portfolioFiles.find((file) => file.id === id);\n    const message = t('portfolio.deletePortfolio', { fileName: fileToRemove.name });\n    const title = t('action.delete');\n    const confirmBtnText = t('action.delete');\n    const warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: async () => {\n        await deletePortfolioFile(id);\n        refreshPortfolio();\n      },\n    };\n    dispatch(actions.showWarningMessage(warning));\n  };\n\n  const openPortfolioItem = (portfolioItem) => {\n    if (isOpenableFile(portfolioItem.extension)) {\n      dispatch(enableMultiTab());\n      dispatch(actions.addPortfolioTab(portfolioItem));\n    }\n  };\n\n  const isNameDuplicated = (newName, id) => {\n    const otherFiles = portfolioFiles.filter((file) => file.id !== id);\n    return otherFiles.some((file) => file.name === newName);\n  };\n\n  const downloadPortfolioItem = async (portfolioItem) => {\n    dispatch(actions.openElement(DataElements.LOADING_MODAL));\n    await downloadPortfolioFile(portfolioItem);\n    dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n  };\n\n  const movePortfolioInward = (dragItem, dropItem) => {\n    /* eslint-disable no-console */\n    // no-console function is empty for now\n    console.log(dragItem.name, 'Inward', dropItem.name);\n    /* eslint-enable no-console */\n  };\n\n  const moveFileInArray = async (portfolioFiles, dragItemId, dropItemId, moveDirection) => {\n    // clone to another array to avoid modifying portfolioFiles\n    const fileArray = [...portfolioFiles];\n    const fromIndex = fileArray.findIndex((file) => file.id === dragItemId);\n    const dropItemIndex = fileArray.findIndex((file) => file.id === dropItemId);\n    let moveToIndex = dropItemIndex;\n    // If move 1 to before 3, we want to delete 1 and re-insert at index (3-1=2)\n    if (moveDirection === MoveDirection.ABOVE_TARGET && fromIndex < dropItemIndex) {\n      moveToIndex = dropItemIndex - 1;\n    }\n    // If move 3 to after 1, we want to delete 3 and re-insert at index (1+1=2)\n    if (moveDirection === MoveDirection.BELOW_TARGET && fromIndex > dropItemIndex) {\n      moveToIndex = dropItemIndex + 1;\n    }\n\n    // Move elements in an array based on index\n    fileArray.splice(moveToIndex, 0, fileArray.splice(fromIndex, 1)[0]);\n    for (const [index, file] of fileArray.entries()) {\n      if (file.order !== index) {\n        await reorderPortfolioFile(file.id, index);\n      }\n    }\n  };\n\n  const movePortfolioBeforeTarget = useCallback(async (dragItemId, dropItemId) => {\n    await moveFileInArray(portfolioFiles, dragItemId, dropItemId, MoveDirection.ABOVE_TARGET);\n    refreshPortfolio();\n  }, [portfolioFiles]);\n\n  const movePortfolioAfterTarget = useCallback(async (dragItemId, dropItemId) => {\n    await moveFileInArray(portfolioFiles, dragItemId, dropItemId, MoveDirection.BELOW_TARGET);\n    refreshPortfolio();\n  }, [portfolioFiles]);\n\n  return isDisabled ? null : (\n    <DataElementWrapper\n      className=\"Panel PortfolioPanel bookmark-outline-panel\"\n      dataElement={DataElements.PORTFOLIO_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('portfolio.portfolioPanelTitle')}\n        </div>\n\n        <div className=\"portfolio-panel-control\">\n          <Button\n            className=\"portfolio-panel-control-button\"\n            dataElement={DataElements.PORTFOLIO_ADD_FILE}\n            img=\"icon-add-file\"\n            title={t('portfolio.addFile')}\n            disabled={isAddingNewFolder}\n            onClick={onAddFile}\n          />\n\n          <input\n            ref={fileInputRef}\n            style={{ display: 'none' }}\n            type=\"file\"\n            onChange={(event) => {\n              addNewFile(event);\n              event.target.value = null;\n            }}\n          />\n        </div>\n      </div>\n\n      <PortfolioContext.Provider\n        value={{\n          activePortfolioItem,\n          setActivePortfolioItem,\n          isPortfolioItemActive: (portfolioItem) => portfolioItem?.id === activePortfolioItem,\n          isAddingNewFolder,\n          setAddingNewFolder,\n          addNewFolder,\n          renamePortfolioItem,\n          removePortfolioItem,\n          openPortfolioItem,\n          downloadPortfolioItem,\n          refreshPortfolio,\n          isNameDuplicated,\n          tabManager,\n        }}\n      >\n        <DndProvider backend={isMobileDevice ? TouchBackEnd : HTML5Backend}>\n          <PortfolioDragLayer />\n\n          <div className=\"bookmark-outline-row\">\n            {portfolioFiles.map((item) => (\n              <PortfolioItem\n                key={item.id}\n                portfolioItem={item}\n                movePortfolioInward={movePortfolioInward}\n                movePortfolioBeforeTarget={movePortfolioBeforeTarget}\n                movePortfolioAfterTarget={movePortfolioAfterTarget}\n              />\n            ))}\n\n            {isAddingNewFolder && (\n              <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n                <PortfolioItemContent\n                  name={''}\n                  id={'0'}\n                  isFolder\n                  isAdding\n                />\n              </DataElementWrapper>\n            )}\n          </div>\n        </DndProvider>\n      </PortfolioContext.Provider>\n    </DataElementWrapper>\n  );\n};\n\nexport default PortfolioPanel;\n","import PortfolioPanel from './PortfolioPanel';\n\nexport default PortfolioPanel;\n","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { ItemTypes } from 'constants/dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 99999,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nconst getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n  const { x, y } = currentOffset;\n  const transform = `translate(calc(${x}px - 50%), calc(${y}px - 100%))`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n};\n\nexport const OutlinesDragLayer = () => {\n  const {\n    itemType,\n    item,\n    isDragging,\n    initialOffset,\n    currentOffset\n  } = useDragLayer((dragLayerState) => ({\n    itemType: dragLayerState.getItemType(),\n    item: dragLayerState.getItem(),\n    isDragging: dragLayerState.isDragging(),\n    initialOffset: dragLayerState.getInitialSourceClientOffset(),\n    currentOffset: dragLayerState.getClientOffset(),\n  }));\n\n  const renderDragItem = () => {\n    if (!item) {\n      return null;\n    }\n\n    const { dragOutline } = item;\n\n    switch (itemType) {\n      case ItemTypes.OUTLINE:\n        return (\n          <>\n            {dragOutline.getName()}\n          </>\n        );\n      default:\n        return null;\n    }\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div\n        className=\"bookmark-outline-single-container preview\"\n        style={getItemStyles(initialOffset, currentOffset)}\n      >\n        {renderDragItem()}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useLayoutEffect, useRef, useEffect } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DndProvider } from 'react-dnd';\nimport { isMobileDevice } from 'helpers/device';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport TouchBackEnd from 'react-dnd-touch-backend';\nimport OutlineControls from '../OutlineControls';\nimport Outline from 'components/Outline';\nimport OutlineContext from 'components/Outline/Context';\nimport Button from 'components/Button';\nimport OutlineContent from 'components/OutlineContent';\nimport DataElementWrapper from 'components/DataElementWrapper';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport DataElements from 'constants/dataElement';\nimport defaultTool from 'constants/defaultTool';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './OutlinesPanel.scss';\nimport { OutlinesDragLayer } from './OutlinesDragLayer';\n\nconst OutlinesPanel = () => {\n  const [\n    isDisabled,\n    outlines,\n    outlineControlVisibility,\n    outlineEditingEnabled,\n    shouldAutoExpandOutlines,\n    currentPage,\n    pageLabels,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.OUTLINE_PANEL),\n      selectors.getOutlines(state),\n      selectors.isOutlineControlVisible(state),\n      selectors.getOutlineEditingEnabled(state),\n      selectors.shouldAutoExpandOutlines(state),\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n    ],\n    shallowEqual,\n  );\n\n  const defaultDestText = 'Full Page';\n  const areaDestinationText = 'Area Selection';\n  const defaultDestCoord = { x: 0, y: 0 };\n\n  const [currentDestText, setCurrentDestText] = useState(defaultDestText);\n  const [currentDestCoord, setCurrentDestCoord] = useState(defaultDestCoord);\n  const [currentDestPage, setCurrentDestPage] = useState(currentPage);\n  const [isOutlineEditable, setOutlineEditable] = useState(false);\n  const [activeOutlinePath, setActiveOutlinePath] = useState(null);\n  const [isAddingNewOutline, setAddingNewOutline] = useState(false);\n  const [editingOutlines, setEditingOutlines] = useState({});\n  const [isAnyOutlineRenaming, setAnyOutlineRenaming] = useState(false);\n  const [isMultiSelectMode, setMultiSelectMode] = useState(false);\n  const [selectedOutlines, setSelectedOutlines] = useState([]);\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const nextPathRef = useRef(null);\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n  const tool = core.getTool(TOOL_NAME);\n\n  useLayoutEffect(() => {\n    setAddingNewOutline(false);\n\n    if (nextPathRef.current !== null) {\n      setActiveOutlinePath(nextPathRef.current);\n      nextPathRef.current = null;\n    }\n\n    const shouldResetMultiSelectedMode = outlines.length === 0;\n    if (shouldResetMultiSelectedMode) {\n      setMultiSelectMode(false);\n    }\n  }, [outlines]);\n\n  useEffect(() => {\n    setOutlineEditable(core.isFullPDFEnabled() && outlineEditingEnabled);\n  }, [outlineEditingEnabled]);\n\n  useEffect(() => {\n    const isAnyEditing = Object.values(editingOutlines).some((value) => value);\n    setAnyOutlineRenaming(isAnyEditing);\n  }, [editingOutlines, outlines]);\n\n  useEffect(() => {\n    const onSetDestination = (annotation) => {\n      setCurrentDestText(annotation['IsText'] ? annotation.getCustomData('trn-annot-preview') : areaDestinationText);\n      setCurrentDestCoord({ x: annotation['X'], y: annotation['Y'] });\n      setCurrentDestPage(annotation['PageNumber']);\n    };\n\n    const onOutlinesBookmarksChanged = () => {\n      core.getOutlines((outlines) => {\n        dispatch(actions.setOutlines(outlines));\n      });\n    };\n\n    const onDocumentLoaded = () => {\n      setActiveOutlinePath(null);\n    };\n\n    core.addEventListener('outlineSetDestination', onSetDestination);\n    window.addEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    return () => {\n      core.removeEventListener('outlineSetDestination', onSetDestination);\n      window.removeEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n    };\n  }, []);\n\n  const getCurrentDestViewerCoord = (pageNum, { x, y }) => {\n    const doc = core.getDocumentViewer().getDocument();\n    // convert annotation coordinates to viewerCoordinates because PDFNet used PDF coordinates\n    return doc.getViewerCoordinates(pageNum, x, y);\n  };\n\n  const addNewOutline = async (name) => {\n    let { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    let nextPath;\n    let outlineName = name;\n    if (![defaultDestText, areaDestinationText].includes(currentDestText) && !name) {\n      outlineName = currentDestText.slice(0, 40);\n    } else if (!name) {\n      outlineName = t('message.untitled');\n    }\n\n    const doc = core.getDocumentViewer().getDocument();\n\n    const pageRotation = doc.getPageRotation(currentDestPage) / 90;\n    if (pageRotation === window.Core.PageRotation.E_90 || pageRotation === window.Core.PageRotation.E_270) {\n      const tmp = x;\n      x = y;\n      y = tmp;\n    }\n    if (outlines.length === 0) {\n      nextPath = await outlineUtils.addRootOutline(outlineName, currentDestPage, x, y, 0);\n    } else {\n      nextPath = await outlineUtils.addNewOutline(outlineName, activeOutlinePath, currentDestPage, x, y, 0);\n    }\n\n    nextPathRef.current = nextPath;\n    updateOutlines();\n  };\n\n  const updateOutlines = () => {\n    core.getOutlines((outlines) => {\n      dispatch(actions.setOutlines(outlines));\n    });\n    clearOutlineDestination();\n    setEditingOutlines({});\n  };\n\n  const getPath = (outline) => {\n    return outlineUtils.getPath(outline);\n  };\n\n  const clearOutlineDestination = () => {\n    core.setToolMode(defaultTool);\n    setCurrentDestText(defaultDestText);\n    setCurrentDestCoord(defaultDestCoord);\n    setCurrentDestPage(currentPage);\n    tool.clearOutlineDestination();\n  };\n\n  const updateOutlineDest = async (outlinePath) => {\n    const { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    await outlineUtils.setOutlineDestination(outlinePath, currentDestPage, x, y, 0);\n    nextPathRef.current = outlinePath;\n    updateOutlines();\n  };\n\n  useEffect(() => {\n    if (currentDestText === defaultDestText) {\n      setCurrentDestPage(currentPage);\n    }\n  }, [currentDestText, currentPage]);\n\n  useEffect(() => {\n    if (isAddingNewOutline) {\n      core.setToolMode(TOOL_NAME);\n    } else {\n      clearOutlineDestination();\n    }\n  }, [isAddingNewOutline]);\n\n  const generalMoveOutlineAction = (dragOutline, dropOutline, moveDirection) => {\n    const dragPath = getPath(dragOutline);\n    const dropPath = getPath(dropOutline);\n    setSelectedOutlines([]);\n\n    moveDirection.call(outlineUtils, dragPath, dropPath).then((path) => {\n      updateOutlines();\n      nextPathRef.current = path;\n    });\n    core.goToOutline(dragOutline);\n  };\n\n  const moveOutlineAfterTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineAfterTarget);\n  };\n\n  const moveOutlineBeforeTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineBeforeTarget);\n  };\n\n  const moveOutlineInward = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineInTarget);\n  };\n\n  const renameOutline = async (outlinePath, newName) => {\n    await outlineUtils.setOutlineName(outlinePath, newName);\n    updateOutlines();\n  };\n\n  const removeOutlines = async (outlinesToRemove) => {\n    outlinesToRemove.sort().reverse();\n    const confirmationWarning = {\n      message: t('warning.deleteOutline.message'),\n      title: t('warning.deleteOutline.title'),\n      confirmBtnText: t('action.delete'),\n      onConfirm: async () => {\n        for (let i = 0; i < outlinesToRemove.length; i++) {\n          const fullIndex = outlinesToRemove[i];\n          await outlineUtils.deleteOutline(fullIndex);\n        }\n        updateOutlines();\n        setActiveOutlinePath(null);\n        setSelectedOutlines([]);\n      },\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"Panel OutlinesPanel bookmark-outline-panel\"\n      data-element={DataElements.OUTLINE_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.outlinesPanel')}\n        </div>\n        {isOutlineEditable &&\n          (isMultiSelectMode ?\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.done')}\n              disabled={isAddingNewOutline}\n              onClick={() => setMultiSelectMode(false)}\n            />\n            :\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.edit')}\n              disabled={isAddingNewOutline || outlines.length === 0}\n              onClick={() => {\n                setMultiSelectMode(true);\n                setSelectedOutlines([]);\n              }}\n            />\n          )\n        }\n      </div>\n      <OutlineContext.Provider\n        value={{\n          currentDestPage: pageLabels[currentDestPage - 1],\n          currentDestText,\n          setActiveOutlinePath,\n          activeOutlinePath,\n          isOutlineActive: (outline) => getPath(outline) === activeOutlinePath,\n          setAddingNewOutline,\n          isAddingNewOutline,\n          setEditingOutlines,\n          editingOutlines,\n          selectedOutlines,\n          isAnyOutlineRenaming,\n          isMultiSelectMode,\n          shouldAutoExpandOutlines,\n          isOutlineEditable,\n          addNewOutline,\n          updateOutlines,\n          renameOutline,\n          updateOutlineDest,\n          removeOutlines,\n        }}\n      >\n        {outlineControlVisibility && <OutlineControls />}\n        <DndProvider backend={isMobileDevice ? TouchBackEnd : HTML5Backend}>\n          <OutlinesDragLayer />\n\n          <div className=\"bookmark-outline-row\">\n            {!isAddingNewOutline && outlines.length === 0 &&\n              <div className=\"msg msg-no-bookmark-outline\">{t('message.noOutlines')}</div>\n            }\n            {outlines.map((outline) => (\n              <Outline\n                key={outlineUtils.getOutlineId(outline)}\n                outline={outline}\n                setMultiSelected={(path, value) => {\n                  if (selectedOutlines.find((outline) => outline === path)) {\n                    if (!value) {\n                      setSelectedOutlines(selectedOutlines.filter((outline) => outline !== path));\n                    }\n                  } else {\n                    if (value) {\n                      setSelectedOutlines([...selectedOutlines, path]);\n                    }\n                  }\n                }}\n                moveOutlineInward={moveOutlineInward}\n                moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n                moveOutlineAfterTarget={moveOutlineAfterTarget}\n              />\n            ))}\n            {isAddingNewOutline && activeOutlinePath === null && (\n              <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n                <OutlineContent\n                  isAdding={true}\n                  text={''}\n                  onCancel={() => setAddingNewOutline(false)}\n                />\n              </DataElementWrapper>\n            )}\n          </div>\n        </DndProvider>\n\n        {isOutlineEditable &&\n          <DataElementWrapper\n            className=\"bookmark-outline-footer\"\n            dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON_CONTAINER}\n          >\n            {isMultiSelectMode ?\n              <>\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-menu-add\"\n                  disabled={selectedOutlines.length > 0 || isAddingNewOutline}\n                  onClick={() => setAddingNewOutline(true)}\n                />\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-delete-line\"\n                  disabled={selectedOutlines.length === 0}\n                  onClick={() => removeOutlines(selectedOutlines)}\n                />\n              </>\n              :\n              <Button\n                className=\"bookmark-outline-control-button add-new-button\"\n                img=\"icon-menu-add\"\n                dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON}\n                disabled={isAddingNewOutline}\n                label={`${t('action.add')} ${t('component.outlinePanel')}`}\n                onClick={() => setAddingNewOutline(true)}\n              />\n            }\n          </DataElementWrapper>\n        }\n      </OutlineContext.Provider>\n    </div>\n  );\n};\n\nexport default React.memo(OutlinesPanel);\n","import OutlinesPanel from './OutlinesPanel';\n\nexport default OutlinesPanel;\n","import React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport LeftPanelTabs from 'components/LeftPanelTabs';\nimport PortfolioPanel from 'components/PortfolioPanel';\nimport ThumbnailsPanel from 'components/ThumbnailsPanel';\nimport OutlinesPanel from 'components/OutlinesPanel';\nimport BookmarksPanel from 'components/BookmarksPanel';\nimport LayersPanel from 'components/LayersPanel';\nimport FileAttachmentPanel from 'components/FileAttachmentPanel';\nimport SignaturePanel from 'components/SignaturePanel';\nimport CustomElement from 'components/CustomElement';\nimport ResizeBar from 'components/ResizeBar';\nimport Icon from 'components/Icon';\nimport LazyLoadWrapper, { LazyLoadComponents } from 'components/LazyLoadWrapper';\n\nimport core from 'core';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { isMobileSize, isTabletAndMobileSize } from 'helpers/getDeviceSize';\nimport { isIE } from 'helpers/device';\nimport DataElements from 'constants/dataElement';\n\nimport './LeftPanel.scss';\n\nconst LeftPanel = () => {\n  const isMobile = isMobileSize();\n\n  const isTabletAndMobile = isTabletAndMobileSize();\n\n  const [\n    currentToolbarGroup,\n    isHeaderOpen,\n    isToolsHeaderOpen,\n    isOfficeEditorToolsHeaderOpen,\n    isOpen,\n    isDisabled,\n    activePanel,\n    customPanels,\n    currentWidth,\n    notesInLeftPanel,\n    isInDesktopOnlyMode,\n    bookmarks,\n    isBookmarkPanelEnabled,\n    isBookmarkIconShortcutVisible,\n    isMultiTabActive,\n    isLogoBarEnabled,\n    featureFlags,\n    topHeadersHeight,\n    bottomHeadersHeight,\n    portfolioFiles,\n  ] = useSelector(\n    (state) => [\n      selectors.getCurrentToolbarGroup(state),\n      selectors.isElementOpen(state, 'header'),\n      selectors.isElementOpen(state, 'toolsHeader'),\n      selectors.isElementOpen(state, 'officeEditorToolsHeader'),\n      selectors.isElementOpen(state, DataElements.LEFT_PANEL),\n      selectors.isElementDisabled(state, DataElements.LEFT_PANEL),\n      selectors.getActiveLeftPanel(state),\n      selectors.getCustomPanels(state),\n      selectors.getLeftPanelWidth(state),\n      selectors.getNotesInLeftPanel(state),\n      selectors.isInDesktopOnlyMode(state),\n      selectors.getBookmarks(state),\n      !selectors.isElementDisabled(state, DataElements.BOOKMARK_PANEL),\n      selectors.isBookmarkIconShortcutVisible(state),\n      selectors.getIsMultiTab(state),\n      !selectors.isElementDisabled(state, DataElements.LOGO_BAR),\n      selectors.getFeatureFlags(state),\n      selectors.getTopHeadersHeight(state),\n      selectors.getBottomHeadersHeight(state),\n      selectors.getPortfolio(state),\n    ],\n    shallowEqual,\n  );\n\n  const minWidth = 264;\n  const dispatch = useDispatch();\n  const [t] = useTranslation();\n\n  const onDrop = (e) => {\n    // this is mainly for the thumbnail panel, to prevent the broswer from loading a document that dropped in\n    e.preventDefault();\n  };\n\n  const onDragOver = (e) => {\n    // when dragging over the \"LeftPanel\", change the cursor to \"Move\" from \"Copy\"\n    e.preventDefault();\n  };\n\n  const getDisplay = (panel) => (panel === activePanel ? 'flex' : 'none');\n\n  let style = {};\n  if (isInDesktopOnlyMode || !isMobile) {\n    style = { width: `${currentWidth}px`, minWidth: `${currentWidth}px` };\n  }\n\n  const isVisible = !(!isOpen || isDisabled);\n\n  useEffect(() => {\n    if (isBookmarkPanelEnabled) {\n      core.setBookmarkShortcutToggleOnFunction((pageIndex) => {\n        dispatch(actions.addBookmark(pageIndex, t('message.untitled')));\n      });\n      core.setBookmarkShortcutToggleOffFunction((pageIndex) => {\n        dispatch(actions.removeBookmark(pageIndex));\n      });\n      core.setUserBookmarks(Object.keys(bookmarks).map((pageIndex) => parseInt(pageIndex, 10)));\n    }\n  }, [isBookmarkPanelEnabled, bookmarks]);\n\n  useEffect(() => {\n    if (isBookmarkPanelEnabled && isBookmarkIconShortcutVisible) {\n      core.setBookmarkIconShortcutVisibility(true);\n    } else {\n      core.setBookmarkIconShortcutVisibility(false);\n    }\n  }, [isBookmarkPanelEnabled, isBookmarkIconShortcutVisible]);\n\n  // TODO: For whoever is refactoring the LeftPanel to make it generic, review if this is the best approach\n  // Once we move to the new UI we can remove the legacy stuff\n  const legacyToolsHeaderOpen = isToolsHeaderOpen && currentToolbarGroup !== 'toolbarGroup-View';\n  const legacyAllHeadersHidden = !isHeaderOpen && !legacyToolsHeaderOpen;\n\n  const { customizableUI } = featureFlags;\n  const wrapperStyle = {\n    // prevent panel from appearing until scss is loaded\n    display: 'none',\n  };\n  // Calculating its height according to the existing horizontal modular headers\n  if (customizableUI) {\n    const horizontalHeadersHeight = topHeadersHeight + bottomHeadersHeight;\n    wrapperStyle['height'] = `calc(100% - ${horizontalHeadersHeight}px)`;\n  }\n\n  return (\n    <div\n      className={classNames({\n        Panel: true,\n        LeftPanel: true,\n        'closed': !isVisible,\n        'tools-header-open': legacyToolsHeaderOpen || isOfficeEditorToolsHeaderOpen,\n        'tools-header-and-header-hidden': legacyAllHeadersHidden,\n        'thumbnail-panel-active': activePanel === 'thumbnailsPanel',\n        'outlines-panel-active': activePanel === 'outlinesPanel',\n        'multi-tab-active': isMultiTabActive,\n        'logo-bar-enabled': isLogoBarEnabled,\n      })}\n      onDrop={onDrop}\n      onDragOver={onDragOver}\n      data-element={DataElements.LEFT_PANEL}\n      style={wrapperStyle}\n    >\n      <div\n        className=\"left-panel-container\"\n        style={style}\n      >\n        {!isInDesktopOnlyMode && isMobile &&\n          <div\n            className=\"close-container\"\n          >\n            <div\n              className=\"close-icon-container\"\n              onClick={() => {\n                dispatch(actions.closeElements(['leftPanel']));\n              }}\n            >\n              <Icon\n                glyph=\"ic_close_black_24px\"\n                className=\"close-icon\"\n              />\n            </div>\n          </div>}\n        <div className=\"left-panel-header\">\n          <LeftPanelTabs showPortfolio={portfolioFiles.length > 0}/>\n        </div>\n        {activePanel === DataElements.PORTFOLIO_PANEL\n          && core.isFullPDFEnabled()\n          && portfolioFiles.length > 0\n          && <PortfolioPanel />}\n        {activePanel === 'thumbnailsPanel' && <ThumbnailsPanel />}\n        {activePanel === 'outlinesPanel' && <OutlinesPanel />}\n        {activePanel === 'bookmarksPanel' && <BookmarksPanel />}\n        {activePanel === 'layersPanel' && <LayersPanel />}\n        {core.isFullPDFEnabled() && activePanel === 'signaturePanel' && <SignaturePanel />}\n        {activePanel === 'attachmentPanel' && <FileAttachmentPanel />}\n        {notesInLeftPanel && activePanel === 'notesPanel' &&\n          <LazyLoadWrapper\n            Component={LazyLoadComponents.NotesPanel}\n            dataElement={DataElements.NOTES_PANEL}\n            currentLeftPanelWidth={currentWidth}\n          />}\n        {customPanels.map(({ panel }, index) => (\n          <CustomElement\n            key={panel.dataElement || index}\n            className={`Panel ${panel.dataElement}`}\n            display={getDisplay(panel.dataElement)}\n            dataElement={panel.dataElement}\n            render={panel.render}\n          />\n        ))}\n      </div>\n      {(isInDesktopOnlyMode || !isTabletAndMobile) &&\n        <ResizeBar\n          dataElement=\"leftPanelResizeBar\"\n          minWidth={minWidth}\n          onResize={(_width) => {\n            let maxAllowedWidth = window.innerWidth;\n            // there will be a scroll bar in IE, so we don't allow 100% page width\n            if (isIE) {\n              maxAllowedWidth -= 30;\n            }\n            dispatch(actions.setLeftPanelWidth(Math.min(_width, maxAllowedWidth)));\n          }}\n        />}\n    </div>\n  );\n};\n\nexport default LeftPanel;\n","import LeftPanel from './LeftPanel';\n\nexport default LeftPanel;","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}"],"sourceRoot":""}